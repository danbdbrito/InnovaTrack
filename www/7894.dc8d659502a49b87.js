"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7894],{7894:(z,v,l)=>{l.r(v),l.d(v,{SignupPageModule:()=>E});var C=l(177),s=l(4341),a=l(4742),m=l(9384),f=l(467),e=l(3953),h=l(2543);let P=(()=>{var n;class i{constructor(t){this.authService=t}executeSignUp(t,o,c){var g=this;return(0,f.A)(function*(){try{return(yield g.authService.registerUser(t,o,c))?{success:!0,message:"Registro exitoso"}:{success:!1,message:"Error al crear el usuario"}}catch(d){let u="Error en el registro";return"auth/email-already-in-use"===d.code&&(u="Este correo ya est\xe1 registrado."),{success:!1,message:u}}})()}}return(n=i).\u0275fac=function(t){return new(t||n)(e.KVO(h._))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();var x=l(3614);const _=()=>["/login"];function b(n,i){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Se requiere el nombre completo "),e.k0s())}function F(n,i){if(1&n&&(e.j41(0,"div"),e.DNE(1,b,2,0,"ion-text",13),e.k0s()),2&n){const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==r.errorControl.fullname.errors?null:r.errorControl.fullname.errors.required)}}function y(n,i){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Se requiere su correo "),e.k0s())}function M(n,i){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Su correo debe ser valido "),e.k0s())}function S(n,i){if(1&n&&(e.j41(0,"div"),e.DNE(1,y,2,0,"ion-text",13)(2,M,2,0,"ion-text",13),e.k0s()),2&n){const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==r.errorControl.email.errors?null:r.errorControl.email.errors.required),e.R7$(),e.Y8G("ngIf",null==r.errorControl.email.errors?null:r.errorControl.email.errors.pattern)}}function k(n,i){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Se requiere su contrase\xf1a "),e.k0s())}function O(n,i){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Su contrase\xf1a debe contar con al menos Un Caracter, Una letra Mayuscula, Un numero, Al menos 8 digitos "),e.k0s())}function j(n,i){if(1&n&&(e.j41(0,"div"),e.DNE(1,k,2,0,"ion-text",13)(2,O,2,0,"ion-text",13),e.k0s()),2&n){const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==r.errorControl.password.errors?null:r.errorControl.password.errors.required),e.R7$(),e.Y8G("ngIf",null==r.errorControl.password.errors?null:r.errorControl.password.errors.pattern)}}const U=[{path:"",component:(()=>{var n;class i{constructor(t,o,c,g,d,u,p){this.formBuilder=t,this.loadingCtrl=o,this.authService=c,this.router=g,this.toastController=d,this.signUpUseCase=u,this.userProfileService=p}ngOnInit(){this.regForm=this.formBuilder.group({fullname:["",[s.k0.required]],email:["",[s.k0.required,s.k0.email,s.k0.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$")]],password:["",[s.k0.required,s.k0.pattern("(?=.*d)(?=.*[a-z])(?=.*[0-8])(?=.*[A-Z]).{8,}")]]})}presentToast(t){var o=this;return(0,f.A)(function*(){(yield o.toastController.create({message:t,duration:2e3,position:"top"})).present()})()}get errorControl(){var t;return null===(t=this.regForm)||void 0===t?void 0:t.controls}signUp(){var t=this;return(0,f.A)(function*(){var o;const c=yield t.loadingCtrl.create();if(yield c.present(),null!==(o=t.regForm)&&void 0!==o&&o.valid){const{email:g,password:d,fullname:u}=t.regForm.value;try{const p=yield t.signUpUseCase.executeSignUp(g,d,u);if(c.dismiss(),p.success){const G=yield t.authService.getProfile();yield t.userProfileService.createUserProfile(G.uid,g,u),t.router.navigate(["/home"])}else t.presentToast(p.message)}catch(p){c.dismiss(),t.presentToast("Error al registrar el usuario: "+p.message)}}else c.dismiss(),t.presentToast("Formulario inv\xe1lido, Por favor, llene los campos correctamente.")})()}}return(n=i).\u0275fac=function(t){return new(t||n)(e.rXU(s.ok),e.rXU(a.Xi),e.rXU(h._),e.rXU(m.Ix),e.rXU(a.K_),e.rXU(P),e.rXU(x.c))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-signup"]],decls:36,vars:7,consts:[[3,"fullscreen"],[1,"header"],[1,"title"],[1,"subTitle"],[1,"bird-icon"],[1,"circle1"],["src","assets/Bird-icon.png","alt","bird",1,"bird"],[1,"circle2"],["src","assets/bosque.png","alt","bosque",1,"bosque"],["novalidate","",3,"formGroup"],[1,"ion-padding"],["formControlName","fullname","placeholder","Nombre",1,"input"],["name","person-outline"],[4,"ngIf"],["formControlName","email","placeholder","Correo",1,"input"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"input"],["name","lock-closed-outline"],[1,"signupLink"],[3,"routerLink"],["vertical","bottom","horizontal","end",2,"margin-bottom","30px"],[3,"click"],["name","chevron-forward"],[1,"content-wrapper"],["src","assets/planta-izq.png","alt","Planta",1,"planta"],["src","assets/planta-der.png","alt","Planta",1,"planta"]],template:function(t,o){1&t&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-title",2),e.EFF(3,"Bienvenido"),e.k0s(),e.j41(4,"p",3),e.EFF(5," Registre su usuario para crear su cuenta"),e.k0s()(),e.j41(6,"div",4)(7,"div",5),e.nrm(8,"img",6),e.k0s(),e.j41(9,"div",7),e.nrm(10,"img",8),e.k0s()(),e.j41(11,"form",9)(12,"div",10)(13,"ion-item"),e.nrm(14,"ion-input",11)(15,"ion-icon",12),e.k0s(),e.DNE(16,F,2,1,"div",13),e.j41(17,"ion-item"),e.nrm(18,"ion-input",14)(19,"ion-icon",12),e.k0s(),e.DNE(20,S,3,2,"div",13),e.j41(21,"ion-item"),e.nrm(22,"ion-input",15)(23,"ion-icon",16),e.k0s(),e.DNE(24,j,3,2,"div",13),e.j41(25,"div",17)(26,"p"),e.EFF(27,"\xbfYa es usuario?"),e.j41(28,"a",18),e.EFF(29," Iniciar sesion"),e.k0s()()()(),e.j41(30,"ion-fab",19)(31,"ion-fab-button",20),e.bIt("click",function(){return o.signUp()}),e.nrm(32,"ion-icon",21),e.k0s()()(),e.j41(33,"div",22),e.nrm(34,"img",23)(35,"img",24),e.k0s()()),2&t&&(e.Y8G("fullscreen",!0),e.R7$(11),e.Y8G("formGroup",o.regForm),e.R7$(5),e.Y8G("ngIf",(null==o.regForm.controls?null:o.regForm.controls.fullname.touched)&&(null==o.regForm.controls?null:o.regForm.controls.fullname.invalid)),e.R7$(4),e.Y8G("ngIf",(null==o.regForm.controls?null:o.regForm.controls.email.touched)&&(null==o.regForm.controls?null:o.regForm.controls.email.invalid)),e.R7$(4),e.Y8G("ngIf",(null==o.regForm.controls?null:o.regForm.controls.password.touched)&&(null==o.regForm.controls?null:o.regForm.controls.password.invalid)),e.R7$(4),e.Y8G("routerLink",e.lJ4(6,_)))},dependencies:[C.bT,s.qT,s.BC,s.cb,a.W9,a.Q8,a.YW,a.iq,a.$w,a.uz,a.IO,a.BC,a.Gw,a.oY,s.j4,s.JD,m.Wk],styles:["ion-content[_ngcontent-%COMP%]{position:relative;--background: linear-gradient(180deg, #92C5DA, #C1E4D3, #7EAEAE);box-shadow:0 10px 30px #0000001a;display:flex;justify-content:center;align-items:center;flex-direction:column}.header[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;text-align:center}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;margin:0}.header[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{color:gray;font-size:.9rem}.bird-icon[_ngcontent-%COMP%]{display:flex;width:100%;height:150px;z-index:10;justify-content:center;align-items:center;border:auto;margin-bottom:20px;position:relative}.bird-icon[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{z-index:2;width:150px;height:150px;--background-color: transparent;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;padding-top:15px}.bird-icon[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{z-index:1;width:150px;height:150px;background:linear-gradient(170deg,#92c5da,#f6fbee,#f6fbee);border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 15px #0006;position:absolute;overflow:hidden}.bird-icon[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]   img.bosque[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:auto}.ion-padding[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}ion-item[_ngcontent-%COMP%]{--background: #f1f1f1;border-radius:10px;margin-bottom:16px;width:95%;display:flex;align-items:center;color:gray;z-index:10}ion-icon[_ngcontent-%COMP%]{color:gray}.input[_ngcontent-%COMP%]{font-size:1rem;text-align:center;z-index:10}.signupLink[_ngcontent-%COMP%], .forgotPassword[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;text-align:center;z-index:10}.signupLink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .forgotPassword[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.signupLink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .forgotPassword[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4a4a4a;text-decoration:none}ion-fab[_ngcontent-%COMP%]{position:absolute;bottom:20px;display:flex;width:100%;justify-content:center}ion-fab-button[_ngcontent-%COMP%]{color:gray;--background: linear-gradient(180deg,#C1E4D3, #7EAEAE);z-index:10}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-height:243px;width:100%;position:absolute;bottom:0;z-index:1;object-fit:none}"]}),i})()}];let w=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[m.iI.forChild(U),m.iI]}),i})(),E=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[C.MD,s.YN,a.bv,s.X1,w]}),i})()}}]);
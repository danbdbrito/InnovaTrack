(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{576:(Gn,St,k)=>{"use strict";k.d(St,{$:()=>ia,A:()=>me,G:()=>He,K:()=>Ir,L:()=>co,N:()=>fr,P:()=>Za,R:()=>po,U:()=>dn,V:()=>_o,W:()=>ys,X:()=>ra,Y:()=>Pl,Z:()=>Zo,_:()=>ba,a:()=>yu,a0:()=>Ss,a1:()=>Y,a2:()=>Ee,a3:()=>Ie,a4:()=>to,a5:()=>sa,a6:()=>aa,a7:()=>Zi,a8:()=>Lr,a9:()=>Ml,aA:()=>qi,aB:()=>Te,aC:()=>ae,aD:()=>Vc,aE:()=>Ct,aF:()=>xn,aG:()=>ec,aH:()=>Qu,aI:()=>dc,aJ:()=>ye,aN:()=>Io,aQ:()=>Es,aa:()=>ua,ab:()=>xs,ac:()=>Ka,ad:()=>Hl,ae:()=>ca,af:()=>Wl,ag:()=>Xs,ah:()=>ro,ak:()=>ul,al:()=>ju,am:()=>Ma,ap:()=>Yi,aq:()=>qe,as:()=>Fs,at:()=>Na,au:()=>Xt,av:()=>Bi,aw:()=>si,ax:()=>Qe,ay:()=>Bo,az:()=>Fr,b:()=>Wu,c:()=>_l,d:()=>Tu,e:()=>yl,f:()=>Ql,g:()=>No,h:()=>ka,i:()=>cs,j:()=>fc,k:()=>ga,l:()=>so,m:()=>ru,o:()=>Bc,p:()=>Re,r:()=>vl,s:()=>lo,u:()=>Nl});var c=k(467),p=k(7852),U=k(1076),q=k(8041),ce=k(1635),Pe=k(1362);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ut=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new U.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new q.Vy("@firebase/auth");function Tt(b,...m){ft.logLevel<=q.$b.ERROR&&ft.error(`Auth (${p.SDK_VERSION}): ${b}`,...m)}function Qe(b,...m){throw Ut(b,...m)}function Te(b,...m){return Ut(b,...m)}function $e(b,m,E){const R=Object.assign(Object.assign({},ut()),{[m]:E});return new U.FA("auth","Firebase",R).create(m,{appName:b.name})}function ct(b){return $e(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vt(b,m,E){if(!(m instanceof E))throw E.name!==m.constructor.name&&Qe(b,"argument-error"),$e(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(b,...m){if("string"!=typeof b){const E=m[0],R=[...m.slice(1)];return R[0]&&(R[0].appName=b.name),b._errorFactory.create(E,...R)}return gt.create(b,...m)}function ae(b,m,...E){if(!b)throw Ut(m,...E)}function Et(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Tt(m),new Error(m)}function Xt(b,m){b||Et(m)}function un(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ht(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ee{constructor(m,E){this.shortDelay=m,this.longDelay=E,Xt(E>m,"Short delay should be less than long delay!"),this.isMobile=(0,U.jZ)()||(0,U.lV)()}get(){return function Qn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,U.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function de(b,m){Xt(b.emulator,"Emulator should always be set here");const{url:E}=b.emulator;return m?`${E}${m.startsWith("/")?m.slice(1):m}`:E}class Se{static initialize(m,E,R){this.fetchImpl=m,E&&(this.headersImpl=E),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new ee(3e4,6e4);function Ke(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function it(b,m,E,R){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.A)(function*(b,m,E,R,se={}){return Vt(b,se,(0,c.A)(function*(){let Le={},Lt={};R&&("GET"===m?Lt=R:Le={body:JSON.stringify(R)});const hn=(0,U.Am)(Object.assign({key:b.config.apiKey},Lt)).slice(1),Wn=yield b._getAdditionalHeaders();return Wn["Content-Type"]="application/json",b.languageCode&&(Wn["X-Firebase-Locale"]=b.languageCode),Se.fetch()(zn(b,b.config.apiHost,E,hn),Object.assign({method:m,headers:Wn,referrerPolicy:"no-referrer"},Le))}))})).apply(this,arguments)}function Vt(b,m,E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.A)(function*(b,m,E){b._canInitEmulator=!1;const R=Object.assign(Object.assign({},he),m);try{const se=new Kn(b),Le=yield Promise.race([E(),se.promise]);se.clearNetworkTimeout();const Lt=yield Le.json();if("needConfirmation"in Lt)throw _r(b,"account-exists-with-different-credential",Lt);if(Le.ok&&!("errorMessage"in Lt))return Lt;{const hn=Le.ok?Lt.errorMessage:Lt.error.message,[Wn,Sr]=hn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wn)throw _r(b,"credential-already-in-use",Lt);if("EMAIL_EXISTS"===Wn)throw _r(b,"email-already-in-use",Lt);if("USER_DISABLED"===Wn)throw _r(b,"user-disabled",Lt);const Ar=R[Wn]||Wn.toLowerCase().replace(/[_\s]+/g,"-");if(Sr)throw $e(b,Ar,Sr);Qe(b,Ar)}}catch(se){if(se instanceof U.g)throw se;Qe(b,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function gn(b,m,E,R){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.A)(function*(b,m,E,R,se={}){const Le=yield it(b,m,E,R,se);return"mfaPendingCredential"in Le&&Qe(b,"multi-factor-auth-required",{_serverResponse:Le}),Le})).apply(this,arguments)}function zn(b,m,E,R){const se=`${m}${E}?${R}`;return b.config.emulator?de(b.config,se):`${b.config.apiScheme}://${se}`}function gr(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((E,R)=>{this.timer=setTimeout(()=>R(Te(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _r(b,m,E){const R={appName:b.name};E.email&&(R.email=E.email),E.phoneNumber&&(R.phoneNumber=E.phoneNumber);const se=Te(b,m,R);return se.customData._tokenResponse=E,se}function Xn(b){return void 0!==b&&void 0!==b.getResponse}function Bn(b){return void 0!==b&&void 0!==b.enterprise}class bn{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const E of this.recaptchaEnforcementState)if(E.provider&&E.provider===m)return gr(E.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function At(){return(At=(0,c.A)(function*(b){return(yield it(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kt(b,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.A)(function*(b,m){return it(b,"GET","/v2/recaptchaConfig",Ke(b,m))})).apply(this,arguments)}function Br(){return(Br=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Zn(){return(Zn=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mn(b,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Xr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Hr(){return(Hr=(0,c.A)(function*(b,m=!1){const E=(0,U.Ku)(b),R=yield E.getIdToken(m),se=Pr(R);ae(se&&se.exp&&se.auth_time&&se.iat,E.auth,"internal-error");const Le="object"==typeof se.firebase?se.firebase:void 0,Lt=null==Le?void 0:Le.sign_in_provider;return{claims:se,token:R,authTime:Xr(ri(se.auth_time)),issuedAtTime:Xr(ri(se.iat)),expirationTime:Xr(ri(se.exp)),signInProvider:Lt||null,signInSecondFactor:(null==Le?void 0:Le.sign_in_second_factor)||null}})).apply(this,arguments)}function ri(b){return 1e3*Number(b)}function Pr(b){const[m,E,R]=b.split(".");if(void 0===m||void 0===E||void 0===R)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,U.u)(E);return se?JSON.parse(se):(Tt("Failed to decode base64 JWT payload"),null)}catch(se){return Tt("Caught error parsing JWT payload as JSON",null==se?void 0:se.toString()),null}}function Ii(b){const m=Pr(b);return ae(m,"internal-error"),ae(typeof m.exp<"u","internal-error"),ae(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function rr(b,m){return br.apply(this,arguments)}function br(){return(br=(0,c.A)(function*(b,m,E=!1){if(E)return m;try{return yield m}catch(R){throw R instanceof U.g&&function _i({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(R)&&b.auth.currentUser===b&&(yield b.auth.signOut()),R}})).apply(this,arguments)}class Pt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var E;if(m){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const se=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(m=!1){var E=this;if(!this.isRunning)return;const R=this.getInterval(m);this.timerId=setTimeout((0,c.A)(function*(){yield E.iteration()}),R)}iteration(){var m=this;return(0,c.A)(function*(){try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null==E?void 0:E.code)&&m.schedule(!0))}m.schedule()})()}}class Vr{constructor(m,E){this.createdAt=m,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mr(b){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.A)(function*(b){var m;const E=b.auth,R=yield b.getIdToken(),se=yield rr(b,mn(E,{idToken:R}));ae(null==se?void 0:se.users.length,E,"internal-error");const Le=se.users[0];b._notifyReloadListener(Le);const Lt=null!==(m=Le.providerUserInfo)&&void 0!==m&&m.length?Mt(Le.providerUserInfo):[],hn=function Yt(b,m){return[...b.filter(R=>!m.some(se=>se.providerId===R.providerId)),...m]}(b.providerData,Lt),Ar=!!b.isAnonymous&&!(b.email&&Le.passwordHash||null!=hn&&hn.length),$i={uid:Le.localId,displayName:Le.displayName||null,photoURL:Le.photoUrl||null,email:Le.email||null,emailVerified:Le.emailVerified||!1,phoneNumber:Le.phoneNumber||null,tenantId:Le.tenantId||null,providerData:hn,metadata:new Vr(Le.createdAt,Le.lastLoginAt),isAnonymous:Ar};Object.assign(b,$i)})).apply(this,arguments)}function mi(){return(mi=(0,c.A)(function*(b){const m=(0,U.Ku)(b);yield mr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Mt(b){return b.map(m=>{var{providerId:E}=m,R=(0,ce.Tt)(m,["providerId"]);return{providerId:E,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function _t(){return(_t=(0,c.A)(function*(b,m){const E=yield Vt(b,{},(0,c.A)(function*(){const R=(0,U.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:se,apiKey:Le}=b.config,Lt=zn(b,se,"/v1/token",`key=${Le}`),hn=yield b._getAdditionalHeaders();return hn["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(Lt,{method:"POST",headers:hn,body:R})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}function Z(){return(Z=(0,c.A)(function*(b,m){return it(b,"POST","/v2/accounts:revokeToken",Ke(b,m))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ae(m.idToken,"internal-error"),ae(typeof m.idToken<"u","internal-error"),ae(typeof m.refreshToken<"u","internal-error");const E="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):Ii(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,E)}updateFromIdToken(m){ae(0!==m.length,"internal-error");const E=Ii(m);this.updateTokensAndExpiration(m,null,E)}getToken(m,E=!1){var R=this;return(0,c.A)(function*(){return E||!R.accessToken||R.isExpired?(ae(R.refreshToken,m,"user-token-expired"),R.refreshToken?(yield R.refresh(m,R.refreshToken),R.accessToken):null):R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,E){var R=this;return(0,c.A)(function*(){const{accessToken:se,refreshToken:Le,expiresIn:Lt}=yield function qt(b,m){return _t.apply(this,arguments)}(m,E);R.updateTokensAndExpiration(se,Le,Number(Lt))})()}updateTokensAndExpiration(m,E,R){this.refreshToken=E||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(m,E){const{refreshToken:R,accessToken:se,expirationTime:Le}=E,Lt=new x;return R&&(ae("string"==typeof R,"internal-error",{appName:m}),Lt.refreshToken=R),se&&(ae("string"==typeof se,"internal-error",{appName:m}),Lt.accessToken=se),Le&&(ae("number"==typeof Le,"internal-error",{appName:m}),Lt.expirationTime=Le),Lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Et("not implemented")}}function W(b,m){ae("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class pe{constructor(m){var{uid:E,auth:R,stsTokenManager:se}=m,Le=(0,ce.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=R,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Le.displayName||null,this.email=Le.email||null,this.emailVerified=Le.emailVerified||!1,this.phoneNumber=Le.phoneNumber||null,this.photoURL=Le.photoURL||null,this.isAnonymous=Le.isAnonymous||!1,this.tenantId=Le.tenantId||null,this.providerData=Le.providerData?[...Le.providerData]:[],this.metadata=new Vr(Le.createdAt||void 0,Le.lastLoginAt||void 0)}getIdToken(m){var E=this;return(0,c.A)(function*(){const R=yield rr(E,E.stsTokenManager.getToken(E.auth,m));return ae(R,E.auth,"internal-error"),E.accessToken!==R&&(E.accessToken=R,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),R})()}getIdTokenResult(m){return function yr(b){return Hr.apply(this,arguments)}(this,m)}reload(){return function Vi(b){return mi.apply(this,arguments)}(this)}_assign(m){this!==m&&(ae(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(E=>Object.assign({},E)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const E=new pe(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return E.metadata._copy(this.metadata),E}_onReload(m){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,E=!1){var R=this;return(0,c.A)(function*(){let se=!1;m.idToken&&m.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(m),se=!0),E&&(yield mr(R)),yield R.auth._persistUserIfCurrent(R),se&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var m=this;return(0,c.A)(function*(){if((0,p._isFirebaseServerApp)(m.auth.app))return Promise.reject(ct(m.auth));const E=yield m.getIdToken();return yield rr(m,function ln(b,m){return Br.apply(this,arguments)}(m.auth,{idToken:E})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,E){var R,se,Le,Lt,hn,Wn,Sr,Ar;const $i=null!==(R=E.displayName)&&void 0!==R?R:void 0,Ms=null!==(se=E.email)&&void 0!==se?se:void 0,Fa=null!==(Le=E.phoneNumber)&&void 0!==Le?Le:void 0,iu=null!==(Lt=E.photoURL)&&void 0!==Lt?Lt:void 0,rc=null!==(hn=E.tenantId)&&void 0!==hn?hn:void 0,jc=null!==(Wn=E._redirectEventId)&&void 0!==Wn?Wn:void 0,il=null!==(Sr=E.createdAt)&&void 0!==Sr?Sr:void 0,vd=null!==(Ar=E.lastLoginAt)&&void 0!==Ar?Ar:void 0,{uid:zc,emailVerified:Ki,isAnonymous:Hc,providerData:ol,stsTokenManager:fs}=E;ae(zc&&fs,m,"internal-error");const ou=x.fromJSON(this.name,fs);ae("string"==typeof zc,m,"internal-error"),W($i,m.name),W(Ms,m.name),ae("boolean"==typeof Ki,m,"internal-error"),ae("boolean"==typeof Hc,m,"internal-error"),W(Fa,m.name),W(iu,m.name),W(rc,m.name),W(jc,m.name),W(il,m.name),W(vd,m.name);const Al=new pe({uid:zc,auth:m,email:Ms,emailVerified:Ki,displayName:$i,isAnonymous:Hc,photoURL:iu,phoneNumber:Fa,tenantId:rc,stsTokenManager:ou,createdAt:il,lastLoginAt:vd});return ol&&Array.isArray(ol)&&(Al.providerData=ol.map(Tl=>Object.assign({},Tl))),jc&&(Al._redirectEventId=jc),Al}static _fromIdTokenResponse(m,E,R=!1){return(0,c.A)(function*(){const se=new x;se.updateFromServerResponse(E);const Le=new pe({uid:E.localId,auth:m,stsTokenManager:se,isAnonymous:R});return yield mr(Le),Le})()}static _fromGetAccountInfoResponse(m,E,R){return(0,c.A)(function*(){const se=E.users[0];ae(void 0!==se.localId,"internal-error");const Le=void 0!==se.providerUserInfo?Mt(se.providerUserInfo):[],Lt=!(se.email&&se.passwordHash||null!=Le&&Le.length),hn=new x;hn.updateFromIdToken(R);const Wn=new pe({uid:se.localId,auth:m,stsTokenManager:hn,isAnonymous:Lt}),Sr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Le,metadata:new Vr(se.createdAt,se.lastLoginAt),isAnonymous:!(se.email&&se.passwordHash||null!=Le&&Le.length)};return Object.assign(Wn,Sr),Wn})()}}const Fe=new Map;function Ct(b){Xt(b instanceof Function,"Expected a class definition");let m=Fe.get(b);return m?(Xt(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Fe.set(b,m),m)}const dn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(E,R){var se=this;return(0,c.A)(function*(){se.storage[E]=R})()}_get(E){var R=this;return(0,c.A)(function*(){const se=R.storage[E];return void 0===se?null:se})()}_remove(E){var R=this;return(0,c.A)(function*(){delete R.storage[E]})()}_addListener(E,R){}_removeListener(E,R){}}return b.type="NONE",b})();function xn(b,m,E){return`firebase:${b}:${m}:${E}`}class An{constructor(m,E,R){this.persistence=m,this.auth=E,this.userKey=R;const{config:se,name:Le}=this.auth;this.fullUserKey=xn(this.userKey,se.apiKey,Le),this.fullPersistenceKey=xn("persistence",se.apiKey,Le),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.A)(function*(){const E=yield m.persistence._get(m.fullUserKey);return E?pe._fromJSON(m.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var E=this;return(0,c.A)(function*(){if(E.persistence===m)return;const R=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=m,R?E.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,E,R="authUser"){return(0,c.A)(function*(){if(!E.length)return new An(Ct(dn),m,R);const se=(yield Promise.all(E.map(function(){var Sr=(0,c.A)(function*(Ar){if(yield Ar._isAvailable())return Ar});return function(Ar){return Sr.apply(this,arguments)}}()))).filter(Sr=>Sr);let Le=se[0]||Ct(dn);const Lt=xn(R,m.config.apiKey,m.name);let hn=null;for(const Sr of E)try{const Ar=yield Sr._get(Lt);if(Ar){const $i=pe._fromJSON(m,Ar);Sr!==Le&&(hn=$i),Le=Sr;break}}catch{}const Wn=se.filter(Sr=>Sr._shouldAllowMigration);return Le._shouldAllowMigration&&Wn.length?(Le=Wn[0],hn&&(yield Le._set(Lt,hn.toJSON())),yield Promise.all(E.map(function(){var Sr=(0,c.A)(function*(Ar){if(Ar!==Le)try{yield Ar._remove(Lt)}catch{}});return function(Ar){return Sr.apply(this,arguments)}}())),new An(Le,m,R)):new An(Le,m,R)})()}}function yn(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ui(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Hn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(xi(m))return"Blackberry";if(ki(m))return"Webos";if(wr(m))return"Safari";if((m.includes("chrome/")||Ai(m))&&!m.includes("edge/"))return"Chrome";if(si(m))return"Android";{const R=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function Hn(b=(0,U.ZQ)()){return/firefox\//i.test(b)}function wr(b=(0,U.ZQ)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ai(b=(0,U.ZQ)()){return/crios\//i.test(b)}function Ui(b=(0,U.ZQ)()){return/iemobile/i.test(b)}function si(b=(0,U.ZQ)()){return/android/i.test(b)}function xi(b=(0,U.ZQ)()){return/blackberry/i.test(b)}function ki(b=(0,U.ZQ)()){return/webos/i.test(b)}function Bi(b=(0,U.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function qi(b=(0,U.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function le(b=(0,U.ZQ)()){return Bi(b)||si(b)||ki(b)||xi(b)||/windows phone/i.test(b)||Ui(b)}function Je(b,m=[]){let E;switch(b){case"Browser":E=yn((0,U.ZQ)());break;case"Worker":E=`${yn((0,U.ZQ)())}-${b}`;break;default:E=b}const R=m.length?m.join(","):"FirebaseCore-web";return`${E}/JsCore/${p.SDK_VERSION}/${R}`}class _e{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,E){const R=Le=>new Promise((Lt,hn)=>{try{Lt(m(Le))}catch(Wn){hn(Wn)}});R.onAbort=E,this.queue.push(R);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(m){var E=this;return(0,c.A)(function*(){if(E.auth.currentUser===m)return;const R=[];try{for(const se of E.queue)yield se(m),se.onAbort&&R.push(se.onAbort)}catch(se){R.reverse();for(const Le of R)try{Le()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null==se?void 0:se.message})}})()}}function Ge(){return(Ge=(0,c.A)(function*(b,m={}){return it(b,"GET","/v2/passwordPolicy",Ke(b,m))})).apply(this,arguments)}class pn{constructor(m){var E,R,se,Le;const Lt=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(E=Lt.minPasswordLength)&&void 0!==E?E:6,Lt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Lt.maxPasswordLength),void 0!==Lt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Lt.containsLowercaseCharacter),void 0!==Lt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Lt.containsUppercaseCharacter),void 0!==Lt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Lt.containsNumericCharacter),void 0!==Lt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Lt.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(se=null===(R=m.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==se?se:"",this.forceUpgradeOnSignin=null!==(Le=m.forceUpgradeOnSignin)&&void 0!==Le&&Le,this.schemaVersion=m.schemaVersion}validatePassword(m){var E,R,se,Le,Lt,hn;const Wn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Wn),this.validatePasswordCharacterOptions(m,Wn),Wn.isValid&&(Wn.isValid=null===(E=Wn.meetsMinPasswordLength)||void 0===E||E),Wn.isValid&&(Wn.isValid=null===(R=Wn.meetsMaxPasswordLength)||void 0===R||R),Wn.isValid&&(Wn.isValid=null===(se=Wn.containsLowercaseLetter)||void 0===se||se),Wn.isValid&&(Wn.isValid=null===(Le=Wn.containsUppercaseLetter)||void 0===Le||Le),Wn.isValid&&(Wn.isValid=null===(Lt=Wn.containsNumericCharacter)||void 0===Lt||Lt),Wn.isValid&&(Wn.isValid=null===(hn=Wn.containsNonAlphanumericCharacter)||void 0===hn||hn),Wn}validatePasswordLengthOptions(m,E){const R=this.customStrengthOptions.minPasswordLength,se=this.customStrengthOptions.maxPasswordLength;R&&(E.meetsMinPasswordLength=m.length>=R),se&&(E.meetsMaxPasswordLength=m.length<=se)}validatePasswordCharacterOptions(m,E){let R;this.updatePasswordCharacterOptionsStatuses(E,!1,!1,!1,!1);for(let se=0;se<m.length;se++)R=m.charAt(se),this.updatePasswordCharacterOptionsStatuses(E,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(m,E,R,se,Le){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=E)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=se)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=Le))}}class jn{constructor(m,E,R,se){this.app=m,this.heartbeatServiceProvider=E,this.appCheckServiceProvider=R,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.beforeStateQueue=new _e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(m,E){var R=this;return E&&(this._popupRedirectResolver=Ct(E)),this._initializationPromise=this.queue((0,c.A)(function*(){var se,Le;if(!R._deleted&&(R.persistenceManager=yield An.create(R,m),!R._deleted)){if(null!==(se=R._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(E),R.lastNotifiedUid=(null===(Le=R.currentUser)||void 0===Le?void 0:Le.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.A)(function*(){if(m._deleted)return;const E=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||E){if(m.currentUser&&E&&m.currentUser.uid===E.uid)return m._currentUser._assign(E),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(E,!0)}})()}initializeCurrentUserFromIdToken(m){var E=this;return(0,c.A)(function*(){try{const R=yield mn(E,{idToken:m}),se=yield pe._fromGetAccountInfoResponse(E,R,m);yield E.directlySetCurrentUser(se)}catch(R){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",R),yield E.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var E=this;return(0,c.A)(function*(){var R;if((0,p._isFirebaseServerApp)(E.app)){const hn=E.app.settings.authIdToken;return hn?new Promise(Wn=>{setTimeout(()=>E.initializeCurrentUserFromIdToken(hn).then(Wn,Wn))}):E.directlySetCurrentUser(null)}const se=yield E.assertedPersistence.getCurrentUser();let Le=se,Lt=!1;if(m&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const hn=null===(R=E.redirectUser)||void 0===R?void 0:R._redirectEventId,Wn=null==Le?void 0:Le._redirectEventId,Sr=yield E.tryRedirectSignIn(m);(!hn||hn===Wn)&&null!=Sr&&Sr.user&&(Le=Sr.user,Lt=!0)}if(!Le)return E.directlySetCurrentUser(null);if(!Le._redirectEventId){if(Lt)try{yield E.beforeStateQueue.runMiddleware(Le)}catch(hn){Le=se,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(hn))}return Le?E.reloadAndSetCurrentUserOrClear(Le):E.directlySetCurrentUser(null)}return ae(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===Le._redirectEventId?E.directlySetCurrentUser(Le):E.reloadAndSetCurrentUserOrClear(Le)})()}tryRedirectSignIn(m){var E=this;return(0,c.A)(function*(){let R=null;try{R=yield E._popupRedirectResolver._completeRedirectFn(E,m,!0)}catch{yield E._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(m){var E=this;return(0,c.A)(function*(){try{yield mr(m)}catch(R){if("auth/network-request-failed"!==(null==R?void 0:R.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var E=this;return(0,c.A)(function*(){if((0,p._isFirebaseServerApp)(E.app))return Promise.reject(ct(E));const R=m?(0,U.Ku)(m):null;return R&&ae(R.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(R&&R._clone(E))})()}_updateCurrentUser(m,E=!1){var R=this;return(0,c.A)(function*(){if(!R._deleted)return m&&ae(R.tenantId===m.tenantId,R,"tenant-id-mismatch"),E||(yield R.beforeStateQueue.runMiddleware(m)),R.queue((0,c.A)(function*(){yield R.directlySetCurrentUser(m),R.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.A)(function*(){return(0,p._isFirebaseServerApp)(m.app)?Promise.reject(ct(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var E=this;return(0,p._isFirebaseServerApp)(this.app)?Promise.reject(ct(this)):this.queue((0,c.A)(function*(){yield E.assertedPersistence.setPersistence(Ct(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var E=this;return(0,c.A)(function*(){E._getPasswordPolicyInternal()||(yield E._updatePasswordPolicy());const R=E._getPasswordPolicyInternal();return R.schemaVersion!==E.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(E._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,c.A)(function*(){const E=yield function ge(b){return Ge.apply(this,arguments)}(m),R=new pn(E);null===m.tenantId?m._projectPasswordPolicy=R:m._tenantPasswordPolicies[m.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new U.FA("auth","Firebase",m())}onAuthStateChanged(m,E,R){return this.registerStateListener(this.authStateSubscription,m,E,R)}beforeAuthStateChanged(m,E){return this.beforeStateQueue.pushCallback(m,E)}onIdTokenChanged(m,E,R){return this.registerStateListener(this.idTokenSubscription,m,E,R)}authStateReady(){return new Promise((m,E)=>{if(this.currentUser)m();else{const R=this.onAuthStateChanged(()=>{R(),m()},E)}})}revokeAccessToken(m){var E=this;return(0,c.A)(function*(){if(E.currentUser){const R=yield E.currentUser.getIdToken(),se={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:R};null!=E.tenantId&&(se.tenantId=E.tenantId),yield function we(b,m){return Z.apply(this,arguments)}(E,se)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,E){var R=this;return(0,c.A)(function*(){const se=yield R.getOrInitRedirectPersistenceManager(E);return null===m?se.removeCurrentUser():se.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var E=this;return(0,c.A)(function*(){if(!E.redirectPersistenceManager){const R=m&&Ct(m)||E._popupRedirectResolver;ae(R,E,"argument-error"),E.redirectPersistenceManager=yield An.create(E,[Ct(R._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(m){var E=this;return(0,c.A)(function*(){var R,se;return E._isInitialized&&(yield E.queue((0,c.A)(function*(){}))),(null===(R=E._currentUser)||void 0===R?void 0:R._redirectEventId)===m?E._currentUser:(null===(se=E.redirectUser)||void 0===se?void 0:se._redirectEventId)===m?E.redirectUser:null})()}_persistUserIfCurrent(m){var E=this;return(0,c.A)(function*(){if(m===E.currentUser)return E.queue((0,c.A)(function*(){return E.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(E=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,E,R,se){if(this._deleted)return()=>{};const Le="function"==typeof E?E:E.next.bind(E);let Lt=!1;const hn=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(hn,this,"internal-error"),hn.then(()=>{Lt||Le(this.currentUser)}),"function"==typeof E){const Wn=m.addObserver(E,R,se);return()=>{Lt=!0,Wn()}}{const Wn=m.addObserver(E);return()=>{Lt=!0,Wn()}}}directlySetCurrentUser(m){var E=this;return(0,c.A)(function*(){E.currentUser&&E.currentUser!==m&&E._currentUser._stopProactiveRefresh(),m&&E.isProactiveRefreshEnabled&&m._startProactiveRefresh(),E.currentUser=m,m?yield E.assertedPersistence.setCurrentUser(m):yield E.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Je(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.A)(function*(){var E;const R={"X-Client-Version":m.clientVersion};m.app.options.appId&&(R["X-Firebase-gmpid"]=m.app.options.appId);const se=yield null===(E=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();se&&(R["X-Firebase-Client"]=se);const Le=yield m._getAppCheckToken();return Le&&(R["X-Firebase-AppCheck"]=Le),R})()}_getAppCheckToken(){var m=this;return(0,c.A)(function*(){var E;const R=yield null===(E=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getToken();return null!=R&&R.error&&function Ot(b,...m){ft.logLevel<=q.$b.WARN&&ft.warn(`Auth (${p.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${R.error}`),null==R?void 0:R.token})()}}function ye(b){return(0,U.Ku)(b)}class je{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,U.tD)(E=>this.observer=E)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bt={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function be(b){return bt.loadJS(b)}function dt(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Wt{constructor(m){this.type="recaptcha-enterprise",this.auth=ye(m)}verify(m="verify",E=!1){var R=this;return(0,c.A)(function*(){function Le(){return Le=(0,c.A)(function*(hn){if(!E){if(null==hn.tenantId&&null!=hn._agentRecaptchaConfig)return hn._agentRecaptchaConfig.siteKey;if(null!=hn.tenantId&&void 0!==hn._tenantRecaptchaConfigs[hn.tenantId])return hn._tenantRecaptchaConfigs[hn.tenantId].siteKey}return new Promise(function(){var Wn=(0,c.A)(function*(Sr,Ar){Kt(hn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($i=>{if(void 0!==$i.recaptchaKey){const Ms=new bn($i);return null==hn.tenantId?hn._agentRecaptchaConfig=Ms:hn._tenantRecaptchaConfigs[hn.tenantId]=Ms,Sr(Ms.siteKey)}Ar(new Error("recaptcha Enterprise site key undefined"))}).catch($i=>{Ar($i)})});return function(Sr,Ar){return Wn.apply(this,arguments)}}())}),Le.apply(this,arguments)}function Lt(hn,Wn,Sr){const Ar=window.grecaptcha;Bn(Ar)?Ar.enterprise.ready(()=>{Ar.enterprise.execute(hn,{action:m}).then($i=>{Wn($i)}).catch(()=>{Wn("NO_RECAPTCHA")})}):Sr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((hn,Wn)=>{(function se(hn){return Le.apply(this,arguments)})(R.auth).then(Sr=>{if(!E&&Bn(window.grecaptcha))Lt(Sr,hn,Wn);else{if(typeof window>"u")return void Wn(new Error("RecaptchaVerifier is only supported in browser"));let Ar=function Xe(){return bt.recaptchaEnterpriseScript}();0!==Ar.length&&(Ar+=Sr),be(Ar).then(()=>{Lt(Sr,hn,Wn)}).catch($i=>{Wn($i)})}}).catch(Sr=>{Wn(Sr)})})})()}}function Tn(b,m,E){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.A)(function*(b,m,E,R=!1){const se=new Wt(b);let Le;try{Le=yield se.verify(E)}catch{Le=yield se.verify(E,!0)}const Lt=Object.assign({},m);return Object.assign(Lt,R?{captchaResp:Le}:{captchaResponse:Le}),Object.assign(Lt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Lt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Lt})).apply(this,arguments)}function kn(b,m,E,R){return lr.apply(this,arguments)}function lr(){return lr=(0,c.A)(function*(b,m,E,R){var se;if(null!==(se=b._getRecaptchaConfig())&&void 0!==se&&se.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Le=yield Tn(b,m,E,"getOobCode"===E);return R(b,Le)}return R(b,m).catch(function(){var Le=(0,c.A)(function*(Lt){if("auth/missing-recaptcha-token"===Lt.code){console.log(`${E} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const hn=yield Tn(b,m,E,"getOobCode"===E);return R(b,hn)}return Promise.reject(Lt)});return function(Lt){return Le.apply(this,arguments)}}())}),lr.apply(this,arguments)}function Ir(b,m,E){const R=ye(b);ae(R._canInitEmulator,R,"emulator-config-failed"),ae(/^https?:\/\//.test(m),R,"invalid-emulator-scheme");const se=!(null==E||!E.disableWarnings),Le=Qi(m),{host:Lt,port:hn}=function Ni(b){const m=Qi(b),E=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!E)return{host:"",port:null};const R=E[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(R);if(se){const Le=se[1];return{host:Le,port:Ci(R.substr(Le.length+1))}}{const[Le,Lt]=R.split(":");return{host:Le,port:Ci(Lt)}}}(m);R.config.emulator={url:`${Le}//${Lt}${null===hn?"":`:${hn}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Lt,port:hn,protocol:Le.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function oo(){function b(){const m=document.createElement("p"),E=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Qi(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Ci(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class co{constructor(m,E){this.providerId=m,this.signInMethod=E}toJSON(){return Et("not implemented")}_getIdTokenResponse(m){return Et("not implemented")}_linkToIdToken(m,E){return Et("not implemented")}_getReauthenticationResolver(m){return Et("not implemented")}}function xo(b,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:resetPassword",Ke(b,m))})).apply(this,arguments)}function ho(){return(ho=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jr(b,m){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function wo(){return(wo=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:update",Ke(b,m))})).apply(this,arguments)}function ao(b,m){return O.apply(this,arguments)}function O(){return(O=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithPassword",Ke(b,m))})).apply(this,arguments)}function re(b,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:sendOobCode",Ke(b,m))})).apply(this,arguments)}function Ue(){return(Ue=(0,c.A)(function*(b,m){return re(b,m)})).apply(this,arguments)}function xt(b,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.A)(function*(b,m){return re(b,m)})).apply(this,arguments)}function J(b,m){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,c.A)(function*(b,m){return re(b,m)})).apply(this,arguments)}function ht(){return(ht=(0,c.A)(function*(b,m){return re(b,m)})).apply(this,arguments)}function wt(){return(wt=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithEmailLink",Ke(b,m))})).apply(this,arguments)}function On(){return(On=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithEmailLink",Ke(b,m))})).apply(this,arguments)}class In extends co{constructor(m,E,R,se=null){super("password",R),this._email=m,this._password=E,this._tenantId=se}static _fromEmailAndPassword(m,E){return new In(m,E,"password")}static _fromEmailAndCode(m,E,R=null){return new In(m,E,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m;if(null!=E&&E.email&&null!=E&&E.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(m){var E=this;return(0,c.A)(function*(){switch(E.signInMethod){case"password":return kn(m,{returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ao);case"emailLink":return function Nt(b,m){return wt.apply(this,arguments)}(m,{email:E._email,oobCode:E._password});default:Qe(m,"internal-error")}})()}_linkToIdToken(m,E){var R=this;return(0,c.A)(function*(){switch(R.signInMethod){case"password":return kn(m,{idToken:E,returnSecureToken:!0,email:R._email,password:R._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jr);case"emailLink":return function En(b,m){return On.apply(this,arguments)}(m,{idToken:E,email:R._email,oobCode:R._password});default:Qe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Nn(b,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithIdp",Ke(b,m))})).apply(this,arguments)}class fr extends co{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const E=new fr(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(E.idToken=m.idToken),m.accessToken&&(E.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(E.nonce=m.nonce),m.pendingToken&&(E.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(E.accessToken=m.oauthToken,E.secret=m.oauthTokenSecret):Qe("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m,{providerId:R,signInMethod:se}=E,Le=(0,ce.Tt)(E,["providerId","signInMethod"]);if(!R||!se)return null;const Lt=new fr(R,se);return Lt.idToken=Le.idToken||void 0,Lt.accessToken=Le.accessToken||void 0,Lt.secret=Le.secret,Lt.nonce=Le.nonce,Lt.pendingToken=Le.pendingToken||null,Lt}_getIdTokenResponse(m){return Nn(m,this.buildRequest())}_linkToIdToken(m,E){const R=this.buildRequest();return R.idToken=E,Nn(m,R)}_getReauthenticationResolver(m){const E=this.buildRequest();return E.autoCreate=!1,Nn(m,E)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),m.postBody=(0,U.Am)(E)}return m}}function hi(){return(hi=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:sendVerificationCode",Ke(b,m))})).apply(this,arguments)}function qr(){return(qr=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ke(b,m))})).apply(this,arguments)}function hr(){return(hr=(0,c.A)(function*(b,m){const E=yield gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ke(b,m));if(E.temporaryProof)throw _r(b,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Jo={USER_NOT_FOUND:"user-not-found"};function ar(){return(ar=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ke(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Jo)})).apply(this,arguments)}class pr extends co{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,E){return new pr({verificationId:m,verificationCode:E})}static _fromTokenResponse(m,E){return new pr({phoneNumber:m,temporaryProof:E})}_getIdTokenResponse(m){return function Or(b,m){return qr.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,E){return function Ti(b,m){return hr.apply(this,arguments)}(m,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function fo(b,m){return ar.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:E,verificationId:R,verificationCode:se}=this.params;return m&&E?{temporaryProof:m,phoneNumber:E}:{sessionInfo:R,code:se}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:E,verificationCode:R,phoneNumber:se,temporaryProof:Le}=m;return R||E||se||Le?new pr({verificationId:E,verificationCode:R,phoneNumber:se,temporaryProof:Le}):null}}class ls{constructor(m){var E,R,se,Le,Lt,hn;const Wn=(0,U.I9)((0,U.hp)(m)),Sr=null!==(E=Wn.apiKey)&&void 0!==E?E:null,Ar=null!==(R=Wn.oobCode)&&void 0!==R?R:null,$i=function li(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Wn.mode)&&void 0!==se?se:null);ae(Sr&&Ar&&$i,"argument-error"),this.apiKey=Sr,this.operation=$i,this.code=Ar,this.continueUrl=null!==(Le=Wn.continueUrl)&&void 0!==Le?Le:null,this.languageCode=null!==(Lt=Wn.languageCode)&&void 0!==Lt?Lt:null,this.tenantId=null!==(hn=Wn.tenantId)&&void 0!==hn?hn:null}static parseLink(m){const E=function Ns(b){const m=(0,U.I9)((0,U.hp)(b)).link,E=m?(0,U.I9)((0,U.hp)(m)).deep_link_id:null,R=(0,U.I9)((0,U.hp)(b)).deep_link_id;return(R?(0,U.I9)((0,U.hp)(R)).link:null)||R||E||m||b}(m);try{return new ls(E)}catch{return null}}}let _o=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(E,R){return In._fromEmailAndPassword(E,R)}static credentialWithLink(E,R){const se=ls.parseLink(R);return ae(se,"argument-error"),In._fromEmailAndCode(E,se.code,se.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class no{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class So extends no{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Zo extends So{static credentialFromJSON(m){const E="string"==typeof m?JSON.parse(m):m;return ae("providerId"in E&&"signInMethod"in E,"argument-error"),fr._fromParams(E)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ae(m.idToken||m.accessToken,"argument-error"),fr._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Zo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Zo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:R,oauthTokenSecret:se,pendingToken:Le,nonce:Lt,providerId:hn}=m;if(!R&&!se&&!E&&!Le||!hn)return null;try{return new Zo(hn)._credential({idToken:E,accessToken:R,nonce:Lt,pendingToken:Le})}catch{return null}}}let ys=(()=>{class b extends So{constructor(){super("facebook.com")}static credential(E){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return b.credential(E.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ra=(()=>{class b extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(E,R){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:R})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:R,oauthAccessToken:se}=E;if(!R&&!se)return null;try{return b.credential(R,se)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Pl=(()=>{class b extends So{constructor(){super("github.com")}static credential(E){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return b.credential(E.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Es extends co{constructor(m,E){super(m,m),this.pendingToken=E}_getIdTokenResponse(m){return Nn(m,this.buildRequest())}_linkToIdToken(m,E){const R=this.buildRequest();return R.idToken=E,Nn(m,R)}_getReauthenticationResolver(m){const E=this.buildRequest();return E.autoCreate=!1,Nn(m,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m,{providerId:R,signInMethod:se,pendingToken:Le}=E;return R&&se&&Le&&R===se?new Es(R,Le):null}static _create(m,E){return new Es(m,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ba extends no{constructor(m){ae(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ba.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ba.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const E=Es.fromJSON(m);return ae(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:E,providerId:R}=m;if(!E||!R)return null;try{return Es._create(R,E)}catch{return null}}}let ia=(()=>{class b extends So{constructor(){super("twitter.com")}static credential(E,R){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:R})}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:R,oauthTokenSecret:se}=E;if(!R||!se)return null;try{return b.credential(R,se)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function bi(b,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signUp",Ke(b,m))})).apply(this,arguments)}class Di{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,E,R,se=!1){return(0,c.A)(function*(){const Le=yield pe._fromIdTokenResponse(m,R,se),Lt=Ro(R);return new Di({user:Le,providerId:Lt,_tokenResponse:R,operationType:E})})()}static _forOperation(m,E,R){return(0,c.A)(function*(){yield m._updateTokensIfNecessary(R,!0);const se=Ro(R);return new Di({user:m,providerId:se,_tokenResponse:R,operationType:E})})()}}function Ro(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ss(b){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.A)(function*(b){var m;if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const E=ye(b);if(yield E._initializationPromise,null!==(m=E.currentUser)&&void 0!==m&&m.isAnonymous)return new Di({user:E.currentUser,providerId:null,operationType:"signIn"});const R=yield bi(E,{returnSecureToken:!0}),se=yield Di._fromIdTokenResponse(E,"signIn",R,!0);return yield E._updateCurrentUser(se.user),se})).apply(this,arguments)}class es extends U.g{constructor(m,E,R,se){var Le;super(E.code,E.message),this.operationType=R,this.user=se,Object.setPrototypeOf(this,es.prototype),this.customData={appName:m.name,tenantId:null!==(Le=m.tenantId)&&void 0!==Le?Le:void 0,_serverResponse:E.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(m,E,R,se){return new es(m,E,R,se)}}function Wr(b,m,E,R){return("reauthenticate"===m?E._getReauthenticationResolver(b):E._getIdTokenResponse(b)).catch(Le=>{throw"auth/multi-factor-auth-required"===Le.code?es._fromErrorAndOperation(b,Le,m,R):Le})}function Is(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Yi(b,m){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,c.A)(function*(b,m){const E=(0,U.Ku)(b);yield Po(!0,E,m);const{providerUserInfo:R}=yield function Tr(b,m){return Zn.apply(this,arguments)}(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[m]}),se=Is(R||[]);return E.providerData=E.providerData.filter(Le=>se.has(Le.providerId)),se.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E}),Sa.apply(this,arguments)}function Cs(b,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.A)(function*(b,m,E=!1){const R=yield rr(b,m._linkToIdToken(b.auth,yield b.getIdToken()),E);return Di._forOperation(b,"link",R)})).apply(this,arguments)}function Po(b,m,E){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.A)(function*(b,m,E){yield mr(m);const se=!1===b?"provider-already-linked":"no-such-provider";ae(Is(m.providerData).has(E)===b,m.auth,se)})).apply(this,arguments)}function Ho(b,m){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,c.A)(function*(b,m,E=!1){const{auth:R}=b;if((0,p._isFirebaseServerApp)(R.app))return Promise.reject(ct(R));const se="reauthenticate";try{const Le=yield rr(b,Wr(R,se,m,b),E);ae(Le.idToken,R,"internal-error");const Lt=Pr(Le.idToken);ae(Lt,R,"internal-error");const{sub:hn}=Lt;return ae(b.uid===hn,R,"user-mismatch"),Di._forOperation(b,se,Le)}catch(Le){throw"auth/user-not-found"===(null==Le?void 0:Le.code)&&Qe(R,"user-mismatch"),Le}})).apply(this,arguments)}function jl(b,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.A)(function*(b,m,E=!1){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const R="signIn",se=yield Wr(b,R,m),Le=yield Di._fromIdTokenResponse(b,R,se);return E||(yield b._updateCurrentUser(Le.user)),Le})).apply(this,arguments)}function Y(b,m){return L.apply(this,arguments)}function L(){return(L=(0,c.A)(function*(b,m){return jl(ye(b),m)})).apply(this,arguments)}function Ee(b,m){return z.apply(this,arguments)}function z(){return(z=(0,c.A)(function*(b,m){const E=(0,U.Ku)(b);return yield Po(!1,E,m.providerId),Cs(E,m)})).apply(this,arguments)}function Ie(b,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.A)(function*(b,m){return Ho((0,U.Ku)(b),m)})).apply(this,arguments)}function Si(){return(Si=(0,c.A)(function*(b,m){return gn(b,"POST","/v1/accounts:signInWithCustomToken",Ke(b,m))})).apply(this,arguments)}function to(b,m){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,c.A)(function*(b,m){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const E=ye(b),R=yield function Er(b,m){return Si.apply(this,arguments)}(E,{token:m,returnSecureToken:!0}),se=yield Di._fromIdTokenResponse(E,"signIn",R);return yield E._updateCurrentUser(se.user),se}),Mo.apply(this,arguments)}class Ur{constructor(m,E){this.factorId=m,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(m,E){return"phoneInfo"in E?Ga._fromServerResponse(m,E):"totpInfo"in E?ts._fromServerResponse(m,E):Qe(m,"internal-error")}}class Ga extends Ur{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,E){return new Ga(E)}}class ts extends Ur{constructor(m){super("totp",m)}static _fromServerResponse(m,E){return new ts(E)}}function As(b,m,E){var R;ae((null===(R=E.url)||void 0===R?void 0:R.length)>0,b,"invalid-continue-uri"),ae(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=E.url,m.dynamicLinkDomain=E.dynamicLinkDomain,m.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(ae(E.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=E.iOS.bundleId),E.android&&(ae(E.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=E.android.installApp,m.androidMinimumVersionCode=E.android.minimumVersion,m.androidPackageName=E.android.packageName)}function Uo(b){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(b){const m=ye(b);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function sa(b,m,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.A)(function*(b,m,E){const R=ye(b),se={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};E&&As(R,se,E),yield kn(R,se,"getOobCode",xt)})).apply(this,arguments)}function aa(b,m,E){return ti.apply(this,arguments)}function ti(){return ti=(0,c.A)(function*(b,m,E){yield xo((0,U.Ku)(b),{oobCode:m,newPassword:E}).catch(function(){var R=(0,c.A)(function*(se){throw"auth/password-does-not-meet-requirements"===se.code&&Uo(b),se});return function(se){return R.apply(this,arguments)}}())}),ti.apply(this,arguments)}function Zi(b,m){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,c.A)(function*(b,m){yield function Vo(b,m){return wo.apply(this,arguments)}((0,U.Ku)(b),{oobCode:m})}),Wo.apply(this,arguments)}function Lr(b,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.A)(function*(b,m){const E=(0,U.Ku)(b),R=yield xo(E,{oobCode:m}),se=R.requestType;switch(ae(se,E,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(R.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(R.mfaInfo,E,"internal-error");default:ae(R.email,E,"internal-error")}let Le=null;return R.mfaInfo&&(Le=Ur._fromServerResponse(ye(E),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:Le},operation:se}})).apply(this,arguments)}function Ml(b,m){return la.apply(this,arguments)}function la(){return(la=(0,c.A)(function*(b,m){const{data:E}=yield Lr((0,U.Ku)(b),m);return E.email})).apply(this,arguments)}function ua(b,m,E){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.A)(function*(b,m,E){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const R=ye(b),Lt=yield kn(R,{returnSecureToken:!0,email:m,password:E,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bi).catch(Wn=>{throw"auth/password-does-not-meet-requirements"===Wn.code&&Uo(b),Wn}),hn=yield Di._fromIdTokenResponse(R,"signIn",Lt);return yield R._updateCurrentUser(hn.user),hn})).apply(this,arguments)}function xs(b,m,E){return(0,p._isFirebaseServerApp)(b.app)?Promise.reject(ct(b)):Y((0,U.Ku)(b),_o.credential(m,E)).catch(function(){var R=(0,c.A)(function*(se){throw"auth/password-does-not-meet-requirements"===se.code&&Uo(b),se});return function(se){return R.apply(this,arguments)}}())}function Ka(b,m,E){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.A)(function*(b,m,E){const R=ye(b),se={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function Le(Lt,hn){ae(hn.handleCodeInApp,R,"argument-error"),hn&&As(R,Lt,hn)})(se,E),yield kn(R,se,"getOobCode",J)})).apply(this,arguments)}function Hl(b,m){const E=ls.parseLink(m);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}function ca(b,m,E){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.A)(function*(b,m,E){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const R=(0,U.Ku)(b),se=_o.credentialWithLink(m,E||un());return ae(se._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Y(R,se)})).apply(this,arguments)}function Xa(){return(Xa=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:createAuthUri",Ke(b,m))})).apply(this,arguments)}function Wl(b,m){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,c.A)(function*(b,m){const R={identifier:m,continueUri:Ht()?un():"http://localhost"},{signinMethods:se}=yield function ks(b,m){return Xa.apply(this,arguments)}((0,U.Ku)(b),R);return se||[]}),Ks.apply(this,arguments)}function Xs(b,m){return qa.apply(this,arguments)}function qa(){return qa=(0,c.A)(function*(b,m){const E=(0,U.Ku)(b),se={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&As(E.auth,se,m);const{email:Le}=yield function F(b,m){return Ue.apply(this,arguments)}(E.auth,se);Le!==b.email&&(yield b.reload())}),qa.apply(this,arguments)}function ro(b,m,E){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,c.A)(function*(b,m,E){const R=(0,U.Ku)(b),Le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};E&&As(R.auth,Le,E);const{email:Lt}=yield function st(b,m){return ht.apply(this,arguments)}(R.auth,Le);Lt!==b.email&&(yield b.reload())}),Gr.apply(this,arguments)}function mu(){return(mu=(0,c.A)(function*(b,m){return it(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ul(b,m){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,c.A)(function*(b,{displayName:m,photoURL:E}){if(void 0===m&&void 0===E)return;const R=(0,U.Ku)(b),Le={idToken:yield R.getIdToken(),displayName:m,photoUrl:E,returnSecureToken:!0},Lt=yield rr(R,function Oi(b,m){return mu.apply(this,arguments)}(R.auth,Le));R.displayName=Lt.displayName||null,R.photoURL=Lt.photoUrl||null;const hn=R.providerData.find(({providerId:Wn})=>"password"===Wn);hn&&(hn.displayName=R.displayName,hn.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Lt)}),Pa.apply(this,arguments)}function ju(b,m){const E=(0,U.Ku)(b);return(0,p._isFirebaseServerApp)(E.auth.app)?Promise.reject(ct(E.auth)):rs(E,m,null)}function Ma(b,m){return rs((0,U.Ku)(b),null,m)}function rs(b,m,E){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,c.A)(function*(b,m,E){const{auth:R}=b,Le={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(Le.email=m),E&&(Le.password=E);const Lt=yield rr(b,function _s(b,m){return ho.apply(this,arguments)}(R,Le));yield b._updateTokensIfNecessary(Lt,!0)}),Cn.apply(this,arguments)}class Jr{constructor(m,E,R={}){this.isNewUser=m,this.providerId=E,this.profile=R}}class fi extends Jr{constructor(m,E,R,se){super(m,E,R),this.username=se}}class Ls extends Jr{constructor(m,E){super(m,"facebook.com",E)}}class vu extends fi{constructor(m,E){super(m,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class w extends Jr{constructor(m,E){super(m,"google.com",E)}}class Q extends fi{constructor(m,E,R){super(m,"twitter.com",E,R)}}function qe(b){const{user:m,_tokenResponse:E}=b;return m.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Mr(b){var m,E;if(!b)return null;const{providerId:R}=b,se=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},Le=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!R&&null!=b&&b.idToken){const Lt=null===(E=null===(m=Pr(b.idToken))||void 0===m?void 0:m.firebase)||void 0===E?void 0:E.sign_in_provider;if(Lt)return new Jr(Le,"anonymous"!==Lt&&"custom"!==Lt?Lt:null)}if(!R)return null;switch(R){case"facebook.com":return new Ls(Le,se);case"github.com":return new vu(Le,se);case"google.com":return new w(Le,se);case"twitter.com":return new Q(Le,se,b.screenName||null);case"custom":case"anonymous":return new Jr(Le,null);default:return new Jr(Le,R,se)}}(E)}class ji{constructor(m,E,R){this.type=m,this.credential=E,this.user=R}static _fromIdtoken(m,E){return new ji("enroll",m,E)}static _fromMfaPendingCredential(m){return new ji("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var E,R;if(null!=m&&m.multiFactorSession){if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.pendingCredential)return ji._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(R=m.multiFactorSession)&&void 0!==R&&R.idToken)return ji._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Xo{constructor(m,E,R){this.session=m,this.hints=E,this.signInResolver=R}static _fromError(m,E){const R=ye(m),se=E.customData._serverResponse,Le=(se.mfaInfo||[]).map(hn=>Ur._fromServerResponse(R,hn));ae(se.mfaPendingCredential,R,"internal-error");const Lt=ji._fromMfaPendingCredential(se.mfaPendingCredential);return new Xo(Lt,Le,function(){var hn=(0,c.A)(function*(Wn){const Sr=yield Wn._process(R,Lt);delete se.mfaInfo,delete se.mfaPendingCredential;const Ar=Object.assign(Object.assign({},se),{idToken:Sr.idToken,refreshToken:Sr.refreshToken});switch(E.operationType){case"signIn":const $i=yield Di._fromIdTokenResponse(R,E.operationType,Ar);return yield R._updateCurrentUser($i.user),$i;case"reauthenticate":return ae(E.user,R,"internal-error"),Di._forOperation(E.user,E.operationType,Ar);default:Qe(R,"internal-error")}});return function(Wn){return hn.apply(this,arguments)}}())}resolveSignIn(m){var E=this;return(0,c.A)(function*(){return E.signInResolver(m)})()}}function Fs(b,m){var E;const R=(0,U.Ku)(b),se=m;return ae(m.customData.operationType,R,"argument-error"),ae(null===(E=se.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,R,"argument-error"),Xo._fromError(R,se)}class Gl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(R=>Ur._fromServerResponse(m.auth,R)))})}static _fromUser(m){return new Gl(m)}getSession(){var m=this;return(0,c.A)(function*(){return ji._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,E){var R=this;return(0,c.A)(function*(){const se=m,Le=yield R.getSession(),Lt=yield rr(R.user,se._process(R.user.auth,Le,E));return yield R.user._updateTokensIfNecessary(Lt),R.user.reload()})()}unenroll(m){var E=this;return(0,c.A)(function*(){const R="string"==typeof m?m:m.uid,se=yield E.user.getIdToken();try{const Le=yield rr(E.user,function uc(b,m){return it(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(b,m))}(E.user.auth,{idToken:se,mfaEnrollmentId:R}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Lt})=>Lt!==R),yield E.user._updateTokensIfNecessary(Le),yield E.user.reload()}catch(Le){throw Le}})()}}const zu=new WeakMap;function Na(b){const m=(0,U.Ku)(b);return zu.has(m)||zu.set(m,Gl._fromUser(m)),zu.get(m)}const _u="__sak";class bs{constructor(m,E){this.storageRetriever=m,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,E){return this.storage.setItem(m,JSON.stringify(E)),Promise.resolve()}_get(m){const E=this.storage.getItem(m);return Promise.resolve(E?JSON.parse(E):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wu=(()=>{class b extends bs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,R)=>this.onStorageEvent(E,R),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=le(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const R of Object.keys(this.listeners)){const se=this.storage.getItem(R),Le=this.localCache[R];se!==Le&&E(R,Le,se)}}onStorageEvent(E,R=!1){if(!E.key)return void this.forAllChangedKeys((hn,Wn,Sr)=>{this.notifyListeners(hn,Sr)});const se=E.key;R?this.detachListener():this.stopPolling();const Le=()=>{const hn=this.storage.getItem(se);!R&&this.localCache[se]===hn||this.notifyListeners(se,hn)},Lt=this.storage.getItem(se);!function fe(){return(0,U.lT)()&&10===document.documentMode}()||Lt===E.newValue||E.newValue===E.oldValue?Le():setTimeout(Le,10)}notifyListeners(E,R){this.localCache[E]=R;const se=this.listeners[E];if(se)for(const Le of Array.from(se))Le(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,R,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:R,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(R)}_removeListener(E,R){this.listeners[E]&&(this.listeners[E].delete(R),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,R){var se=()=>super._set,Le=this;return(0,c.A)(function*(){yield se().call(Le,E,R),Le.localCache[E]=JSON.stringify(R)})()}_get(E){var R=()=>super._get,se=this;return(0,c.A)(function*(){const Le=yield R().call(se,E);return se.localCache[E]=JSON.stringify(Le),Le})()}_remove(E){var R=()=>super._remove,se=this;return(0,c.A)(function*(){yield R().call(se,E),delete se.localCache[E]})()}}return b.type="LOCAL",b})(),yu=(()=>{class b extends bs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,R){}_removeListener(E,R){}}return b.type="SESSION",b})();let Mc=(()=>{class b{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const R=this.receivers.find(Le=>Le.isListeningto(E));if(R)return R;const se=new b(E);return this.receivers.push(se),se}isListeningto(E){return this.eventTarget===E}handleEvent(E){var R=this;return(0,c.A)(function*(){const se=E,{eventId:Le,eventType:Lt,data:hn}=se.data,Wn=R.handlersMap[Lt];if(null==Wn||!Wn.size)return;se.ports[0].postMessage({status:"ack",eventId:Le,eventType:Lt});const Sr=Array.from(Wn).map(function(){var $i=(0,c.A)(function*(Ms){return Ms(se.origin,hn)});return function(Ms){return $i.apply(this,arguments)}}()),Ar=yield function Kl(b){return Promise.all(b.map(function(){var m=(0,c.A)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(R){return{fulfilled:!1,reason:R}}});return function(E){return m.apply(this,arguments)}}()))}(Sr);se.ports[0].postMessage({status:"done",eventId:Le,eventType:Lt,response:Ar})})()}_subscribe(E,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(R)}_unsubscribe(E,R){this.handlersMap[E]&&R&&this.handlersMap[E].delete(R),(!R||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Io(b="",m=10){let E="";for(let R=0;R<m;R++)E+=Math.floor(10*Math.random());return b+E}class Us{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,E,R=50){var se=this;return(0,c.A)(function*(){const Le=typeof MessageChannel<"u"?new MessageChannel:null;if(!Le)throw new Error("connection_unavailable");let Lt,hn;return new Promise((Wn,Sr)=>{const Ar=Io("",20);Le.port1.start();const $i=setTimeout(()=>{Sr(new Error("unsupported_event"))},R);hn={messageChannel:Le,onMessage(Ms){const Fa=Ms;if(Fa.data.eventId===Ar)switch(Fa.data.status){case"ack":clearTimeout($i),Lt=setTimeout(()=>{Sr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Lt),Wn(Fa.data.response);break;default:clearTimeout($i),clearTimeout(Lt),Sr(new Error("invalid_response"))}}},se.handlers.add(hn),Le.port1.addEventListener("message",hn.onMessage),se.target.postMessage({eventType:m,eventId:Ar,data:E},[Le.port2])}).finally(()=>{hn&&se.removeMessageHandler(hn)})})()}}function Hi(){return window}function dl(){return typeof Hi().WorkerGlobalScope<"u"&&"function"==typeof Hi().importScripts}function Ri(){return(Ri=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gu="firebaseLocalStorageDb",Ya="firebaseLocalStorage",Qs="fbase_key";class $s{constructor(m){this.request=m}toPromise(){return new Promise((m,E)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Ps(b,m){return b.transaction([Ya],m?"readwrite":"readonly").objectStore(Ya)}function Eu(){const b=indexedDB.open(Gu,1);return new Promise((m,E)=>{b.addEventListener("error",()=>{E(b.error)}),b.addEventListener("upgradeneeded",()=>{const R=b.result;try{R.createObjectStore(Ya,{keyPath:Qs})}catch(se){E(se)}}),b.addEventListener("success",(0,c.A)(function*(){const R=b.result;R.objectStoreNames.contains(Ya)?m(R):(R.close(),yield function fl(){const b=indexedDB.deleteDatabase(Gu);return new $s(b).toPromise()}(),m(yield Eu()))}))})}function cc(b,m,E){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.A)(function*(b,m,E){const R=Ps(b,!0).put({[Qs]:m,value:E});return new $s(R).toPromise()})).apply(this,arguments)}function Xl(){return(Xl=(0,c.A)(function*(b,m){const E=Ps(b,!1).get(m),R=yield new $s(E).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Nc(b,m){const E=Ps(b,!0).delete(m);return new $s(E).toPromise()}const cs=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,c.A)(function*(){return E.db||(E.db=yield Eu()),E.db})()}_withRetries(E){var R=this;return(0,c.A)(function*(){let se=0;for(;;)try{const Le=yield R._openDb();return yield E(Le)}catch(Le){if(se++>3)throw Le;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,c.A)(function*(){return dl()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,c.A)(function*(){E.receiver=Mc._getInstance(function cd(){return dl()?self:null}()),E.receiver._subscribe("keyChanged",function(){var R=(0,c.A)(function*(se,Le){return{keyProcessed:(yield E._poll()).includes(Le.key)}});return function(se,Le){return R.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var R=(0,c.A)(function*(se,Le){return["keyChanged"]});return function(se,Le){return R.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,c.A)(function*(){var R,se;if(E.activeServiceWorker=yield function qo(){return Ri.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Us(E.activeServiceWorker);const Le=yield E.sender._send("ping",{},800);Le&&null!==(R=Le[0])&&void 0!==R&&R.fulfilled&&null!==(se=Le[0])&&void 0!==se&&se.value.includes("keyChanged")&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var R=this;return(0,c.A)(function*(){if(R.sender&&R.activeServiceWorker&&function Rs(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:E},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const E=yield Eu();return yield cc(E,_u,"1"),yield Nc(E,_u),!0}catch{}return!1})()}_withPendingWrite(E){var R=this;return(0,c.A)(function*(){R.pendingWrites++;try{yield E()}finally{R.pendingWrites--}})()}_set(E,R){var se=this;return(0,c.A)(function*(){return se._withPendingWrite((0,c.A)(function*(){return yield se._withRetries(Le=>cc(Le,E,R)),se.localCache[E]=R,se.notifyServiceWorker(E)}))})()}_get(E){var R=this;return(0,c.A)(function*(){const se=yield R._withRetries(Le=>function Iu(b,m){return Xl.apply(this,arguments)}(Le,E));return R.localCache[E]=se,se})()}_remove(E){var R=this;return(0,c.A)(function*(){return R._withPendingWrite((0,c.A)(function*(){return yield R._withRetries(se=>Nc(se,E)),delete R.localCache[E],R.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,c.A)(function*(){const R=yield E._withRetries(Lt=>{const hn=Ps(Lt,!1).getAll();return new $s(hn).toPromise()});if(!R)return[];if(0!==E.pendingWrites)return[];const se=[],Le=new Set;if(0!==R.length)for(const{fbase_key:Lt,value:hn}of R)Le.add(Lt),JSON.stringify(E.localCache[Lt])!==JSON.stringify(hn)&&(E.notifyListeners(Lt,hn),se.push(Lt));for(const Lt of Object.keys(E.localCache))E.localCache[Lt]&&!Le.has(Lt)&&(E.notifyListeners(Lt,null),se.push(Lt));return se})()}notifyListeners(E,R){this.localCache[E]=R;const se=this.listeners[E];if(se)for(const Le of Array.from(se))Le(R)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(R)}_removeListener(E,R){this.listeners[E]&&(this.listeners[E].delete(R),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),S=1e12;class ${constructor(m){this.auth=m,this.counter=S,this._widgets=new Map}render(m,E){const R=this.counter;return this._widgets.set(R,new De(m,this.auth.name,E||{})),this.counter++,R}reset(m){var E;const R=m||S;null===(E=this._widgets.get(R))||void 0===E||E.delete(),this._widgets.delete(R)}getResponse(m){var E;return(null===(E=this._widgets.get(m||S))||void 0===E?void 0:E.getResponse())||""}execute(m){var E=this;return(0,c.A)(function*(){var R;return null===(R=E._widgets.get(m||S))||void 0===R||R.execute(),""})()}}class De{constructor(m,E,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof m?document.getElementById(m):m;ae(se,"argument-error",{appName:E}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xe(b){const m=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<b;R++)m.push(E.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":E}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gt=dt("rcb"),Mn=new ee(3e4,6e4);class Zt{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Hi().grecaptcha)||void 0===m||!m.render)}load(m,E=""){return ae(function or(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(E),m,"argument-error"),this.shouldResolveImmediately(E)&&Xn(Hi().grecaptcha)?Promise.resolve(Hi().grecaptcha):new Promise((R,se)=>{const Le=Hi().setTimeout(()=>{se(Te(m,"network-request-failed"))},Mn.get());Hi()[Gt]=()=>{Hi().clearTimeout(Le),delete Hi()[Gt];const hn=Hi().grecaptcha;if(!hn||!Xn(hn))return void se(Te(m,"internal-error"));const Wn=hn.render;hn.render=(Sr,Ar)=>{const $i=Wn(Sr,Ar);return this.counter++,$i},this.hostLanguage=E,R(hn)},be(`${function ve(){return bt.recaptchaV2Script}()}?${(0,U.Am)({onload:Gt,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(Le),se(Te(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var E;return!(null===(E=Hi().grecaptcha)||void 0===E||!E.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kr{load(m){return(0,c.A)(function*(){return new $(m)})()}clearedOneInstance(){}}const Pi="recaptcha",ui={theme:"light",type:"image"};class po{constructor(m,E,R=Object.assign({},ui)){this.parameters=R,this.type=Pi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ye(m),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof E?document.getElementById(E):E;ae(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kr:new Zt,this.validateStartingState()}verify(){var m=this;return(0,c.A)(function*(){m.assertNotDestroyed();const E=yield m.render(),R=m.getAssertedRecaptcha();return R.getResponse(E)||new Promise(Le=>{const Lt=hn=>{hn&&(m.tokenChangeListeners.delete(Lt),Le(hn))};m.tokenChangeListeners.add(Lt),m.isInvisible&&R.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return E=>{if(this.tokenChangeListeners.forEach(R=>R(E)),"function"==typeof m)m(E);else if("string"==typeof m){const R=Hi()[m];"function"==typeof R&&R(E)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.A)(function*(){if(yield m.init(),!m.widgetId){let E=m.container;if(!m.isInvisible){const R=document.createElement("div");E.appendChild(R),E=R}m.widgetId=m.getAssertedRecaptcha().render(E,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.A)(function*(){ae(Ht()&&!dl(),m.auth,"internal-error"),yield function Yr(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const E=yield function sn(b){return At.apply(this,arguments)}(m.auth);ae(E,m.auth,"internal-error"),m.parameters.sitekey=E})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Li{constructor(m,E){this.verificationId=m,this.onConfirmation=E}confirm(m){const E=pr._fromVerification(this.verificationId,m);return this.onConfirmation(E)}}function lo(b,m,E){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.A)(function*(b,m,E){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const R=ye(b),se=yield Ja(R,m,(0,U.Ku)(E));return new Li(se,Le=>Y(R,Le))})).apply(this,arguments)}function so(b,m,E){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.A)(function*(b,m,E){const R=(0,U.Ku)(b);yield Po(!1,R,"phone");const se=yield Ja(R.auth,m,(0,U.Ku)(E));return new Li(se,Le=>Ee(R,Le))})).apply(this,arguments)}function vl(b,m,E){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.A)(function*(b,m,E){const R=(0,U.Ku)(b);if((0,p._isFirebaseServerApp)(R.auth.app))return Promise.reject(ct(R.auth));const se=yield Ja(R.auth,m,(0,U.Ku)(E));return new Li(se,Le=>Ie(R,Le))})).apply(this,arguments)}function Ja(b,m,E){return xc.apply(this,arguments)}function xc(){return xc=(0,c.A)(function*(b,m,E){var R;const se=yield E.verify();try{let Le;if(ae("string"==typeof se,b,"argument-error"),ae(E.type===Pi,b,"argument-error"),Le="string"==typeof m?{phoneNumber:m}:m,"session"in Le){const Lt=Le.session;if("phoneNumber"in Le)return ae("enroll"===Lt.type,b,"internal-error"),(yield function Vs(b,m){return it(b,"POST","/v2/accounts/mfaEnrollment:start",Ke(b,m))}(b,{idToken:Lt.credential,phoneEnrollmentInfo:{phoneNumber:Le.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{ae("signin"===Lt.type,b,"internal-error");const hn=(null===(R=Le.multiFactorHint)||void 0===R?void 0:R.uid)||Le.multiFactorUid;return ae(hn,b,"missing-multi-factor-info"),(yield function Oc(b,m){return it(b,"POST","/v2/accounts/mfaSignIn:start",Ke(b,m))}(b,{mfaPendingCredential:Lt.credential,mfaEnrollmentId:hn,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Lt}=yield function ur(b,m){return hi.apply(this,arguments)}(b,{phoneNumber:Le.phoneNumber,recaptchaToken:se});return Lt}}finally{E._reset()}}),xc.apply(this,arguments)}function Nl(b,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.A)(function*(b,m){const E=(0,U.Ku)(b);if((0,p._isFirebaseServerApp)(E.auth.app))return Promise.reject(ct(E.auth));yield Cs(E,m)})).apply(this,arguments)}let Za=(()=>{class b{constructor(E){this.providerId=b.PROVIDER_ID,this.auth=ye(E)}verifyPhoneNumber(E,R){return Ja(this.auth,E,(0,U.Ku)(R))}static credential(E,R){return pr._fromVerification(E,R)}static credentialFromResult(E){return b.credentialFromTaggedObject(E)}static credentialFromError(E){return b.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:R,temporaryProof:se}=E;return R&&se?pr._fromTokenResponse(R,se):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ol(b,m){return m?Ct(m):(ae(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class el extends co{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Nn(m,this._buildIdpRequest())}_linkToIdToken(m,E){return Nn(m,this._buildIdpRequest(E))}_getReauthenticationResolver(m){return Nn(m,this._buildIdpRequest())}_buildIdpRequest(m){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(E.idToken=m),E}}function dd(b){return jl(b.auth,new el(b),b.bypassAuthState)}function hd(b){const{auth:m,user:E}=b;return ae(E,m,"internal-error"),Ho(E,new el(b),b.bypassAuthState)}function fd(b){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,c.A)(function*(b){const{auth:m,user:E}=b;return ae(E,m,"internal-error"),Cs(E,new el(b),b.bypassAuthState)})).apply(this,arguments)}class Ku{constructor(m,E,R,se,Le=!1){this.auth=m,this.resolver=R,this.user=se,this.bypassAuthState=Le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var m=this;return new Promise(function(){var E=(0,c.A)(function*(R,se){m.pendingPromise={resolve:R,reject:se};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Le){m.reject(Le)}});return function(R,se){return E.apply(this,arguments)}}())}onAuthEvent(m){var E=this;return(0,c.A)(function*(){const{urlResponse:R,sessionId:se,postBody:Le,tenantId:Lt,error:hn,type:Wn}=m;if(hn)return void E.reject(hn);const Sr={auth:E.auth,requestUri:R,sessionId:se,tenantId:Lt||void 0,postBody:Le||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Wn)(Sr))}catch(Ar){E.reject(Ar)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return fd;case"reauthViaPopup":case"reauthViaRedirect":return hd;default:Qe(this.auth,"internal-error")}}resolve(m){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Au=new ee(2e3,1e4);function _l(b,m,E){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.A)(function*(b,m,E){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(Te(b,"operation-not-supported-in-this-environment"));const R=ye(b);vt(b,m,no);const se=Ol(R,E);return new bu(R,"signInViaPopup",m,se).executeNotNull()})).apply(this,arguments)}function yl(b,m,E){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.A)(function*(b,m,E){const R=(0,U.Ku)(b);if((0,p._isFirebaseServerApp)(R.auth.app))return Promise.reject(Te(R.auth,"operation-not-supported-in-this-environment"));vt(R.auth,m,no);const se=Ol(R.auth,E);return new bu(R.auth,"reauthViaPopup",m,se,R).executeNotNull()})).apply(this,arguments)}function Tu(b,m,E){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.A)(function*(b,m,E){const R=(0,U.Ku)(b);vt(R.auth,m,no);const se=Ol(R.auth,E);return new bu(R.auth,"linkViaPopup",m,se,R).executeNotNull()})).apply(this,arguments)}let bu=(()=>{class b extends Ku{constructor(E,R,se,Le,Lt){super(E,R,Le,Lt),this.provider=se,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var E=this;return(0,c.A)(function*(){const R=yield E.execute();return ae(R,E.auth,"internal-error"),R})()}onExecution(){var E=this;return(0,c.A)(function*(){Xt(1===E.filter.length,"Popup operations only handle one event");const R=Io();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],R),E.authWindow.associatedEvent=R,E.resolver._originValidation(E.auth).catch(se=>{E.reject(se)}),E.resolver._isIframeWebStorageSupported(E.auth,se=>{se||E.reject(Te(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const E=()=>{var R,se;this.pollId=null!==(se=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(E,Au.get())};E()}}return b.currentPopupAction=null,b})();const js="pendingRedirect",os=new Map;class El extends Ku{constructor(m,E,R=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,R),this.eventId=null}execute(){var m=()=>super.execute,E=this;return(0,c.A)(function*(){let R=os.get(E.auth._key());if(!R){try{const Le=(yield function Xu(b,m){return Js.apply(this,arguments)}(E.resolver,E.auth))?yield m().call(E):null;R=()=>Promise.resolve(Le)}catch(se){R=()=>Promise.reject(se)}os.set(E.auth._key(),R)}return E.bypassAuthState||os.set(E.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(m){var E=()=>super.onAuthEvent,R=this;return(0,c.A)(function*(){if("signInViaRedirect"===m.type)return E().call(R,m);if("unknown"!==m.type){if(m.eventId){const se=yield R.auth._redirectUserForId(m.eventId);if(se)return R.user=se,E().call(R,m);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function Js(){return(Js=(0,c.A)(function*(b,m){const E=Yu(m),R=Ds(b);if(!(yield R._isAvailable()))return!1;const se="true"===(yield R._get(E));return yield R._remove(E),se})).apply(this,arguments)}function qu(b,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.A)(function*(b,m){return Ds(b)._set(Yu(m),"true")})).apply(this,arguments)}function dc(){os.clear()}function Qu(b,m){os.set(b._key(),m)}function Ds(b){return Ct(b._redirectPersistence)}function Yu(b){return xn(js,b.config.apiKey,b.name)}function Ql(b,m,E){return function Yl(b,m,E){return Ju.apply(this,arguments)}(b,m,E)}function Ju(){return(Ju=(0,c.A)(function*(b,m,E){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const R=ye(b);vt(b,m,no),yield R._initializationPromise;const se=Ol(R,E);return yield qu(se,R),se._openRedirect(R,m,"signInViaRedirect")})).apply(this,arguments)}function ka(b,m,E){return function Ch(b,m,E){return xl.apply(this,arguments)}(b,m,E)}function xl(){return(xl=(0,c.A)(function*(b,m,E){const R=(0,U.Ku)(b);if(vt(R.auth,m,no),(0,p._isFirebaseServerApp)(R.auth.app))return Promise.reject(ct(R.auth));yield R.auth._initializationPromise;const se=Ol(R.auth,E);yield qu(se,R.auth);const Le=yield Fc(R);return se._openRedirect(R.auth,m,"reauthViaRedirect",Le)})).apply(this,arguments)}function No(b,m,E){return function Il(b,m,E){return hc.apply(this,arguments)}(b,m,E)}function hc(){return(hc=(0,c.A)(function*(b,m,E){const R=(0,U.Ku)(b);vt(R.auth,m,no),yield R.auth._initializationPromise;const se=Ol(R.auth,E);yield Po(!1,R,m.providerId),yield qu(se,R.auth);const Le=yield Fc(R);return se._openRedirect(R.auth,m,"linkViaRedirect",Le)})).apply(this,arguments)}function fc(b,m){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.A)(function*(b,m){return yield ye(b)._initializationPromise,ec(b,m,!1)})).apply(this,arguments)}function ec(b,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.A)(function*(b,m,E=!1){if((0,p._isFirebaseServerApp)(b.app))return Promise.reject(ct(b));const R=ye(b),se=Ol(R,m),Lt=yield new El(R,se,E).execute();return Lt&&!E&&(delete Lt.user._redirectEventId,yield R._persistUserIfCurrent(Lt.user),yield R._setRedirectUser(null,m)),Lt})).apply(this,arguments)}function Fc(b){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.A)(function*(b){const m=Io(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Vc{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let E=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(m,R)&&(E=!0,this.sendToConsumer(m,R),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function tr(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ao(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=m,E=!0)),E}sendToConsumer(m,E){var R;if(m.error&&!Ao(m)){const se=(null===(R=m.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";E.onError(Te(this.auth,se))}else E.onAuthEvent(m)}isEventForConsumer(m,E){const R=null===E.eventId||!!m.eventId&&m.eventId===E.eventId;return E.filter.includes(m.type)&&R}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(m))}saveEventToCache(m){this.cachedEventUids.add(Du(m)),this.lastProcessedEventTime=Date.now()}}function Du(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Ao({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Fr(b){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.A)(function*(b,m={}){return it(b,"GET","/v1/projects",m)})).apply(this,arguments)}const fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ds=/^https?/;function ws(){return(ws=(0,c.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Fr(b);for(const E of m)try{if(Eo(E))return}catch{}Qe(b,"unauthorized-domain")})).apply(this,arguments)}function Eo(b){const m=un(),{protocol:E,hostname:R}=new URL(m);if(b.startsWith("chrome-extension://")){const Lt=new URL(b);return""===Lt.hostname&&""===R?"chrome-extension:"===E&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===E&&Lt.hostname===R}if(!ds.test(E))return!1;if(fa.test(b))return R===b;const se=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(R)}const $o=new ee(3e4,6e4);function Zs(){const b=Hi().___jsl;if(null!=b&&b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let E=0;E<b.CP.length;E++)b.CP[E]=null}let io=null;const wu=new ee(5e3,15e3),To="__/auth/iframe",Jl="emulator/auth/iframe",tl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},La=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nl(b){const m=b.config;ae(m.authDomain,b,"auth-domain-config-required");const E=m.emulator?de(m,Jl):`https://${b.config.authDomain}/${To}`,R={apiKey:m.apiKey,appName:b.name,v:p.SDK_VERSION},se=La.get(b.config.apiHost);se&&(R.eid=se);const Le=b._getFrameworks();return Le.length&&(R.fw=Le.join(",")),`${E}?${(0,U.Am)(R).slice(1)}`}function Cl(){return Cl=(0,c.A)(function*(b){const m=yield function Fd(b){return io=io||function ii(b){return new Promise((m,E)=>{var R,se,Le;function Lt(){Zs(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Zs(),E(Te(b,"network-request-failed"))},timeout:$o.get()})}if(null!==(se=null===(R=Hi().gapi)||void 0===R?void 0:R.iframes)&&void 0!==se&&se.Iframe)m(gapi.iframes.getContext());else{if(null===(Le=Hi().gapi)||void 0===Le||!Le.load){const hn=dt("iframefcb");return Hi()[hn]=()=>{gapi.load?Lt():E(Te(b,"network-request-failed"))},be(`${function at(){return bt.gapiScript}()}?onload=${hn}`).catch(Wn=>E(Wn))}Lt()}}).catch(m=>{throw io=null,m})}(b),io}(b),E=Hi().gapi;return ae(E,b,"internal-error"),m.open({where:document.body,url:nl(b),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tl,dontclear:!0},R=>new Promise(function(){var se=(0,c.A)(function*(Le,Lt){yield R.restyle({setHideOnLeave:!1});const hn=Te(b,"network-request-failed"),Wn=Hi().setTimeout(()=>{Lt(hn)},wu.get());function Sr(){Hi().clearTimeout(Wn),Le(R)}R.ping(Sr).then(Sr,()=>{Lt(hn)})});return function(Le,Lt){return se.apply(this,arguments)}}()))}),Cl.apply(this,arguments)}const Zl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ta{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wi="__/auth/handler",Pu="emulator/auth/handler",go=encodeURIComponent("fac");function Bo(b,m,E,R,se,Le){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.A)(function*(b,m,E,R,se,Le){ae(b.config.authDomain,b,"auth-domain-config-required"),ae(b.config.apiKey,b,"invalid-api-key");const Lt={apiKey:b.config.apiKey,appName:b.name,authType:E,redirectUrl:R,v:p.SDK_VERSION,eventId:se};if(m instanceof no){m.setDefaultLanguage(b.languageCode),Lt.providerId=m.providerId||"",(0,U.Im)(m.getCustomParameters())||(Lt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Ar,$i]of Object.entries(Le||{}))Lt[Ar]=$i}if(m instanceof So){const Ar=m.getScopes().filter($i=>""!==$i);Ar.length>0&&(Lt.scopes=Ar.join(","))}b.tenantId&&(Lt.tid=b.tenantId);const hn=Lt;for(const Ar of Object.keys(hn))void 0===hn[Ar]&&delete hn[Ar];const Wn=yield b._getAppCheckToken(),Sr=Wn?`#${go}=${encodeURIComponent(Wn)}`:"";return`${function pa({config:b}){return b.emulator?de(b,Pu):`https://${b.authDomain}/${Wi}`}(b)}?${(0,U.Am)(hn).slice(1)}${Sr}`})).apply(this,arguments)}const tu="webStorageSupport",ga=class rl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yu,this._completeRedirectFn=ec,this._overrideRedirectResult=Qu}_openPopup(m,E,R,se){var Le=this;return(0,c.A)(function*(){var Lt;Xt(null===(Lt=Le.eventManagers[m._key()])||void 0===Lt?void 0:Lt.manager,"_initialize() not called before _openPopup()");const hn=yield Bo(m,E,R,un(),se);return function eu(b,m,E,R=500,se=600){const Le=Math.max((window.screen.availHeight-se)/2,0).toString(),Lt=Math.max((window.screen.availWidth-R)/2,0).toString();let hn="";const Wn=Object.assign(Object.assign({},Zl),{width:R.toString(),height:se.toString(),top:Le,left:Lt}),Sr=(0,U.ZQ)().toLowerCase();E&&(hn=Ai(Sr)?"_blank":E),Hn(Sr)&&(m=m||"http://localhost",Wn.scrollbars="yes");const Ar=Object.entries(Wn).reduce((Ms,[Fa,iu])=>`${Ms}${Fa}=${iu},`,"");if(function tn(b=(0,U.ZQ)()){var m;return Bi(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Sr)&&"_self"!==hn)return function Ru(b,m){const E=document.createElement("a");E.href=b,E.target=m;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(R)}(m||"",hn),new ta(null);const $i=window.open(m||"",hn,Ar);ae($i,b,"popup-blocked");try{$i.focus()}catch{}return new ta($i)}(m,hn,Io())})()}_openRedirect(m,E,R,se){var Le=this;return(0,c.A)(function*(){return yield Le._originValidation(m),function ud(b){Hi().location.href=b}(yield Bo(m,E,R,un(),se)),new Promise(()=>{})})()}_initialize(m){const E=m._key();if(this.eventManagers[E]){const{manager:se,promise:Le}=this.eventManagers[E];return se?Promise.resolve(se):(Xt(Le,"If manager is not set, promise should be"),Le)}const R=this.initAndGetManager(m);return this.eventManagers[E]={promise:R},R.catch(()=>{delete this.eventManagers[E]}),R}initAndGetManager(m){var E=this;return(0,c.A)(function*(){const R=yield function pc(b){return Cl.apply(this,arguments)}(m),se=new Vc(m);return R.register("authEvent",Le=>(ae(null==Le?void 0:Le.authEvent,m,"invalid-auth-event"),{status:se.onEvent(Le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[m._key()]={manager:se},E.iframes[m._key()]=R,se})()}_isIframeWebStorageSupported(m,E){this.iframes[m._key()].send(tu,{type:tu},se=>{var Le;const Lt=null===(Le=null==se?void 0:se[0])||void 0===Le?void 0:Le[tu];void 0!==Lt&&E(!!Lt),Qe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const E=m._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Qo(b){return ws.apply(this,arguments)}(m)),this.originValidationPromises[E]}get _shouldInitProactively(){return le()||wr()||Bi()}};class Vd{constructor(m){this.factorId=m}_process(m,E,R){switch(E.type){case"enroll":return this._finalizeEnroll(m,E.credential,R);case"signin":return this._finalizeSignIn(m,E.credential);default:return Et("unexpected MultiFactorSessionType")}}}class nu extends Vd{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new nu(m)}_finalizeEnroll(m,E,R){return function da(b,m){return it(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(b,m))}(m,{idToken:E,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,E){return function Oa(b,m){return it(b,"POST","/v2/accounts/mfaSignIn:finalize",Ke(b,m))}(m,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ru=(()=>{class b{constructor(){}static assertion(E){return nu._fromCredential(E)}}return b.FACTOR_ID="phone",b})();var Ud="@firebase/auth";class _c{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var E=this;return(0,c.A)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const E=this.auth.onIdTokenChanged(R=>{m((null==R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,E),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const E=this.internalListeners.get(m);E&&(this.internalListeners.delete(m),E(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Th=(0,U.XA)("authIdTokenMaxAge")||300;let gd=null;const md=b=>function(){var m=(0,c.A)(function*(E){const R=E&&(yield E.getIdTokenResult()),se=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(se&&se>Th)return;const Le=null==R?void 0:R.token;gd!==Le&&(gd=Le,yield fetch(b,{method:Le?"POST":"DELETE",headers:Le?{Authorization:`Bearer ${Le}`}:{}}))});return function(E){return m.apply(this,arguments)}}();function Bc(b=(0,p.getApp)()){const m=(0,p._getProvider)(b,"auth");if(m.isInitialized())return m.getImmediate();const E=function ai(b,m){const E=(0,p._getProvider)(b,"auth");if(E.isInitialized()){const se=E.getImmediate(),Le=E.getOptions();if((0,U.bD)(Le,null!=m?m:{}))return se;Qe(se,"already-initialized")}return E.initialize({options:m})}(b,{popupRedirectResolver:ga,persistence:[cs,Wu,yu]}),R=(0,U.XA)("authTokenSyncURL");if(R&&"boolean"==typeof isSecureContext&&isSecureContext){const Le=new URL(R,location.origin);if(location.origin===Le.origin){const Lt=md(Le.toString());(function Qr(b,m,E){(0,U.Ku)(b).beforeAuthStateChanged(m,E)})(E,Lt,()=>Lt(E.currentUser)),function qn(b,m,E,R){(0,U.Ku)(b).onIdTokenChanged(m,E,R)}(E,hn=>Lt(hn))}}const se=(0,U.Tj)("auth");return se&&Ir(E,`http://${se}`),E}(function X(b){bt=b})({loadJS:b=>new Promise((m,E)=>{const R=document.createElement("script");R.setAttribute("src",b),R.onload=m,R.onerror=se=>{const Le=Te("internal-error");Le.customData=se,E(Le)},R.type="text/javascript",R.charset="UTF-8",function ma(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(R)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function pd(b){(0,p._registerComponent)(new Pe.uA("auth",(m,{options:E})=>{const R=m.getProvider("app").getImmediate(),se=m.getProvider("heartbeat"),Le=m.getProvider("app-check-internal"),{apiKey:Lt,authDomain:hn}=R.options;ae(Lt&&!Lt.includes(":"),"invalid-api-key",{appName:R.name});const Wn={apiKey:Lt,authDomain:hn,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Je(b)},Sr=new jn(R,se,Le,Wn);return function Nr(b,m){const E=(null==m?void 0:m.persistence)||[],R=(Array.isArray(E)?E:[E]).map(Ct);null!=m&&m.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(R,null==m?void 0:m.popupRedirectResolver)}(Sr,E),Sr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,E,R)=>{m.getProvider("auth-internal").initialize()})),(0,p._registerComponent)(new Pe.uA("auth-internal",m=>{const E=ye(m.getProvider("auth").getImmediate());return new _c(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,p.registerVersion)(Ud,"1.7.8",function $c(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,p.registerVersion)(Ud,"1.7.8","esm2017")}("Browser")},99:(Gn,St,k)=>{"use strict";k.d(St,{r7:()=>c.ak,xI:()=>c.o});var c=k(576);k(7852),k(1076),k(8041),k(1362)},463:(Gn,St,k)=>{"use strict";k.d(St,{$1:()=>$i,$w:()=>mc,AU:()=>Bc,C3:()=>Wc,CA:()=>wh,D8:()=>rl,Di:()=>ps,EO:()=>Le,EZ:()=>us,FD:()=>m,GV:()=>yd,HM:()=>hn,JK:()=>rc,Jt:()=>Ud,KR:()=>tu,Kd:()=>El,M4:()=>Th,Mq:()=>Gc,O5:()=>yc,P:()=>ol,SF:()=>ot,TF:()=>ru,TS:()=>_d,U0:()=>md,V0:()=>Nf,VC:()=>nu,VJ:()=>Bd,VR:()=>zc,X1:()=>gd,YL:()=>Wi,Zy:()=>pd,_O:()=>Ah,c4:()=>Ed,eO:()=>jd,hZ:()=>gc,iz:()=>Hc,j2:()=>Js,jf:()=>ga,kT:()=>Fa,og:()=>il,pk:()=>Sr,rf:()=>R,t2:()=>hs,wu:()=>Ru,yo:()=>Uc,zm:()=>nc});var c=k(467),p=k(7852),U=k(1362),q=k(1076),ce=k(8041);const Pe="@firebase/database";let Re="";function ot(g){Re=g}class Ve{constructor(d){this.domStorage_=d,this.prefix_="firebase:"}set(d,f){null==f?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,q.As)(f))}get(d){const f=this.domStorage_.getItem(this.prefixedName_(d));return null==f?null:(0,q.$L)(f)}remove(d){this.domStorage_.removeItem(this.prefixedName_(d))}prefixedName_(d){return this.prefix_+d}toString(){return this.domStorage_.toString()}}class me{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(d,f){null==f?delete this.cache_[d]:this.cache_[d]=f}get(d){return(0,q.gR)(this.cache_,d)?this.cache_[d]:null}remove(d){delete this.cache_[d]}}const We=function(g){try{if(typeof window<"u"&&typeof window[g]<"u"){const d=window[g];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new Ve(d)}}catch{}return new me},Ye=We("localStorage"),He=We("sessionStorage"),ut=new ce.Vy("@firebase/database"),gt=function(){let g=1;return function(){return g++}}(),mt=function(g){const d=(0,q.kj)(g),f=new q.gz;f.update(d);const y=f.digest();return q.K3.encodeByteArray(y)},ft=function(...g){let d="";for(let f=0;f<g.length;f++){const y=g[f];Array.isArray(y)||y&&"object"==typeof y&&"number"==typeof y.length?d+=ft.apply(null,y):d+="object"==typeof y?(0,q.As)(y):y,d+=" "}return d};let Ot=null,Tt=!0;const Qe=function(g,d){(0,q.vA)(!d||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(ut.logLevel=ce.$b.VERBOSE,Ot=ut.log.bind(ut),d&&He.set("logging_enabled",!0)):"function"==typeof g?Ot=g:(Ot=null,He.remove("logging_enabled"))},Te=function(...g){if(!0===Tt&&(Tt=!1,null===Ot&&!0===He.get("logging_enabled")&&Qe(!0)),Ot){const d=ft.apply(null,g);Ot(d)}},$e=function(g){return function(...d){Te(g,...d)}},ct=function(...g){const d="FIREBASE INTERNAL ERROR: "+ft(...g);ut.error(d)},vt=function(...g){const d=`FIREBASE FATAL ERROR: ${ft(...g)}`;throw ut.error(d),new Error(d)},Ut=function(...g){const d="FIREBASE WARNING: "+ft(...g);ut.warn(d)},Et=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},un="[MIN_NAME]",Ht="[MAX_NAME]",Ft=function(g,d){if(g===d)return 0;if(g===un||d===Ht)return-1;if(d===un||g===Ht)return 1;{const f=gn(g),y=gn(d);return null!==f?null!==y?f-y==0?g.length-d.length:f-y:-1:null!==y?1:g<d?-1:1}},Qn=function(g,d){return g===d?0:g<d?-1:1},Ze=function(g,d){if(d&&g in d)return d[g];throw new Error("Missing required key ("+g+") in object: "+(0,q.As)(d))},ee=function(g){if("object"!=typeof g||null===g)return(0,q.As)(g);const d=[];for(const y in g)d.push(y);d.sort();let f="{";for(let y=0;y<d.length;y++)0!==y&&(f+=","),f+=(0,q.As)(d[y]),f+=":",f+=ee(g[d[y]]);return f+="}",f},de=function(g,d){const f=g.length;if(f<=d)return[g];const y=[];for(let M=0;M<f;M+=d)y.push(g.substring(M,M+d>f?f:M+d));return y};function Se(g,d){for(const f in g)g.hasOwnProperty(f)&&d(f,g[f])}const he=function(g){(0,q.vA)(!Et(g),"Invalid JSON number");const y=1023;let M,K,ne,ue,et;0===g?(K=0,ne=0,M=1/g==-1/0?1:0):(M=g<0,(g=Math.abs(g))>=Math.pow(2,1-y)?(ue=Math.min(Math.floor(Math.log(g)/Math.LN2),y),K=ue+y,ne=Math.round(g*Math.pow(2,52-ue)-Math.pow(2,52))):(K=0,ne=Math.round(g/Math.pow(2,-1074))));const Dt=[];for(et=52;et;et-=1)Dt.push(ne%2?1:0),ne=Math.floor(ne/2);for(et=11;et;et-=1)Dt.push(K%2?1:0),K=Math.floor(K/2);Dt.push(M?1:0),Dt.reverse();const wn=Dt.join("");let cn="";for(et=0;et<64;et+=8){let Un=parseInt(wn.substr(et,8),2).toString(16);1===Un.length&&(Un="0"+Un),cn+=Un}return cn.toLowerCase()},nt=new RegExp("^-?(0*)\\d{1,10}$"),gn=function(g){if(nt.test(g)){const d=Number(g);if(d>=-2147483648&&d<=2147483647)return d}return null},ir=function(g){try{g()}catch(d){setTimeout(()=>{throw Ut("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},gr=function(g,d){const f=setTimeout(g,d);return"number"==typeof f&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(f):"object"==typeof f&&f.unref&&f.unref(),f};class Kn{constructor(d,f){this.appName_=d,this.appCheckProvider=f,this.appCheck=null==f?void 0:f.getImmediate({optional:!0}),this.appCheck||null==f||f.get().then(y=>this.appCheck=y)}getToken(d){return this.appCheck?this.appCheck.getToken(d):new Promise((f,y)=>{setTimeout(()=>{this.appCheck?this.getToken(d).then(f,y):f(null)},0)})}addTokenChangeListener(d){var f;null===(f=this.appCheckProvider)||void 0===f||f.get().then(y=>y.addTokenListener(d))}notifyForInvalidToken(){Ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _r{constructor(d,f,y){this.appName_=d,this.firebaseOptions_=f,this.authProvider_=y,this.auth_=null,this.auth_=y.getImmediate({optional:!0}),this.auth_||y.onInit(M=>this.auth_=M)}getToken(d){return this.auth_?this.auth_.getToken(d).catch(f=>f&&"auth/token-not-initialized"===f.code?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(f)):new Promise((f,y)=>{setTimeout(()=>{this.auth_?this.getToken(d).then(f,y):f(null)},0)})}addTokenChangeListener(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(f=>f.addAuthTokenListener(d))}removeTokenChangeListener(d){this.authProvider_.get().then(f=>f.removeAuthTokenListener(d))}notifyForInvalidToken(){let d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ut(d)}}let Xn=(()=>{class g{constructor(f){this.accessToken=f}getToken(f){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(f){f(this.accessToken)}removeTokenChangeListener(f){}notifyForInvalidToken(){}}return g.OWNER="owner",g})();const vn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zn="websocket",mn="long_polling";class kr{constructor(d,f,y,M,K=!1,ne="",ue=!1,et=!1){this.secure=f,this.namespace=y,this.webSocketOnly=M,this.nodeAdmin=K,this.persistenceKey=ne,this.includeNamespaceInQueryParams=ue,this.isUsingEmulator=et,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ye.get("host:"+d)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&Ye.set("host:"+this._host,this.internalHost))}toString(){let d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Dr(g,d,f){let y;if((0,q.vA)("string"==typeof d,"typeof type must == string"),(0,q.vA)("object"==typeof f,"typeof params must == object"),d===Zn)y=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else{if(d!==mn)throw new Error("Unknown connection type: "+d);y=(g.secure?"https://":"http://")+g.internalHost+"/.lp?"}(function Xr(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams})(g)&&(f.ns=g.namespace);const M=[];return Se(f,(K,ne)=>{M.push(K+"="+ne)}),y+M.join("&")}class yr{constructor(){this.counters_={}}incrementCounter(d,f=1){(0,q.gR)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=f}get(){return(0,q.A4)(this.counters_)}}const Hr={},ri={};function Pr(g){const d=g.toString();return Hr[d]||(Hr[d]=new yr),Hr[d]}class rr{constructor(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(d,f){this.closeAfterResponse=d,this.onClose=f,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(d,f){for(this.pendingResponses[d]=f;this.pendingResponses[this.currentResponseNum];){const y=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let M=0;M<y.length;++M)y[M]&&ir(()=>{this.onMessage_(y[M])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fe{constructor(d,f,y,M,K,ne,ue){this.connId=d,this.repoInfo=f,this.applicationId=y,this.appCheckToken=M,this.authToken=K,this.transportSessionId=ne,this.lastSessionId=ue,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$e(d),this.stats_=Pr(f),this.urlFn=et=>(this.appCheckToken&&(et.ac=this.appCheckToken),Dr(f,mn,et))}open(d,f){this.curSegmentNum=0,this.onDisconnect_=f,this.myPacketOrderer=new rr(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if((0,q.$g)()||"complete"===document.readyState)g();else{let d=!1;const f=function(){document.body?d||(d=!0,g()):setTimeout(f,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&f()}),window.attachEvent("onload",f))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ct((...K)=>{const[ne,ue,et,Dt,wn]=K;if(this.incrementIncomingBytes_(K),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===ne)this.id=ue,this.password=et;else{if("close"!==ne)throw new Error("Unrecognized command received: "+ne);ue?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ue,()=>{this.onClosed_()})):this.onClosed_()}},(...K)=>{const[ne,ue]=K;this.incrementIncomingBytes_(K),this.myPacketOrderer.handleResponse(ne,ue)},()=>{this.onClosed_()},this.urlFn);const y={start:"t"};y.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(y.cb=this.scriptTagHolder.uniqueCallbackIdentifier),y.v="5",this.transportSessionId&&(y.s=this.transportSessionId),this.lastSessionId&&(y.ls=this.lastSessionId),this.applicationId&&(y.p=this.applicationId),this.appCheckToken&&(y.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&vn.test(location.hostname)&&(y.r="f");const M=this.urlFn(y);this.log_("Connecting via long-poll to "+M),this.scriptTagHolder.addTag(M,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fe.forceAllow_=!0}static forceDisallow(){Fe.forceDisallow_=!0}static isAvailable(){return!((0,q.$g)()||!Fe.forceAllow_&&(Fe.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(d){const f=(0,q.As)(d);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const y=(0,q.KA)(f),M=de(y,1840);for(let K=0;K<M.length;K++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[K]),this.curSegmentNum++}addDisconnectPingFrame(d,f){if((0,q.$g)())return;this.myDisconnFrame=document.createElement("iframe");const y={dframe:"t"};y.id=d,y.pw=f,this.myDisconnFrame.src=this.urlFn(y),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(d){const f=(0,q.As)(d).length;this.bytesReceived+=f,this.stats_.incrementCounter("bytes_received",f)}}class Ct{constructor(d,f,y,M){if(this.onDisconnect=y,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,q.$g)())this.commandCB=d,this.onMessageCB=f;else{this.uniqueCallbackIdentifier=gt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=f,this.myIFrame=Ct.createIFrame_();let K="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(K='<script>document.domain="'+document.domain+'";<\/script>');const ne="<html><body>"+K+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ne),this.myIFrame.doc.close()}catch(ue){Te("frame writing exception"),ue.stack&&Te(ue.stack),Te(ue)}}}static createIFrame_(){const d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||Te("No IE domain setting required")}catch{const y=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+y+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const d=this.onDisconnect;d&&(this.onDisconnect=null,d())}startLongPoll(d,f){for(this.myID=d,this.myPW=f,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;let f=this.urlFn(d),y="",M=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+y.length<=1870;){const ne=this.pendingSegs.shift();y=y+"&seg"+M+"="+ne.seg+"&ts"+M+"="+ne.ts+"&d"+M+"="+ne.d,M++}return f+=y,this.addLongPollTag_(f,this.currentSerial),!0}return!1}enqueueSegment(d,f,y){this.pendingSegs.push({seg:d,ts:f,d:y}),this.alive&&this.newRequest_()}addLongPollTag_(d,f){this.outstandingRequests.add(f);const y=()=>{this.outstandingRequests.delete(f),this.newRequest_()},M=setTimeout(y,Math.floor(25e3));this.addTag(d,()=>{clearTimeout(M),y()})}addTag(d,f){(0,q.$g)()?this.doNodeLongPoll(d,f):setTimeout(()=>{try{if(!this.sendNewPolls)return;const y=this.myIFrame.doc.createElement("script");y.type="text/javascript",y.async=!0,y.src=d,y.onload=y.onreadystatechange=function(){const M=y.readyState;(!M||"loaded"===M||"complete"===M)&&(y.onload=y.onreadystatechange=null,y.parentNode&&y.parentNode.removeChild(y),f())},y.onerror=()=>{Te("Long-poll script failed to load: "+d),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(y)}catch{}},Math.floor(1))}}let xn=null;typeof MozWebSocket<"u"?xn=MozWebSocket:typeof WebSocket<"u"&&(xn=WebSocket);let An=(()=>{class g{constructor(f,y,M,K,ne,ue,et){this.connId=f,this.applicationId=M,this.appCheckToken=K,this.authToken=ne,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$e(this.connId),this.stats_=Pr(y),this.connURL=g.connectionURL_(y,ue,et,K,M),this.nodeAdmin=y.nodeAdmin}static connectionURL_(f,y,M,K,ne){const ue={v:"5"};return!(0,q.$g)()&&typeof location<"u"&&location.hostname&&vn.test(location.hostname)&&(ue.r="f"),y&&(ue.s=y),M&&(ue.ls=M),K&&(ue.ac=K),ne&&(ue.p=ne),Dr(f,Zn,ue)}open(f,y){this.onDisconnect=y,this.onMessage=f,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ye.set("previous_websocket_failure",!0);try{let M;if((0,q.$g)()){M={headers:{"User-Agent":`Firebase/5/${Re}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(M.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(M.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ne=process.env,ue=0===this.connURL.indexOf("wss://")?ne.HTTPS_PROXY||ne.https_proxy:ne.HTTP_PROXY||ne.http_proxy;ue&&(M.proxy={origin:ue})}this.mySock=new xn(this.connURL,[],M)}catch(M){this.log_("Error instantiating WebSocket.");const K=M.message||M.data;return K&&this.log_(K),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=M=>{this.handleIncomingFrame(M)},this.mySock.onerror=M=>{this.log_("WebSocket error.  Closing connection.");const K=M.message||M.data;K&&this.log_(K),this.onClosed_()}}start(){}static forceDisallow(){g.forceDisallow_=!0}static isAvailable(){let f=!1;if(typeof navigator<"u"&&navigator.userAgent){const M=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);M&&M.length>1&&parseFloat(M[1])<4.4&&(f=!0)}return!f&&null!==xn&&!g.forceDisallow_}static previouslyFailed(){return Ye.isInMemoryStorage||!0===Ye.get("previous_websocket_failure")}markConnectionHealthy(){Ye.remove("previous_websocket_failure")}appendFrame_(f){if(this.frames.push(f),this.frames.length===this.totalFrames){const y=this.frames.join("");this.frames=null;const M=(0,q.$L)(y);this.onMessage(M)}}handleNewFrameCount_(f){this.totalFrames=f,this.frames=[]}extractFrameCount_(f){if((0,q.vA)(null===this.frames,"We already have a frame buffer"),f.length<=6){const y=Number(f);if(!isNaN(y))return this.handleNewFrameCount_(y),null}return this.handleNewFrameCount_(1),f}handleIncomingFrame(f){if(null===this.mySock)return;const y=f.data;if(this.bytesReceived+=y.length,this.stats_.incrementCounter("bytes_received",y.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(y);else{const M=this.extractFrameCount_(y);null!==M&&this.appendFrame_(M)}}send(f){this.resetKeepAlive();const y=(0,q.As)(f);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);const M=de(y,16384);M.length>1&&this.sendString_(String(M.length));for(let K=0;K<M.length;K++)this.sendString_(M[K])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(f){try{this.mySock.send(f)}catch(y){this.log_("Exception thrown from WebSocket.send():",y.message||y.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g})(),yn=(()=>{class g{constructor(f){this.initTransports_(f)}static get ALL_TRANSPORTS(){return[Fe,An]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(f){const y=An&&An.isAvailable();let M=y&&!An.previouslyFailed();if(f.webSocketOnly&&(y||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),M=!0),M)this.transports_=[An];else{const K=this.transports_=[];for(const ne of g.ALL_TRANSPORTS)ne&&ne.isAvailable()&&K.push(ne);g.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return g.globalTransportInitialized_=!1,g})();class ge{constructor(d,f,y,M,K,ne,ue,et,Dt,wn){this.id=d,this.repoInfo_=f,this.applicationId_=y,this.appCheckToken_=M,this.authToken_=K,this.onMessage_=ne,this.onReady_=ue,this.onDisconnect_=et,this.onKill_=Dt,this.lastSessionId=wn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$e("c:"+this.id+":"),this.transportManager_=new yn(f),this.log_("Connection created"),this.start_()}start_(){const d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const f=this.connReceiver_(this.conn_),y=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(f,y)},Math.floor(0));const M=d.healthyTimeout||0;M>0&&(this.healthyTimeout_=gr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(M)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(d){return f=>{d===this.conn_?this.onConnectionLost_(f):d===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(d){return f=>{2!==this.state_&&(d===this.rx_?this.onPrimaryMessageReceived_(f):d===this.secondaryConn_?this.onSecondaryMessageReceived_(f):this.log_("message on old connection"))}}sendRequest(d){this.sendData_({t:"d",d})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(d){if("t"in d){const f=d.t;"a"===f?this.upgradeIfSecondaryHealthy_():"r"===f?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===f&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(d){const f=Ze("t",d),y=Ze("d",d);if("c"===f)this.onSecondaryControl_(y);else{if("d"!==f)throw new Error("Unknown protocol layer: "+f);this.pendingDataMessages.push(y)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(d){const f=Ze("t",d),y=Ze("d",d);"c"===f?this.onControl_(y):"d"===f&&this.onDataMessage_(y)}onDataMessage_(d){this.onPrimaryResponse_(),this.onMessage_(d)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(d){const f=Ze("t",d);if("d"in d){const y=d.d;if("h"===f){const M=Object.assign({},y);this.repoInfo_.isUsingEmulator&&(M.h=this.repoInfo_.host),this.onHandshake_(M)}else if("n"===f){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===f?this.onConnectionShutdown_(y):"r"===f?this.onReset_(y):"e"===f?ct("Server Error: "+y):"o"===f?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ct("Unknown control packet command: "+f)}}onHandshake_(d){const f=d.ts,y=d.v,M=d.h;this.sessionId=d.s,this.repoInfo_.host=M,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,f),"5"!==y&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)}startUpgrade_(d){this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const f=this.connReceiver_(this.secondaryConn_),y=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(f,y),gr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(d,f){this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(f,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()}onConnectionLost_(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ye.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ge{put(d,f,y,M){}merge(d,f,y,M){}refreshAuthToken(d){}refreshAppCheckToken(d){}onDisconnectPut(d,f,y){}onDisconnectMerge(d,f,y){}onDisconnectCancel(d,f){}reportStats(d){}}class jt{constructor(d){this.allowedEvents_=d,this.listeners_={},(0,q.vA)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}trigger(d,...f){if(Array.isArray(this.listeners_[d])){const y=[...this.listeners_[d]];for(let M=0;M<y.length;M++)y[M].callback.apply(y[M].context,f)}}on(d,f,y){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:f,context:y});const M=this.getInitialEvent(d);M&&f.apply(y,M)}off(d,f,y){this.validateEventType_(d);const M=this.listeners_[d]||[];for(let K=0;K<M.length;K++)if(M[K].callback===f&&(!y||y===M[K].context))return void M.splice(K,1)}validateEventType_(d){(0,q.vA)(this.allowedEvents_.find(f=>f===d),"Unknown event: "+d)}}class pn extends jt{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,q.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pn}getInitialEvent(d){return(0,q.vA)("online"===d,"Unknown event type: "+d),[this.online_]}currentlyOnline(){return this.online_}}class je{constructor(d,f){if(void 0===f){this.pieces_=d.split("/");let y=0;for(let M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[y]=this.pieces_[M],y++);this.pieces_.length=y,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=f}toString(){let d="";for(let f=this.pieceNum_;f<this.pieces_.length;f++)""!==this.pieces_[f]&&(d+="/"+this.pieces_[f]);return d||"/"}}function bt(){return new je("")}function X(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function be(g){return g.pieces_.length-g.pieceNum_}function ve(g){let d=g.pieceNum_;return d<g.pieces_.length&&d++,new je(g.pieces_,d)}function Xe(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function dt(g,d=0){return g.pieces_.slice(g.pieceNum_+d)}function Bt(g){if(g.pieceNum_>=g.pieces_.length)return null;const d=[];for(let f=g.pieceNum_;f<g.pieces_.length-1;f++)d.push(g.pieces_[f]);return new je(d,0)}function rn(g,d){const f=[];for(let y=g.pieceNum_;y<g.pieces_.length;y++)f.push(g.pieces_[y]);if(d instanceof je)for(let y=d.pieceNum_;y<d.pieces_.length;y++)f.push(d.pieces_[y]);else{const y=d.split("/");for(let M=0;M<y.length;M++)y[M].length>0&&f.push(y[M])}return new je(f,0)}function Wt(g){return g.pieceNum_>=g.pieces_.length}function Tn(g,d){const f=X(g),y=X(d);if(null===f)return d;if(f===y)return Tn(ve(g),ve(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+g+")")}function Rn(g,d){const f=dt(g,0),y=dt(d,0);for(let M=0;M<f.length&&M<y.length;M++){const K=Ft(f[M],y[M]);if(0!==K)return K}return f.length===y.length?0:f.length<y.length?-1:1}function kn(g,d){if(be(g)!==be(d))return!1;for(let f=g.pieceNum_,y=d.pieceNum_;f<=g.pieces_.length;f++,y++)if(g.pieces_[f]!==d.pieces_[y])return!1;return!0}function lr(g,d){let f=g.pieceNum_,y=d.pieceNum_;if(be(g)>be(d))return!1;for(;f<g.pieces_.length;){if(g.pieces_[f]!==d.pieces_[y])return!1;++f,++y}return!0}class cr{constructor(d,f){this.errorPrefix_=f,this.parts_=dt(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(let y=0;y<this.parts_.length;y++)this.byteLength_+=(0,q.OE)(this.parts_[y]);Nr(this)}}function Nr(g){if(g.byteLength_>768)throw new Error(g.errorPrefix_+"has a key path longer than 768 bytes ("+g.byteLength_+").");if(g.parts_.length>32)throw new Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ir(g))}function Ir(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}class Qi extends jt{constructor(){let d,f;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(f="visibilitychange",d="hidden"):typeof document.mozHidden<"u"?(f="mozvisibilitychange",d="mozHidden"):typeof document.msHidden<"u"?(f="msvisibilitychange",d="msHidden"):typeof document.webkitHidden<"u"&&(f="webkitvisibilitychange",d="webkitHidden")),this.visible_=!0,f&&document.addEventListener(f,()=>{const y=!document[d];y!==this.visible_&&(this.visible_=y,this.trigger("visible",y))},!1)}static getInstance(){return new Qi}getInitialEvent(d){return(0,q.vA)("visible"===d,"Unknown event type: "+d),[this.visible_]}}const Ni=1e3;let Vo,ho=(()=>{class g extends Ge{constructor(f,y,M,K,ne,ue,et,Dt){if(super(),this.repoInfo_=f,this.applicationId_=y,this.onDataUpdate_=M,this.onConnectStatus_=K,this.onServerInfoUpdate_=ne,this.authTokenProvider_=ue,this.appCheckTokenProvider_=et,this.authOverride_=Dt,this.id=g.nextPersistentConnectionId_++,this.log_=$e("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ni,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Dt&&!(0,q.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qi.getInstance().on("visible",this.onVisible_,this),-1===f.host.indexOf("fblocal")&&pn.getInstance().on("online",this.onOnline_,this)}sendRequest(f,y,M){const K=++this.requestNumber_,ne={r:K,a:f,b:y};this.log_((0,q.As)(ne)),(0,q.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ne),M&&(this.requestCBHash_[K]=M)}get(f){this.initConnection_();const y=new q.cY,K={action:"g",request:{p:f._path.toString(),q:f._queryObject},onComplete:ue=>{const et=ue.d;"ok"===ue.s?y.resolve(et):y.reject(et)}};return this.outstandingGets_.push(K),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),y.promise}listen(f,y,M,K){this.initConnection_();const ne=f._queryIdentifier,ue=f._path.toString();this.log_("Listen called for "+ue+" "+ne),this.listens.has(ue)||this.listens.set(ue,new Map),(0,q.vA)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,q.vA)(!this.listens.get(ue).has(ne),"listen() called twice for same path/queryId.");const et={onComplete:K,hashFn:y,query:f,tag:M};this.listens.get(ue).set(ne,et),this.connected_&&this.sendListen_(et)}sendGet_(f){const y=this.outstandingGets_[f];this.sendRequest("g",y.request,M=>{delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),y.onComplete&&y.onComplete(M)})}sendListen_(f){const y=f.query,M=y._path.toString(),K=y._queryIdentifier;this.log_("Listen on "+M+" for "+K);const ne={p:M};f.tag&&(ne.q=y._queryObject,ne.t=f.tag),ne.h=f.hashFn(),this.sendRequest("q",ne,et=>{const Dt=et.d,wn=et.s;g.warnOnListenWarnings_(Dt,y),(this.listens.get(M)&&this.listens.get(M).get(K))===f&&(this.log_("listen response",et),"ok"!==wn&&this.removeListen_(M,K),f.onComplete&&f.onComplete(wn,Dt))})}static warnOnListenWarnings_(f,y){if(f&&"object"==typeof f&&(0,q.gR)(f,"w")){const M=(0,q.yw)(f,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){const K='".indexOn": "'+y._queryParams.getIndex().toString()+'"',ne=y._path.toString();Ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${K} at ${ne} to your security rules for better performance.`)}}}refreshAuthToken(f){this.authToken_=f,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(f)}reduceReconnectDelayIfAdminCredential_(f){(f&&40===f.length||(0,q.qc)(f))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(f){this.appCheckToken_=f,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const f=this.authToken_,y=(0,q.Cv)(f)?"auth":"gauth",M={cred:f};null===this.authOverride_?M.noauth=!0:"object"==typeof this.authOverride_&&(M.authvar=this.authOverride_),this.sendRequest(y,M,K=>{const ne=K.s,ue=K.d||"error";this.authToken_===f&&("ok"===ne?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ne,ue))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},f=>{const y=f.s,M=f.d||"error";"ok"===y?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(y,M)})}unlisten(f,y){const M=f._path.toString(),K=f._queryIdentifier;this.log_("Unlisten called for "+M+" "+K),(0,q.vA)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,K)&&this.connected_&&this.sendUnlisten_(M,K,f._queryObject,y)}sendUnlisten_(f,y,M,K){this.log_("Unlisten on "+f+" for "+y);const ne={p:f};K&&(ne.q=M,ne.t=K),this.sendRequest("n",ne)}onDisconnectPut(f,y,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",f,y,M):this.onDisconnectRequestQueue_.push({pathString:f,action:"o",data:y,onComplete:M})}onDisconnectMerge(f,y,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",f,y,M):this.onDisconnectRequestQueue_.push({pathString:f,action:"om",data:y,onComplete:M})}onDisconnectCancel(f,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",f,null,y):this.onDisconnectRequestQueue_.push({pathString:f,action:"oc",data:null,onComplete:y})}sendOnDisconnect_(f,y,M,K){const ne={p:y,d:M};this.log_("onDisconnect "+f,ne),this.sendRequest(f,ne,ue=>{K&&setTimeout(()=>{K(ue.s,ue.d)},Math.floor(0))})}put(f,y,M,K){this.putInternal("p",f,y,M,K)}merge(f,y,M,K){this.putInternal("m",f,y,M,K)}putInternal(f,y,M,K,ne){this.initConnection_();const ue={p:y,d:M};void 0!==ne&&(ue.h=ne),this.outstandingPuts_.push({action:f,request:ue,onComplete:K}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+y)}sendPut_(f){const y=this.outstandingPuts_[f].action,M=this.outstandingPuts_[f].request,K=this.outstandingPuts_[f].onComplete;this.outstandingPuts_[f].queued=this.connected_,this.sendRequest(y,M,ne=>{this.log_(y+" response",ne),delete this.outstandingPuts_[f],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),K&&K(ne.s,ne.d)})}reportStats(f){if(this.connected_){const y={c:f};this.log_("reportStats",y),this.sendRequest("s",y,M=>{"ok"!==M.s&&this.log_("reportStats","Error sending stats: "+M.d)})}}onDataMessage_(f){if("r"in f){this.log_("from server: "+(0,q.As)(f));const y=f.r,M=this.requestCBHash_[y];M&&(delete this.requestCBHash_[y],M(f.b))}else{if("error"in f)throw"A server-side error has occurred: "+f.error;"a"in f&&this.onDataPush_(f.a,f.b)}}onDataPush_(f,y){this.log_("handleServerMessage",f,y),"d"===f?this.onDataUpdate_(y.p,y.d,!1,y.t):"m"===f?this.onDataUpdate_(y.p,y.d,!0,y.t):"c"===f?this.onListenRevoked_(y.p,y.q):"ac"===f?this.onAuthRevoked_(y.s,y.d):"apc"===f?this.onAppCheckRevoked_(y.s,y.d):"sd"===f?this.onSecurityDebugPacket_(y):ct("Unrecognized action received from server: "+(0,q.As)(f)+"\nAre you using the latest client?")}onReady_(f,y){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(f),this.lastSessionId=y,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(f){(0,q.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(f))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(f){f&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0)),this.visible_=f}onOnline_(f){f?(this.log_("Browser went online."),this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ni),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const f=(new Date).getTime()-this.lastConnectionAttemptTime_;let y=Math.max(0,this.reconnectDelay_-f);y=Math.random()*y,this.log_("Trying to reconnect in "+y+"ms"),this.scheduleConnect_(y),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var f=this;return(0,c.A)(function*(){if(f.shouldReconnect_()){f.log_("Making a connection attempt"),f.lastConnectionAttemptTime_=(new Date).getTime(),f.lastConnectionEstablishedTime_=null;const y=f.onDataMessage_.bind(f),M=f.onReady_.bind(f),K=f.onRealtimeDisconnect_.bind(f),ne=f.id+":"+g.nextConnectionId_++,ue=f.lastSessionId;let et=!1,Dt=null;const wn=function(){Dt?Dt.close():(et=!0,K())};f.realtime_={close:wn,sendRequest:function(Cr){(0,q.vA)(Dt,"sendRequest call when we're not connected not allowed."),Dt.sendRequest(Cr)}};const Un=f.forceTokenRefresh_;f.forceTokenRefresh_=!1;try{const[Cr,Rr]=yield Promise.all([f.authTokenProvider_.getToken(Un),f.appCheckTokenProvider_.getToken(Un)]);et?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),f.authToken_=Cr&&Cr.accessToken,f.appCheckToken_=Rr&&Rr.token,Dt=new ge(ne,f.repoInfo_,f.applicationId_,f.appCheckToken_,f.authToken_,y,M,K,Fi=>{Ut(Fi+" ("+f.repoInfo_.toString()+")"),f.interrupt("server_kill")},ue))}catch(Cr){f.log_("Failed to get token: "+Cr),et||(f.repoInfo_.nodeAdmin&&Ut(Cr),wn())}}})()}interrupt(f){Te("Interrupting connection for reason: "+f),this.interruptReasons_[f]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(f){Te("Resuming connection for reason: "+f),delete this.interruptReasons_[f],(0,q.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(f){const y=f-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:y})}cancelSentTransactions_(){for(let f=0;f<this.outstandingPuts_.length;f++){const y=this.outstandingPuts_[f];y&&"h"in y.request&&y.queued&&(y.onComplete&&y.onComplete("disconnect"),delete this.outstandingPuts_[f],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(f,y){let M;M=y?y.map(ne=>ee(ne)).join("$"):"default";const K=this.removeListen_(f,M);K&&K.onComplete&&K.onComplete("permission_denied")}removeListen_(f,y){const M=new je(f).toString();let K;if(this.listens.has(M)){const ne=this.listens.get(M);K=ne.get(y),ne.delete(y),0===ne.size&&this.listens.delete(M)}else K=void 0;return K}onAuthRevoked_(f,y){Te("Auth token revoked: "+f+"/"+y),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===f||"permission_denied"===f)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(f,y){Te("App check token revoked: "+f+"/"+y),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===f||"permission_denied"===f)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(f){this.securityDebugCallback_?this.securityDebugCallback_(f):"msg"in f&&console.log("FIREBASE: "+f.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const f of this.listens.values())for(const y of f.values())this.sendListen_(y);for(let f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){const f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(let f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)}sendConnectStats_(){const f={};let y="js";(0,q.$g)()&&(y=this.repoInfo_.nodeAdmin?"admin_node":"node"),f["sdk."+y+"."+Re.replace(/\./g,"-")]=1,(0,q.jZ)()?f["framework.cordova"]=1:(0,q.lV)()&&(f["framework.reactnative"]=1),this.reportStats(f)}shouldReconnect_(){const f=pn.getInstance().currentlyOnline();return(0,q.Im)(this.interruptReasons_)&&f}}return g.nextPersistentConnectionId_=0,g.nextConnectionId_=0,g})();class jr{constructor(d,f){this.name=d,this.node=f}static Wrap(d,f){return new jr(d,f)}}class Do{getCompare(){return this.compare.bind(this)}indexedValueChanged(d,f){const y=new jr(un,d),M=new jr(un,f);return 0!==this.compare(y,M)}minPost(){return jr.MIN}}class wo extends Do{static get __EMPTY_NODE(){return Vo}static set __EMPTY_NODE(d){Vo=d}compare(d,f){return Ft(d.name,f.name)}isDefinedOn(d){throw(0,q.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(d,f){return!1}minPost(){return jr.MIN}maxPost(){return new jr(Ht,Vo)}makePost(d,f){return(0,q.vA)("string"==typeof d,"KeyIndex indexValue must always be a string."),new jr(d,Vo)}toString(){return".key"}}const ao=new wo;class O{constructor(d,f,y,M,K=null){this.isReverse_=M,this.resultGenerator_=K,this.nodeStack_=[];let ne=1;for(;!d.isEmpty();)if(ne=f?y(d.key,f):1,M&&(ne*=-1),ne<0)d=this.isReverse_?d.left:d.right;else{if(0===ne){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}getNext(){if(0===this.nodeStack_.length)return null;let f,d=this.nodeStack_.pop();if(f=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return f}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}}}let ei,re=(()=>{class g{constructor(f,y,M,K,ne){this.key=f,this.value=y,this.color=null!=M?M:g.RED,this.left=null!=K?K:F.EMPTY_NODE,this.right=null!=ne?ne:F.EMPTY_NODE}copy(f,y,M,K,ne){return new g(null!=f?f:this.key,null!=y?y:this.value,null!=M?M:this.color,null!=K?K:this.left,null!=ne?ne:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(f){return this.left.inorderTraversal(f)||!!f(this.key,this.value)||this.right.inorderTraversal(f)}reverseTraversal(f){return this.right.reverseTraversal(f)||f(this.key,this.value)||this.left.reverseTraversal(f)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(f,y,M){let K=this;const ne=M(f,K.key);return K=ne<0?K.copy(null,null,null,K.left.insert(f,y,M),null):0===ne?K.copy(null,y,null,null,null):K.copy(null,null,null,null,K.right.insert(f,y,M)),K.fixUp_()}removeMin_(){if(this.left.isEmpty())return F.EMPTY_NODE;let f=this;return!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),f=f.copy(null,null,null,f.left.removeMin_(),null),f.fixUp_()}remove(f,y){let M,K;if(M=this,y(f,M.key)<0)!M.left.isEmpty()&&!M.left.isRed_()&&!M.left.left.isRed_()&&(M=M.moveRedLeft_()),M=M.copy(null,null,null,M.left.remove(f,y),null);else{if(M.left.isRed_()&&(M=M.rotateRight_()),!M.right.isEmpty()&&!M.right.isRed_()&&!M.right.left.isRed_()&&(M=M.moveRedRight_()),0===y(f,M.key)){if(M.right.isEmpty())return F.EMPTY_NODE;K=M.right.min_(),M=M.copy(K.key,K.value,null,null,M.right.removeMin_())}M=M.copy(null,null,null,null,M.right.remove(f,y))}return M.fixUp_()}isRed_(){return this.color}fixUp_(){let f=this;return f.right.isRed_()&&!f.left.isRed_()&&(f=f.rotateLeft_()),f.left.isRed_()&&f.left.left.isRed_()&&(f=f.rotateRight_()),f.left.isRed_()&&f.right.isRed_()&&(f=f.colorFlip_()),f}moveRedLeft_(){let f=this.colorFlip_();return f.right.left.isRed_()&&(f=f.copy(null,null,null,null,f.right.rotateRight_()),f=f.rotateLeft_(),f=f.colorFlip_()),f}moveRedRight_(){let f=this.colorFlip_();return f.left.left.isRed_()&&(f=f.rotateRight_(),f=f.colorFlip_()),f}rotateLeft_(){const f=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,f,null)}rotateRight_(){const f=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,f)}colorFlip_(){const f=this.left.copy(null,null,!this.left.color,null,null),y=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,f,y)}checkMaxDepth_(){const f=this.check_();return Math.pow(2,f)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const f=this.left.check_();if(f!==this.right.check_())throw new Error("Black depths differ");return f+(this.isRed_()?0:1)}}return g.RED=!0,g.BLACK=!1,g})();class F{constructor(d,f=F.EMPTY_NODE){this.comparator_=d,this.root_=f}insert(d,f){return new F(this.comparator_,this.root_.insert(d,f,this.comparator_).copy(null,null,re.BLACK,null,null))}remove(d){return new F(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,re.BLACK,null,null))}get(d){let f,y=this.root_;for(;!y.isEmpty();){if(f=this.comparator_(d,y.key),0===f)return y.value;f<0?y=y.left:f>0&&(y=y.right)}return null}getPredecessorKey(d){let f,y=this.root_,M=null;for(;!y.isEmpty();){if(f=this.comparator_(d,y.key),0===f){if(y.left.isEmpty())return M?M.key:null;for(y=y.left;!y.right.isEmpty();)y=y.right;return y.key}f<0?y=y.left:f>0&&(M=y,y=y.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(d){return this.root_.inorderTraversal(d)}reverseTraversal(d){return this.root_.reverseTraversal(d)}getIterator(d){return new O(this.root_,null,this.comparator_,!1,d)}getIteratorFrom(d,f){return new O(this.root_,d,this.comparator_,!1,f)}getReverseIteratorFrom(d,f){return new O(this.root_,d,this.comparator_,!0,f)}getReverseIterator(d){return new O(this.root_,null,this.comparator_,!0,d)}}function Ue(g,d){return Ft(g.name,d.name)}function xt(g,d){return Ft(g,d)}F.EMPTY_NODE=new class Oe{copy(d,f,y,M,K){return this}insert(d,f,y){return new re(d,f,null)}remove(d,f){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ae=function(g){return"number"==typeof g?"number:"+he(g):"string:"+g},st=function(g){if(g.isLeafNode()){const d=g.val();(0,q.vA)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,q.gR)(d,".sv"),"Priority must be a string or number.")}else(0,q.vA)(g===ei||g.isEmpty(),"priority of unexpected type.");(0,q.vA)(g===ei||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ht,wt,En,Nt=(()=>{class g{constructor(f,y=g.__childrenNodeConstructor.EMPTY_NODE){this.value_=f,this.priorityNode_=y,this.lazyHash_=null,(0,q.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),st(this.priorityNode_)}static set __childrenNodeConstructor(f){ht=f}static get __childrenNodeConstructor(){return ht}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(f){return new g(this.value_,f)}getImmediateChild(f){return".priority"===f?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}getChild(f){return Wt(f)?this:".priority"===X(f)?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(f,y){return null}updateImmediateChild(f,y){return".priority"===f?this.updatePriority(y):y.isEmpty()&&".priority"!==f?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(f,y).updatePriority(this.priorityNode_)}updateChild(f,y){const M=X(f);return null===M?y:y.isEmpty()&&".priority"!==M?this:((0,q.vA)(".priority"!==M||1===be(f),".priority must be the last token in a path"),this.updateImmediateChild(M,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(f),y)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(f,y){return!1}val(f){return f&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let f="";this.priorityNode_.isEmpty()||(f+="priority:"+Ae(this.priorityNode_.val())+":");const y=typeof this.value_;f+=y+":",f+="number"===y?he(this.value_):this.value_,this.lazyHash_=mt(f)}return this.lazyHash_}getValue(){return this.value_}compareTo(f){return f===g.__childrenNodeConstructor.EMPTY_NODE?1:f instanceof g.__childrenNodeConstructor?-1:((0,q.vA)(f.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(f))}compareToLeafNode_(f){const y=typeof f.value_,M=typeof this.value_,K=g.VALUE_TYPE_ORDER.indexOf(y),ne=g.VALUE_TYPE_ORDER.indexOf(M);return(0,q.vA)(K>=0,"Unknown leaf type: "+y),(0,q.vA)(ne>=0,"Unknown leaf type: "+M),K===ne?"object"===M?0:this.value_<f.value_?-1:this.value_===f.value_?0:1:ne-K}withIndex(){return this}isIndexed(){return!0}equals(f){return f===this||!!f.isLeafNode()&&(this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_))}}return g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g})();const Vn=new class Nn extends Do{compare(d,f){const y=d.node.getPriority(),M=f.node.getPriority(),K=y.compareTo(M);return 0===K?Ft(d.name,f.name):K}isDefinedOn(d){return!d.getPriority().isEmpty()}indexedValueChanged(d,f){return!d.getPriority().equals(f.getPriority())}minPost(){return jr.MIN}maxPost(){return new jr(Ht,new Nt("[PRIORITY-POST]",En))}makePost(d,f){const y=wt(d);return new jr(f,new Nt("[PRIORITY-POST]",y))}toString(){return".priority"}},sr=Math.log(2);class fr{constructor(d){this.count=parseInt(Math.log(d+1)/sr,10),this.current_=this.count-1;const M=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=d+1&M}nextBitIsOne(){const d=!(this.bits_&1<<this.current_);return this.current_--,d}}const ur=function(g,d,f,y){g.sort(d);const M=function(et,Dt){const wn=Dt-et;let cn,Un;if(0===wn)return null;if(1===wn)return cn=g[et],Un=f?f(cn):cn,new re(Un,cn.node,re.BLACK,null,null);{const Cr=parseInt(wn/2,10)+et,Rr=M(et,Cr),Fi=M(Cr+1,Dt);return cn=g[Cr],Un=f?f(cn):cn,new re(Un,cn.node,re.BLACK,Rr,Fi)}},ue=function(et){let Dt=null,wn=null,cn=g.length;const Un=function(Rr,Fi){const ss=cn-Rr,bl=cn;cn-=Rr;const ic=M(ss+1,bl),Rh=g[ss],Ec=f?f(Rh):Rh;Cr(new re(Ec,Rh.node,Fi,null,ic))},Cr=function(Rr){Dt?(Dt.left=Rr,Dt=Rr):(wn=Rr,Dt=Rr)};for(let Rr=0;Rr<et.count;++Rr){const Fi=et.nextBitIsOne(),ss=Math.pow(2,et.count-(Rr+1));Fi?Un(ss,re.BLACK):(Un(ss,re.BLACK),Un(ss,re.RED))}return wn}(new fr(g.length));return new F(y||d,ue)};let hi;const Or={};class qr{constructor(d,f){this.indexes_=d,this.indexSet_=f}static get Default(){return(0,q.vA)(Or&&Vn,"ChildrenNode.ts has not been loaded"),hi=hi||new qr({".priority":Or},{".priority":Vn}),hi}get(d){const f=(0,q.yw)(this.indexes_,d);if(!f)throw new Error("No index defined for "+d);return f instanceof F?f:null}hasIndex(d){return(0,q.gR)(this.indexSet_,d.toString())}addIndex(d,f){(0,q.vA)(d!==ao,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const y=[];let M=!1;const K=f.getIterator(jr.Wrap);let ue,ne=K.getNext();for(;ne;)M=M||d.isDefinedOn(ne.node),y.push(ne),ne=K.getNext();ue=M?ur(y,d.getCompare()):Or;const et=d.toString(),Dt=Object.assign({},this.indexSet_);Dt[et]=d;const wn=Object.assign({},this.indexes_);return wn[et]=ue,new qr(wn,Dt)}addToIndexes(d,f){const y=(0,q.kH)(this.indexes_,(M,K)=>{const ne=(0,q.yw)(this.indexSet_,K);if((0,q.vA)(ne,"Missing index implementation for "+K),M===Or){if(ne.isDefinedOn(d.node)){const ue=[],et=f.getIterator(jr.Wrap);let Dt=et.getNext();for(;Dt;)Dt.name!==d.name&&ue.push(Dt),Dt=et.getNext();return ue.push(d),ur(ue,ne.getCompare())}return Or}{const ue=f.get(d.name);let et=M;return ue&&(et=et.remove(new jr(d.name,ue))),et.insert(d,d.node)}});return new qr(y,this.indexSet_)}removeFromIndexes(d,f){const y=(0,q.kH)(this.indexes_,M=>{if(M===Or)return M;{const K=f.get(d.name);return K?M.remove(new jr(d.name,K)):M}});return new qr(y,this.indexSet_)}}let Ti,hr=(()=>{class g{constructor(f,y,M){this.children_=f,this.priorityNode_=y,this.indexMap_=M,this.lazyHash_=null,this.priorityNode_&&st(this.priorityNode_),this.children_.isEmpty()&&(0,q.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ti||(Ti=new g(new F(xt),null,qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ti}updatePriority(f){return this.children_.isEmpty()?this:new g(this.children_,f,this.indexMap_)}getImmediateChild(f){if(".priority"===f)return this.getPriority();{const y=this.children_.get(f);return null===y?Ti:y}}getChild(f){const y=X(f);return null===y?this:this.getImmediateChild(y).getChild(ve(f))}hasChild(f){return null!==this.children_.get(f)}updateImmediateChild(f,y){if((0,q.vA)(y,"We should always be passing snapshot nodes"),".priority"===f)return this.updatePriority(y);{const M=new jr(f,y);let K,ne;y.isEmpty()?(K=this.children_.remove(f),ne=this.indexMap_.removeFromIndexes(M,this.children_)):(K=this.children_.insert(f,y),ne=this.indexMap_.addToIndexes(M,this.children_));const ue=K.isEmpty()?Ti:this.priorityNode_;return new g(K,ue,ne)}}updateChild(f,y){const M=X(f);if(null===M)return y;{(0,q.vA)(".priority"!==X(f)||1===be(f),".priority must be the last token in a path");const K=this.getImmediateChild(M).updateChild(ve(f),y);return this.updateImmediateChild(M,K)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(f){if(this.isEmpty())return null;const y={};let M=0,K=0,ne=!0;if(this.forEachChild(Vn,(ue,et)=>{y[ue]=et.val(f),M++,ne&&g.INTEGER_REGEXP_.test(ue)?K=Math.max(K,Number(ue)):ne=!1}),!f&&ne&&K<2*M){const ue=[];for(const et in y)ue[et]=y[et];return ue}return f&&!this.getPriority().isEmpty()&&(y[".priority"]=this.getPriority().val()),y}hash(){if(null===this.lazyHash_){let f="";this.getPriority().isEmpty()||(f+="priority:"+Ae(this.getPriority().val())+":"),this.forEachChild(Vn,(y,M)=>{const K=M.hash();""!==K&&(f+=":"+y+":"+K)}),this.lazyHash_=""===f?"":mt(f)}return this.lazyHash_}getPredecessorChildName(f,y,M){const K=this.resolveIndex_(M);if(K){const ne=K.getPredecessorKey(new jr(f,y));return ne?ne.name:null}return this.children_.getPredecessorKey(f)}getFirstChildName(f){const y=this.resolveIndex_(f);if(y){const M=y.minKey();return M&&M.name}return this.children_.minKey()}getFirstChild(f){const y=this.getFirstChildName(f);return y?new jr(y,this.children_.get(y)):null}getLastChildName(f){const y=this.resolveIndex_(f);if(y){const M=y.maxKey();return M&&M.name}return this.children_.maxKey()}getLastChild(f){const y=this.getLastChildName(f);return y?new jr(y,this.children_.get(y)):null}forEachChild(f,y){const M=this.resolveIndex_(f);return M?M.inorderTraversal(K=>y(K.name,K.node)):this.children_.inorderTraversal(y)}getIterator(f){return this.getIteratorFrom(f.minPost(),f)}getIteratorFrom(f,y){const M=this.resolveIndex_(y);if(M)return M.getIteratorFrom(f,K=>K);{const K=this.children_.getIteratorFrom(f.name,jr.Wrap);let ne=K.peek();for(;null!=ne&&y.compare(ne,f)<0;)K.getNext(),ne=K.peek();return K}}getReverseIterator(f){return this.getReverseIteratorFrom(f.maxPost(),f)}getReverseIteratorFrom(f,y){const M=this.resolveIndex_(y);if(M)return M.getReverseIteratorFrom(f,K=>K);{const K=this.children_.getReverseIteratorFrom(f.name,jr.Wrap);let ne=K.peek();for(;null!=ne&&y.compare(ne,f)>0;)K.getNext(),ne=K.peek();return K}}compareTo(f){return this.isEmpty()?f.isEmpty()?0:-1:f.isLeafNode()||f.isEmpty()?1:f===fo?-1:0}withIndex(f){if(f===ao||this.indexMap_.hasIndex(f))return this;{const y=this.indexMap_.addIndex(f,this.children_);return new g(this.children_,this.priorityNode_,y)}}isIndexed(f){return f===ao||this.indexMap_.hasIndex(f)}equals(f){if(f===this)return!0;if(f.isLeafNode())return!1;{const y=f;if(this.getPriority().equals(y.getPriority())){if(this.children_.count()===y.children_.count()){const M=this.getIterator(Vn),K=y.getIterator(Vn);let ne=M.getNext(),ue=K.getNext();for(;ne&&ue;){if(ne.name!==ue.name||!ne.node.equals(ue.node))return!1;ne=M.getNext(),ue=K.getNext()}return null===ne&&null===ue}return!1}return!1}}resolveIndex_(f){return f===ao?null:this.indexMap_.get(f.toString())}}return g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g})();const fo=new class Jo extends hr{constructor(){super(new F(xt),hr.EMPTY_NODE,qr.Default)}compareTo(d){return d===this?0:1}equals(d){return d===this}getPriority(){return this}getImmediateChild(d){return hr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(jr,{MIN:{value:new jr(un,hr.EMPTY_NODE)},MAX:{value:new jr(Ht,fo)}}),wo.__EMPTY_NODE=hr.EMPTY_NODE,Nt.__childrenNodeConstructor=hr,function J(g){ei=g}(fo),function In(g){En=g}(fo);const ar=!0;function pr(g,d=null){if(null===g)return hr.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(d=g[".priority"]),(0,q.vA)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new Nt(g,pr(d));if(g instanceof Array||!ar){let f=hr.EMPTY_NODE;return Se(g,(y,M)=>{if((0,q.gR)(g,y)&&"."!==y.substring(0,1)){const K=pr(M);(K.isLeafNode()||!K.isEmpty())&&(f=f.updateImmediateChild(y,K))}}),f.updatePriority(pr(d))}{const f=[];let y=!1;if(Se(g,(ne,ue)=>{if("."!==ne.substring(0,1)){const et=pr(ue);et.isEmpty()||(y=y||!et.getPriority().isEmpty(),f.push(new jr(ne,et)))}}),0===f.length)return hr.EMPTY_NODE;const K=ur(f,Ue,ne=>ne.name,xt);if(y){const ne=ur(f,Vn.getCompare());return new hr(K,pr(d),new qr({".priority":ne},{".priority":Vn}))}return new hr(K,pr(d),qr.Default)}}!function On(g){wt=g}(pr);class li extends Do{constructor(d){super(),this.indexPath_=d,(0,q.vA)(!Wt(d)&&".priority"!==X(d),"Can't create PathIndex with empty path or .priority key")}extractChild(d){return d.getChild(this.indexPath_)}isDefinedOn(d){return!d.getChild(this.indexPath_).isEmpty()}compare(d,f){const y=this.extractChild(d.node),M=this.extractChild(f.node),K=y.compareTo(M);return 0===K?Ft(d.name,f.name):K}makePost(d,f){const y=pr(d),M=hr.EMPTY_NODE.updateChild(this.indexPath_,y);return new jr(f,M)}maxPost(){const d=hr.EMPTY_NODE.updateChild(this.indexPath_,fo);return new jr(Ht,d)}toString(){return dt(this.indexPath_,0).join("/")}}const ls=new class Ns extends Do{compare(d,f){const y=d.node.compareTo(f.node);return 0===y?Ft(d.name,f.name):y}isDefinedOn(d){return!0}indexedValueChanged(d,f){return!d.equals(f)}minPost(){return jr.MIN}maxPost(){return jr.MAX}makePost(d,f){const y=pr(d);return new jr(f,y)}toString(){return".value"}};function Wa(g){return{type:"value",snapshotNode:g}}function _o(g,d){return{type:"child_added",snapshotNode:d,childName:g}}function no(g,d){return{type:"child_removed",snapshotNode:d,childName:g}}function So(g,d,f){return{type:"child_changed",snapshotNode:d,childName:g,oldSnap:f}}class ys{constructor(d){this.index_=d}updateChild(d,f,y,M,K,ne){(0,q.vA)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ue=d.getImmediateChild(f);return ue.getChild(M).equals(y.getChild(M))&&ue.isEmpty()===y.isEmpty()||(null!=ne&&(y.isEmpty()?d.hasChild(f)?ne.trackChildChange(no(f,ue)):(0,q.vA)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ue.isEmpty()?ne.trackChildChange(_o(f,y)):ne.trackChildChange(So(f,y,ue))),d.isLeafNode()&&y.isEmpty())?d:d.updateImmediateChild(f,y).withIndex(this.index_)}updateFullNode(d,f,y){return null!=y&&(d.isLeafNode()||d.forEachChild(Vn,(M,K)=>{f.hasChild(M)||y.trackChildChange(no(M,K))}),f.isLeafNode()||f.forEachChild(Vn,(M,K)=>{if(d.hasChild(M)){const ne=d.getImmediateChild(M);ne.equals(K)||y.trackChildChange(So(M,K,ne))}else y.trackChildChange(_o(M,K))})),f.withIndex(this.index_)}updatePriority(d,f){return d.isEmpty()?hr.EMPTY_NODE:d.updatePriority(f)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ra{constructor(d){this.indexedFilter_=new ys(d.getIndex()),this.index_=d.getIndex(),this.startPost_=ra.getStartPost_(d),this.endPost_=ra.getEndPost_(d),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(d){const f=this.startIsInclusive_?this.index_.compare(this.getStartPost(),d)<=0:this.index_.compare(this.getStartPost(),d)<0,y=this.endIsInclusive_?this.index_.compare(d,this.getEndPost())<=0:this.index_.compare(d,this.getEndPost())<0;return f&&y}updateChild(d,f,y,M,K,ne){return this.matches(new jr(f,y))||(y=hr.EMPTY_NODE),this.indexedFilter_.updateChild(d,f,y,M,K,ne)}updateFullNode(d,f,y){f.isLeafNode()&&(f=hr.EMPTY_NODE);let M=f.withIndex(this.index_);M=M.updatePriority(hr.EMPTY_NODE);const K=this;return f.forEachChild(Vn,(ne,ue)=>{K.matches(new jr(ne,ue))||(M=M.updateImmediateChild(ne,hr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,M,y)}updatePriority(d,f){return d}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(d){if(d.hasStart()){const f=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),f)}return d.getIndex().minPost()}static getEndPost_(d){if(d.hasEnd()){const f=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),f)}return d.getIndex().maxPost()}}class Pl{constructor(d){this.withinDirectionalStart=f=>this.reverse_?this.withinEndPost(f):this.withinStartPost(f),this.withinDirectionalEnd=f=>this.reverse_?this.withinStartPost(f):this.withinEndPost(f),this.withinStartPost=f=>{const y=this.index_.compare(this.rangedFilter_.getStartPost(),f);return this.startIsInclusive_?y<=0:y<0},this.withinEndPost=f=>{const y=this.index_.compare(f,this.rangedFilter_.getEndPost());return this.endIsInclusive_?y<=0:y<0},this.rangedFilter_=new ra(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft(),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}updateChild(d,f,y,M,K,ne){return this.rangedFilter_.matches(new jr(f,y))||(y=hr.EMPTY_NODE),d.getImmediateChild(f).equals(y)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,f,y,M,K,ne):this.fullLimitUpdateChild_(d,f,y,K,ne)}updateFullNode(d,f,y){let M;if(f.isLeafNode()||f.isEmpty())M=hr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<f.numChildren()&&f.isIndexed(this.index_)){let K;M=hr.EMPTY_NODE.withIndex(this.index_),K=this.reverse_?f.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ne=0;for(;K.hasNext()&&ne<this.limit_;){const ue=K.getNext();if(this.withinDirectionalStart(ue)){if(!this.withinDirectionalEnd(ue))break;M=M.updateImmediateChild(ue.name,ue.node),ne++}}}else{let K;M=f.withIndex(this.index_),M=M.updatePriority(hr.EMPTY_NODE),K=this.reverse_?M.getReverseIterator(this.index_):M.getIterator(this.index_);let ne=0;for(;K.hasNext();){const ue=K.getNext();ne<this.limit_&&this.withinDirectionalStart(ue)&&this.withinDirectionalEnd(ue)?ne++:M=M.updateImmediateChild(ue.name,hr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,M,y)}updatePriority(d,f){return d}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(d,f,y,M,K){let ne;if(this.reverse_){const cn=this.index_.getCompare();ne=(Un,Cr)=>cn(Cr,Un)}else ne=this.index_.getCompare();const ue=d;(0,q.vA)(ue.numChildren()===this.limit_,"");const et=new jr(f,y),Dt=this.reverse_?ue.getFirstChild(this.index_):ue.getLastChild(this.index_),wn=this.rangedFilter_.matches(et);if(ue.hasChild(f)){const cn=ue.getImmediateChild(f);let Un=M.getChildAfterChild(this.index_,Dt,this.reverse_);for(;null!=Un&&(Un.name===f||ue.hasChild(Un.name));)Un=M.getChildAfterChild(this.index_,Un,this.reverse_);const Cr=null==Un?1:ne(Un,et);if(wn&&!y.isEmpty()&&Cr>=0)return null!=K&&K.trackChildChange(So(f,y,cn)),ue.updateImmediateChild(f,y);{null!=K&&K.trackChildChange(no(f,cn));const Fi=ue.updateImmediateChild(f,hr.EMPTY_NODE);return null!=Un&&this.rangedFilter_.matches(Un)?(null!=K&&K.trackChildChange(_o(Un.name,Un.node)),Fi.updateImmediateChild(Un.name,Un.node)):Fi}}return y.isEmpty()?d:wn&&ne(Dt,et)>=0?(null!=K&&(K.trackChildChange(no(Dt.name,Dt.node)),K.trackChildChange(_o(f,y))),ue.updateImmediateChild(f,y).updateImmediateChild(Dt.name,hr.EMPTY_NODE)):d}}class us{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,q.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,q.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:un}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,q.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,q.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ht}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,q.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vn}copy(){const d=new us;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.startAfterSet_=this.startAfterSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.endBeforeSet_=this.endBeforeSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d}}function ia(g,d,f){const y=g.copy();return y.startSet_=!0,void 0===d&&(d=null),y.indexStartValue_=d,null!=f?(y.startNameSet_=!0,y.indexStartName_=f):(y.startNameSet_=!1,y.indexStartName_=""),y}function Da(g,d,f){const y=g.copy();return y.endSet_=!0,void 0===d&&(d=null),y.indexEndValue_=d,void 0!==f?(y.endNameSet_=!0,y.indexEndName_=f):(y.endNameSet_=!1,y.indexEndName_=""),y}function Ro(g,d){const f=g.copy();return f.index_=d,f}function Ss(g){const d={};if(g.isDefault())return d;let f;if(g.index_===Vn?f="$priority":g.index_===ls?f="$value":g.index_===ao?f="$key":((0,q.vA)(g.index_ instanceof li,"Unrecognized index type!"),f=g.index_.toString()),d.orderBy=(0,q.As)(f),g.startSet_){const y=g.startAfterSet_?"startAfter":"startAt";d[y]=(0,q.As)(g.indexStartValue_),g.startNameSet_&&(d[y]+=","+(0,q.As)(g.indexStartName_))}if(g.endSet_){const y=g.endBeforeSet_?"endBefore":"endAt";d[y]=(0,q.As)(g.indexEndValue_),g.endNameSet_&&(d[y]+=","+(0,q.As)(g.indexEndName_))}return g.limitSet_&&(g.isViewFromLeft()?d.limitToFirst=g.limit_:d.limitToLast=g.limit_),d}function wa(g){const d={};if(g.startSet_&&(d.sp=g.indexStartValue_,g.startNameSet_&&(d.sn=g.indexStartName_),d.sin=!g.startAfterSet_),g.endSet_&&(d.ep=g.indexEndValue_,g.endNameSet_&&(d.en=g.indexEndName_),d.ein=!g.endBeforeSet_),g.limitSet_){d.l=g.limit_;let f=g.viewFrom_;""===f&&(f=g.isViewFromLeft()?"l":"r"),d.vf=f}return g.index_!==Vn&&(d.i=g.index_.toString()),d}class es extends Ge{constructor(d,f,y,M){super(),this.repoInfo_=d,this.onDataUpdate_=f,this.authTokenProvider_=y,this.appCheckTokenProvider_=M,this.log_=$e("p:rest:"),this.listens_={}}reportStats(d){throw new Error("Method not implemented.")}static getListenId_(d,f){return void 0!==f?"tag$"+f:((0,q.vA)(d._queryParams.isDefault(),"should have a tag if it's not a default query."),d._path.toString())}listen(d,f,y,M){const K=d._path.toString();this.log_("Listen called for "+K+" "+d._queryIdentifier);const ne=es.getListenId_(d,y),ue={};this.listens_[ne]=ue;const et=Ss(d._queryParams);this.restRequest_(K+".json",et,(Dt,wn)=>{let cn=wn;if(404===Dt&&(cn=null,Dt=null),null===Dt&&this.onDataUpdate_(K,cn,!1,y),(0,q.yw)(this.listens_,ne)===ue){let Un;Un=Dt?401===Dt?"permission_denied":"rest_error:"+Dt:"ok",M(Un,null)}})}unlisten(d,f){const y=es.getListenId_(d,f);delete this.listens_[y]}get(d){const f=Ss(d._queryParams),y=d._path.toString(),M=new q.cY;return this.restRequest_(y+".json",f,(K,ne)=>{let ue=ne;404===K&&(ue=null,K=null),null===K?(this.onDataUpdate_(y,ue,!1,null),M.resolve(ue)):M.reject(new Error(ue))}),M.promise}refreshAuthToken(d){}restRequest_(d,f={},y){return f.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([M,K])=>{M&&M.accessToken&&(f.auth=M.accessToken),K&&K.token&&(f.ac=K.token);const ne=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+d+"?ns="+this.repoInfo_.namespace+(0,q.Am)(f);this.log_("Sending REST request for "+ne);const ue=new XMLHttpRequest;ue.onreadystatechange=()=>{if(y&&4===ue.readyState){this.log_("REST Response for "+ne+" received. status:",ue.status,"response:",ue.responseText);let et=null;if(ue.status>=200&&ue.status<300){try{et=(0,q.$L)(ue.responseText)}catch{Ut("Failed to parse JSON response for "+ne+": "+ue.responseText)}y(null,et)}else 401!==ue.status&&404!==ue.status&&Ut("Got unsuccessful REST response for "+ne+" Status: "+ue.status),y(ue.status);y=null}},ue.open("GET",ne,!0),ue.send()})}}class Wr{constructor(){this.rootNode_=hr.EMPTY_NODE}getNode(d){return this.rootNode_.getChild(d)}updateSnapshot(d,f){this.rootNode_=this.rootNode_.updateChild(d,f)}}function Is(){return{value:null,children:new Map}}function Yi(g,d,f){if(Wt(d))g.value=f,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild(d,f);else{const y=X(d);g.children.has(y)||g.children.set(y,Is()),Yi(g.children.get(y),d=ve(d),f)}}function Sa(g,d){if(Wt(d))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;{const f=g.value;return g.value=null,f.forEachChild(Vn,(y,M)=>{Yi(g,new je(y),M)}),Sa(g,d)}}if(g.children.size>0){const f=X(d);return d=ve(d),g.children.has(f)&&Sa(g.children.get(f),d)&&g.children.delete(f),0===g.children.size}return!0}function Cs(g,d,f){null!==g.value?f(d,g.value):function wi(g,d){g.children.forEach((f,y)=>{d(y,f)})}(g,(y,M)=>{Cs(M,new je(d.toString()+"/"+y),f)})}class Po{constructor(d){this.collection_=d,this.last_=null}get(){const d=this.collection_.get(),f=Object.assign({},d);return this.last_&&Se(this.last_,(y,M)=>{f[y]=f[y]-M}),this.last_=d,f}}class jl{constructor(d,f){this.server_=f,this.statsToReport_={},this.statsListener_=new Po(d);const y=1e4+2e4*Math.random();gr(this.reportStats_.bind(this),Math.floor(y))}reportStats_(){const d=this.statsListener_.get(),f={};let y=!1;Se(d,(M,K)=>{K>0&&(0,q.gR)(this.statsToReport_,M)&&(f[M]=K,y=!0)}),y&&this.server_.reportStats(f),gr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ko=function(g){return g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",g}(Ko||{});function Ee(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}class z{constructor(d,f,y){this.path=d,this.affectedTree=f,this.revert=y,this.type=Ko.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(d){if(Wt(this.path)){if(null!=this.affectedTree.value)return(0,q.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const f=this.affectedTree.subtree(new je(d));return new z(bt(),f,this.revert)}}return(0,q.vA)(X(this.path)===d,"operationForChild called for unrelated child."),new z(ve(this.path),this.affectedTree,this.revert)}}class Ie{constructor(d,f){this.source=d,this.path=f,this.type=Ko.LISTEN_COMPLETE}operationForChild(d){return Wt(this.path)?new Ie(this.source,bt()):new Ie(this.source,ve(this.path))}}class Dn{constructor(d,f,y){this.source=d,this.path=f,this.snap=y,this.type=Ko.OVERWRITE}operationForChild(d){return Wt(this.path)?new Dn(this.source,bt(),this.snap.getImmediateChild(d)):new Dn(this.source,ve(this.path),this.snap)}}class Er{constructor(d,f,y){this.source=d,this.path=f,this.children=y,this.type=Ko.MERGE}operationForChild(d){if(Wt(this.path)){const f=this.children.subtree(new je(d));return f.isEmpty()?null:f.value?new Dn(this.source,bt(),f.value):new Er(this.source,bt(),f)}return(0,q.vA)(X(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new Er(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Si{constructor(d,f,y){this.node_=d,this.fullyInitialized_=f,this.filtered_=y}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(d){if(Wt(d))return this.isFullyInitialized()&&!this.filtered_;const f=X(d);return this.isCompleteForChild(f)}isCompleteForChild(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)}getNode(){return this.node_}}class to{constructor(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()}}function Ur(g,d,f,y,M,K){const ne=y.filter(ue=>ue.type===f);ne.sort((ue,et)=>function ts(g,d,f){if(null==d.childName||null==f.childName)throw(0,q.Hk)("Should only compare child_ events.");const y=new jr(d.childName,d.snapshotNode),M=new jr(f.childName,f.snapshotNode);return g.index_.compare(y,M)}(g,ue,et)),ne.forEach(ue=>{const et=function Ga(g,d,f){return"value"===d.type||"child_removed"===d.type||(d.prevName=f.getPredecessorChildName(d.childName,d.snapshotNode,g.index_)),d}(g,ue,K);M.forEach(Dt=>{Dt.respondsTo(ue.type)&&d.push(Dt.createEvent(et,g.query_))})})}function As(g,d){return{eventCache:g,serverCache:d}}function Uo(g,d,f,y){return As(new Si(d,f,y),g.serverCache)}function ll(g,d,f,y){return As(g.eventCache,new Si(d,f,y))}function sa(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function ns(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}let aa;class Zi{constructor(d,f=(()=>(aa||(aa=new F(Qn)),aa))()){this.value=d,this.children=f}static fromObject(d){let f=new Zi(null);return Se(d,(y,M)=>{f=f.set(new je(y),M)}),f}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(d,f){if(null!=this.value&&f(this.value))return{path:bt(),value:this.value};if(Wt(d))return null;{const y=X(d),M=this.children.get(y);if(null!==M){const K=M.findRootMostMatchingPathAndValue(ve(d),f);return null!=K?{path:rn(new je(y),K.path),value:K.value}:null}return null}}findRootMostValueAndPath(d){return this.findRootMostMatchingPathAndValue(d,()=>!0)}subtree(d){if(Wt(d))return this;{const f=X(d),y=this.children.get(f);return null!==y?y.subtree(ve(d)):new Zi(null)}}set(d,f){if(Wt(d))return new Zi(f,this.children);{const y=X(d),K=(this.children.get(y)||new Zi(null)).set(ve(d),f),ne=this.children.insert(y,K);return new Zi(this.value,ne)}}remove(d){if(Wt(d))return this.children.isEmpty()?new Zi(null):new Zi(null,this.children);{const f=X(d),y=this.children.get(f);if(y){const M=y.remove(ve(d));let K;return K=M.isEmpty()?this.children.remove(f):this.children.insert(f,M),null===this.value&&K.isEmpty()?new Zi(null):new Zi(this.value,K)}return this}}get(d){if(Wt(d))return this.value;{const f=X(d),y=this.children.get(f);return y?y.get(ve(d)):null}}setTree(d,f){if(Wt(d))return f;{const y=X(d),K=(this.children.get(y)||new Zi(null)).setTree(ve(d),f);let ne;return ne=K.isEmpty()?this.children.remove(y):this.children.insert(y,K),new Zi(this.value,ne)}}fold(d){return this.fold_(bt(),d)}fold_(d,f){const y={};return this.children.inorderTraversal((M,K)=>{y[M]=K.fold_(rn(d,M),f)}),f(d,this.value,y)}findOnPath(d,f){return this.findOnPath_(d,bt(),f)}findOnPath_(d,f,y){const M=!!this.value&&y(f,this.value);if(M)return M;if(Wt(d))return null;{const K=X(d),ne=this.children.get(K);return ne?ne.findOnPath_(ve(d),rn(f,K),y):null}}foreachOnPath(d,f){return this.foreachOnPath_(d,bt(),f)}foreachOnPath_(d,f,y){if(Wt(d))return this;{this.value&&y(f,this.value);const M=X(d),K=this.children.get(M);return K?K.foreachOnPath_(ve(d),rn(f,M),y):new Zi(null)}}foreach(d){this.foreach_(bt(),d)}foreach_(d,f){this.children.inorderTraversal((y,M)=>{M.foreach_(rn(d,y),f)}),this.value&&f(d,this.value)}foreachChild(d){this.children.inorderTraversal((f,y)=>{y.value&&d(f,y.value)})}}class Wo{constructor(d){this.writeTree_=d}static empty(){return new Wo(new Zi(null))}}function Lr(g,d,f){if(Wt(d))return new Wo(new Zi(f));{const y=g.writeTree_.findRootMostValueAndPath(d);if(null!=y){const M=y.path;let K=y.value;const ne=Tn(M,d);return K=K.updateChild(ne,f),new Wo(g.writeTree_.set(M,K))}{const M=new Zi(f),K=g.writeTree_.setTree(d,M);return new Wo(K)}}}function Os(g,d,f){let y=g;return Se(f,(M,K)=>{y=Lr(y,rn(d,M),K)}),y}function Ml(g,d){if(Wt(d))return Wo.empty();{const f=g.writeTree_.setTree(d,new Zi(null));return new Wo(f)}}function la(g,d){return null!=ua(g,d)}function ua(g,d){const f=g.writeTree_.findRootMostValueAndPath(d);return null!=f?g.writeTree_.get(f.path).getChild(Tn(f.path,d)):null}function zl(g){const d=[],f=g.writeTree_.value;return null!=f?f.isLeafNode()||f.forEachChild(Vn,(y,M)=>{d.push(new jr(y,M))}):g.writeTree_.children.inorderTraversal((y,M)=>{null!=M.value&&d.push(new jr(y,M.value))}),d}function xs(g,d){if(Wt(d))return g;{const f=ua(g,d);return new Wo(null!=f?new Zi(f):g.writeTree_.subtree(d))}}function Ka(g){return g.writeTree_.isEmpty()}function Ts(g,d){return Hl(bt(),g.writeTree_,d)}function Hl(g,d,f){if(null!=d.value)return f.updateChild(g,d.value);{let y=null;return d.children.inorderTraversal((M,K)=>{".priority"===M?((0,q.vA)(null!==K.value,"Priority writes must always be leaf nodes"),y=K.value):f=Hl(rn(g,M),K,f)}),!f.getChild(g).isEmpty()&&null!==y&&(f=f.updateChild(rn(g,".priority"),y)),f}}function ca(g,d){return w(d,g)}function Ks(g,d){if(g.snap)return lr(g.path,d);for(const f in g.children)if(g.children.hasOwnProperty(f)&&lr(rn(g.path,f),d))return!0;return!1}function qa(g){return g.visible}function ro(g,d,f){let y=Wo.empty();for(let M=0;M<g.length;++M){const K=g[M];if(d(K)){const ne=K.path;let ue;if(K.snap)lr(f,ne)?(ue=Tn(f,ne),y=Lr(y,ue,K.snap)):lr(ne,f)&&(ue=Tn(ne,f),y=Lr(y,bt(),K.snap.getChild(ue)));else{if(!K.children)throw(0,q.Hk)("WriteRecord should have .snap or .children");if(lr(f,ne))ue=Tn(f,ne),y=Os(y,ue,K.children);else if(lr(ne,f))if(ue=Tn(ne,f),Wt(ue))y=Os(y,bt(),K.children);else{const et=(0,q.yw)(K.children,X(ue));if(et){const Dt=et.getChild(ve(ue));y=Lr(y,bt(),Dt)}}}}}return y}function Gr(g,d,f,y,M){if(y||M){const K=xs(g.visibleWrites,d);return!M&&Ka(K)?f:M||null!=f||la(K,bt())?Ts(ro(g.allWrites,function(Dt){return(Dt.visible||M)&&(!y||!~y.indexOf(Dt.writeId))&&(lr(Dt.path,d)||lr(d,Dt.path))},d),f||hr.EMPTY_NODE):null}{const K=ua(g.visibleWrites,d);if(null!=K)return K;{const ne=xs(g.visibleWrites,d);return Ka(ne)?f:null!=f||la(ne,bt())?Ts(ne,f||hr.EMPTY_NODE):null}}}function rs(g,d,f,y){return Gr(g.writeTree,g.treePath,d,f,y)}function Cn(g,d){return function Oi(g,d,f){let y=hr.EMPTY_NODE;const M=ua(g.visibleWrites,d);if(M)return M.isLeafNode()||M.forEachChild(Vn,(K,ne)=>{y=y.updateImmediateChild(K,ne)}),y;if(f){const K=xs(g.visibleWrites,d);return f.forEachChild(Vn,(ne,ue)=>{const et=Ts(xs(K,new je(ne)),ue);y=y.updateImmediateChild(ne,et)}),zl(K).forEach(ne=>{y=y.updateImmediateChild(ne.name,ne.node)}),y}return zl(xs(g.visibleWrites,d)).forEach(ne=>{y=y.updateImmediateChild(ne.name,ne.node)}),y}(g.writeTree,g.treePath,d)}function Mr(g,d,f,y){return function mu(g,d,f,y,M){(0,q.vA)(y||M,"Either existingEventSnap or existingServerSnap must exist");const K=rn(d,f);if(la(g.visibleWrites,K))return null;{const ne=xs(g.visibleWrites,K);return Ka(ne)?M.getChild(f):Ts(ne,M.getChild(f))}}(g.writeTree,g.treePath,d,f,y)}function Jr(g,d){return function Pa(g,d){return ua(g.visibleWrites,d)}(g.writeTree,rn(g.treePath,d))}function Ls(g,d,f){return function ul(g,d,f,y){const M=rn(d,f),K=ua(g.visibleWrites,M);return null!=K?K:y.isCompleteForChild(f)?Ts(xs(g.visibleWrites,M),y.getNode().getImmediateChild(f)):null}(g.writeTree,g.treePath,d,f)}function vu(g,d){return w(rn(g.treePath,d),g.writeTree)}function w(g,d){return{treePath:g,writeTree:d}}class Q{constructor(){this.changeMap=new Map}trackChildChange(d){const f=d.type,y=d.childName;(0,q.vA)("child_added"===f||"child_changed"===f||"child_removed"===f,"Only child changes supported for tracking"),(0,q.vA)(".priority"!==y,"Only non-priority child changes can be tracked.");const M=this.changeMap.get(y);if(M){const K=M.type;if("child_added"===f&&"child_removed"===K)this.changeMap.set(y,So(y,d.snapshotNode,M.snapshotNode));else if("child_removed"===f&&"child_added"===K)this.changeMap.delete(y);else if("child_removed"===f&&"child_changed"===K)this.changeMap.set(y,no(y,M.oldSnap));else if("child_changed"===f&&"child_added"===K)this.changeMap.set(y,_o(y,d.snapshotNode));else{if("child_changed"!==f||"child_changed"!==K)throw(0,q.Hk)("Illegal combination of changes: "+d+" occurred after "+M);this.changeMap.set(y,So(y,d.snapshotNode,M.oldSnap))}}else this.changeMap.set(y,d)}getChanges(){return Array.from(this.changeMap.values())}}const G=new class qe{getCompleteChild(d){return null}getChildAfterChild(d,f,y){return null}};class Me{constructor(d,f,y=null){this.writes_=d,this.viewCache_=f,this.optCompleteServerCache_=y}getCompleteChild(d){const f=this.viewCache_.eventCache;if(f.isCompleteForChild(d))return f.getNode().getImmediateChild(d);{const y=null!=this.optCompleteServerCache_?new Si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ls(this.writes_,d,y)}}getChildAfterChild(d,f,y){const M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ns(this.viewCache_),K=function fi(g,d,f,y,M,K){return function ju(g,d,f,y,M,K,ne){let ue;const et=xs(g.visibleWrites,d),Dt=ua(et,bt());if(null!=Dt)ue=Dt;else{if(null==f)return[];ue=Ts(et,f)}if(ue=ue.withIndex(ne),ue.isEmpty()||ue.isLeafNode())return[];{const wn=[],cn=ne.getCompare(),Un=K?ue.getReverseIteratorFrom(y,ne):ue.getIteratorFrom(y,ne);let Cr=Un.getNext();for(;Cr&&wn.length<M;)0!==cn(Cr,y)&&wn.push(Cr),Cr=Un.getNext();return wn}}(g.writeTree,g.treePath,d,f,y,M,K)}(this.writes_,M,f,1,y,d);return 0===K.length?null:K[0]}}function pi(g,d,f,y,M,K){const ne=d.eventCache;if(null!=Jr(y,f))return d;{let ue,et;if(Wt(f))if((0,q.vA)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){const Dt=ns(d),cn=Cn(y,Dt instanceof hr?Dt:hr.EMPTY_NODE);ue=g.filter.updateFullNode(d.eventCache.getNode(),cn,K)}else{const Dt=rs(y,ns(d));ue=g.filter.updateFullNode(d.eventCache.getNode(),Dt,K)}else{const Dt=X(f);if(".priority"===Dt){(0,q.vA)(1===be(f),"Can't have a priority with additional path components");const wn=ne.getNode();et=d.serverCache.getNode();const cn=Mr(y,f,wn,et);ue=null!=cn?g.filter.updatePriority(wn,cn):ne.getNode()}else{const wn=ve(f);let cn;if(ne.isCompleteForChild(Dt)){et=d.serverCache.getNode();const Un=Mr(y,f,ne.getNode(),et);cn=null!=Un?ne.getNode().getImmediateChild(Dt).updateChild(wn,Un):ne.getNode().getImmediateChild(Dt)}else cn=Ls(y,Dt,d.serverCache);ue=null!=cn?g.filter.updateChild(ne.getNode(),Dt,cn,wn,M,K):ne.getNode()}}return Uo(d,ue,ne.isFullyInitialized()||Wt(f),g.filter.filtersNodes())}}function gi(g,d,f,y,M,K,ne,ue){const et=d.serverCache;let Dt;const wn=ne?g.filter:g.filter.getIndexedFilter();if(Wt(f))Dt=wn.updateFullNode(et.getNode(),y,null);else if(wn.filtersNodes()&&!et.isFiltered()){const Cr=et.getNode().updateChild(f,y);Dt=wn.updateFullNode(et.getNode(),Cr,null)}else{const Cr=X(f);if(!et.isCompleteForPath(f)&&be(f)>1)return d;const Rr=ve(f),ss=et.getNode().getImmediateChild(Cr).updateChild(Rr,y);Dt=".priority"===Cr?wn.updatePriority(et.getNode(),ss):wn.updateChild(et.getNode(),Cr,ss,Rr,G,null)}const cn=ll(d,Dt,et.isFullyInitialized()||Wt(f),wn.filtersNodes());return pi(g,cn,f,M,new Me(M,cn,K),ue)}function ni(g,d,f,y,M,K,ne){const ue=d.eventCache;let et,Dt;const wn=new Me(M,d,K);if(Wt(f))Dt=g.filter.updateFullNode(d.eventCache.getNode(),y,ne),et=Uo(d,Dt,!0,g.filter.filtersNodes());else{const cn=X(f);if(".priority"===cn)Dt=g.filter.updatePriority(d.eventCache.getNode(),y),et=Uo(d,Dt,ue.isFullyInitialized(),ue.isFiltered());else{const Un=ve(f),Cr=ue.getNode().getImmediateChild(cn);let Rr;if(Wt(Un))Rr=y;else{const Fi=wn.getCompleteChild(cn);Rr=null!=Fi?".priority"===Xe(Un)&&Fi.getChild(Bt(Un)).isEmpty()?Fi:Fi.updateChild(Un,y):hr.EMPTY_NODE}et=Cr.equals(Rr)?d:Uo(d,g.filter.updateChild(ue.getNode(),cn,Rr,Un,wn,ne),ue.isFullyInitialized(),g.filter.filtersNodes())}}return et}function oi(g,d){return g.eventCache.isCompleteForChild(d)}function dr(g,d,f){return f.foreach((y,M)=>{d=d.updateChild(y,M)}),d}function ko(g,d,f,y,M,K,ne,ue){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;let Dt,et=d;Dt=Wt(f)?y:new Zi(null).setTree(f,y);const wn=d.serverCache.getNode();return Dt.children.inorderTraversal((cn,Un)=>{if(wn.hasChild(cn)){const Rr=dr(0,d.serverCache.getNode().getImmediateChild(cn),Un);et=gi(g,et,new je(cn),Rr,M,K,ne,ue)}}),Dt.children.inorderTraversal((cn,Un)=>{const Cr=!d.serverCache.isCompleteForChild(cn)&&null===Un.value;if(!wn.hasChild(cn)&&!Cr){const Fi=dr(0,d.serverCache.getNode().getImmediateChild(cn),Un);et=gi(g,et,new je(cn),Fi,M,K,ne,ue)}}),et}class Vs{constructor(d,f){this.query_=d,this.eventRegistrations_=[];const y=this.query_._queryParams,M=new ys(y.getIndex()),K=function Es(g){return g.loadsAllData()?new ys(g.getIndex()):g.hasLimit()?new Pl(g):new ra(g)}(y);this.processor_=function rt(g){return{filter:g}}(K);const ne=f.serverCache,ue=f.eventCache,et=M.updateFullNode(hr.EMPTY_NODE,ne.getNode(),null),Dt=K.updateFullNode(hr.EMPTY_NODE,ue.getNode(),null),wn=new Si(et,ne.isFullyInitialized(),M.filtersNodes()),cn=new Si(Dt,ue.isFullyInitialized(),K.filtersNodes());this.viewCache_=As(cn,wn),this.eventGenerator_=new to(this.query_)}get query(){return this.query_}}function Qa(g,d){const f=ns(g.viewCache_);return f&&(g.query._queryParams.loadsAllData()||!Wt(d)&&!f.getImmediateChild(X(d)).isEmpty())?f.getChild(d):null}function uc(g){return 0===g.eventRegistrations_.length}function zu(g,d,f){const y=[];if(f){(0,q.vA)(null==d,"A cancel should cancel all event registrations.");const M=g.query._path;g.eventRegistrations_.forEach(K=>{const ne=K.createCancelEvent(f,M);ne&&y.push(ne)})}if(d){let M=[];for(let K=0;K<g.eventRegistrations_.length;++K){const ne=g.eventRegistrations_[K];if(ne.matches(d)){if(d.hasAnyCallback()){M=M.concat(g.eventRegistrations_.slice(K+1));break}}else M.push(ne)}g.eventRegistrations_=M}else g.eventRegistrations_=[];return y}function Na(g,d,f,y){d.type===Ko.MERGE&&null!==d.source.queryId&&((0,q.vA)(ns(g.viewCache_),"We should always have a full cache before handling merges"),(0,q.vA)(sa(g.viewCache_),"Missing event cache, even though we have a server cache"));const M=g.viewCache_,K=function qn(g,d,f,y,M){const K=new Q;let ne,ue;if(f.type===Ko.OVERWRITE){const Dt=f;Dt.source.fromUser?ne=ni(g,d,Dt.path,Dt.snap,y,M,K):((0,q.vA)(Dt.source.fromServer,"Unknown source."),ue=Dt.source.tagged||d.serverCache.isFiltered()&&!Wt(Dt.path),ne=gi(g,d,Dt.path,Dt.snap,y,M,ue,K))}else if(f.type===Ko.MERGE){const Dt=f;Dt.source.fromUser?ne=function zi(g,d,f,y,M,K,ne){let ue=d;return y.foreach((et,Dt)=>{const wn=rn(f,et);oi(d,X(wn))&&(ue=ni(g,ue,wn,Dt,M,K,ne))}),y.foreach((et,Dt)=>{const wn=rn(f,et);oi(d,X(wn))||(ue=ni(g,ue,wn,Dt,M,K,ne))}),ue}(g,d,Dt.path,Dt.children,y,M,K):((0,q.vA)(Dt.source.fromServer,"Unknown source."),ue=Dt.source.tagged||d.serverCache.isFiltered(),ne=ko(g,d,Dt.path,Dt.children,y,M,ue,K))}else if(f.type===Ko.ACK_USER_WRITE){const Dt=f;ne=Dt.revert?function Fs(g,d,f,y,M,K){let ne;if(null!=Jr(y,f))return d;{const ue=new Me(y,d,M),et=d.eventCache.getNode();let Dt;if(Wt(f)||".priority"===X(f)){let wn;if(d.serverCache.isFullyInitialized())wn=rs(y,ns(d));else{const cn=d.serverCache.getNode();(0,q.vA)(cn instanceof hr,"serverChildren would be complete if leaf node"),wn=Cn(y,cn)}Dt=g.filter.updateFullNode(et,wn,K)}else{const wn=X(f);let cn=Ls(y,wn,d.serverCache);null==cn&&d.serverCache.isCompleteForChild(wn)&&(cn=et.getImmediateChild(wn)),Dt=null!=cn?g.filter.updateChild(et,wn,cn,ve(f),ue,K):d.eventCache.getNode().hasChild(wn)?g.filter.updateChild(et,wn,hr.EMPTY_NODE,ve(f),ue,K):et,Dt.isEmpty()&&d.serverCache.isFullyInitialized()&&(ne=rs(y,ns(d)),ne.isLeafNode()&&(Dt=g.filter.updateFullNode(Dt,ne,K)))}return ne=d.serverCache.isFullyInitialized()||null!=Jr(y,bt()),Uo(d,Dt,ne,g.filter.filtersNodes())}}(g,d,Dt.path,y,M,K):function ji(g,d,f,y,M,K,ne){if(null!=Jr(M,f))return d;const ue=d.serverCache.isFiltered(),et=d.serverCache;if(null!=y.value){if(Wt(f)&&et.isFullyInitialized()||et.isCompleteForPath(f))return gi(g,d,f,et.getNode().getChild(f),M,K,ue,ne);if(Wt(f)){let Dt=new Zi(null);return et.getNode().forEachChild(ao,(wn,cn)=>{Dt=Dt.set(new je(wn),cn)}),ko(g,d,f,Dt,M,K,ue,ne)}return d}{let Dt=new Zi(null);return y.foreach((wn,cn)=>{const Un=rn(f,wn);et.isCompleteForPath(Un)&&(Dt=Dt.set(wn,et.getNode().getChild(Un)))}),ko(g,d,f,Dt,M,K,ue,ne)}}(g,d,Dt.path,Dt.affectedTree,y,M,K)}else{if(f.type!==Ko.LISTEN_COMPLETE)throw(0,q.Hk)("Unknown operation type: "+f.type);ne=function Xo(g,d,f,y,M){const K=d.serverCache;return pi(g,ll(d,K.getNode(),K.isFullyInitialized()||Wt(f),K.isFiltered()),f,y,G,M)}(g,d,f.path,y,K)}const et=K.getChanges();return function Qr(g,d,f){const y=d.eventCache;if(y.isFullyInitialized()){const M=y.getNode().isLeafNode()||y.getNode().isEmpty(),K=sa(g);(f.length>0||!g.eventCache.isFullyInitialized()||M&&!y.getNode().equals(K)||!y.getNode().getPriority().equals(K.getPriority()))&&f.push(Wa(sa(d)))}}(d,ne,et),{viewCache:ne,changes:et}}(g.processor_,M,d,f,y);return function Jt(g,d){(0,q.vA)(d.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,q.vA)(d.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}(g.processor_,K.viewCache),(0,q.vA)(K.viewCache.serverCache.isFullyInitialized()||!M.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=K.viewCache,bs(g,K.changes,K.viewCache.eventCache.getNode(),null)}function bs(g,d,f,y){return function Mo(g,d,f,y){const M=[],K=[];return d.forEach(ne=>{"child_changed"===ne.type&&g.index_.indexedValueChanged(ne.oldSnap,ne.snapshotNode)&&K.push(function Zo(g,d){return{type:"child_moved",snapshotNode:d,childName:g}}(ne.childName,ne.snapshotNode))}),Ur(g,M,"child_removed",d,y,f),Ur(g,M,"child_added",d,y,f),Ur(g,M,"child_moved",K,y,f),Ur(g,M,"child_changed",d,y,f),Ur(g,M,"value",d,y,f),M}(g.eventGenerator_,d,f,y?[y]:g.eventRegistrations_)}let qs,Rs;class is{constructor(){this.views=new Map}}function yu(g,d,f,y){const M=d.source.queryId;if(null!==M){const K=g.views.get(M);return(0,q.vA)(null!=K,"SyncTree gave us an op for an invalid query."),Na(K,d,f,y)}{let K=[];for(const ne of g.views.values())K=K.concat(Na(ne,d,f,y));return K}}function Kl(g,d,f,y,M){const ne=g.views.get(d._queryIdentifier);if(!ne){let ue=rs(f,M?y:null),et=!1;ue?et=!0:y instanceof hr?(ue=Cn(f,y),et=!1):(ue=hr.EMPTY_NODE,et=!1);const Dt=As(new Si(ue,et,!1),new Si(y,M,!1));return new Vs(d,Dt)}return ne}function Us(g){const d=[];for(const f of g.views.values())f.query._queryParams.loadsAllData()||d.push(f);return d}function Hi(g,d){let f=null;for(const y of g.views.values())f=f||Qa(y,d);return f}function ud(g,d){return d._queryParams.loadsAllData()?Ri(g):g.views.get(d._queryIdentifier)}function dl(g,d){return null!=ud(g,d)}function qo(g){return null!=Ri(g)}function Ri(g){for(const d of g.views.values())if(d.query._queryParams.loadsAllData())return d;return null}let hl=1;class Ya{constructor(d){this.listenProvider_=d,this.syncPointTree_=new Zi(null),this.pendingWriteTree_=function Ma(){return{visibleWrites:Wo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qs(g,d,f,y,M){return function Ra(g,d,f,y,M){(0,q.vA)(y>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),g.allWrites.push({path:d,snap:f,writeId:y,visible:M}),M&&(g.visibleWrites=Lr(g.visibleWrites,d,f)),g.lastWriteId=y}(g.pendingWriteTree_,d,f,y,M),M?cs(g,new Dn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,f)):[]}function Ps(g,d,f=!1){const y=function Xa(g,d){for(let f=0;f<g.allWrites.length;f++){const y=g.allWrites[f];if(y.writeId===d)return y}return null}(g.pendingWriteTree_,d);if(function Wl(g,d){const f=g.allWrites.findIndex(ue=>ue.writeId===d);(0,q.vA)(f>=0,"removeWrite called with nonexistent writeId.");const y=g.allWrites[f];g.allWrites.splice(f,1);let M=y.visible,K=!1,ne=g.allWrites.length-1;for(;M&&ne>=0;){const ue=g.allWrites[ne];ue.visible&&(ne>=f&&Ks(ue,y.path)?M=!1:lr(y.path,ue.path)&&(K=!0)),ne--}return!!M&&(K?(function Xs(g){g.visibleWrites=ro(g.allWrites,qa,bt()),g.lastWriteId=g.allWrites.length>0?g.allWrites[g.allWrites.length-1].writeId:-1}(g),!0):(y.snap?g.visibleWrites=Ml(g.visibleWrites,y.path):Se(y.children,et=>{g.visibleWrites=Ml(g.visibleWrites,rn(y.path,et))}),!0))}(g.pendingWriteTree_,d)){let K=new Zi(null);return null!=y.snap?K=K.set(bt(),!0):Se(y.children,ne=>{K=K.set(new je(ne),!0)}),cs(g,new z(y.path,K,f))}return[]}function fl(g,d,f){return cs(g,new Dn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,f))}function Iu(g,d,f,y,M=!1){const K=d._path,ne=g.syncPointTree_.get(K);let ue=[];if(ne&&("default"===d._queryIdentifier||dl(ne,d))){const et=function Io(g,d,f,y){const M=d._queryIdentifier,K=[];let ne=[];const ue=qo(g);if("default"===M)for(const[et,Dt]of g.views.entries())ne=ne.concat(zu(Dt,f,y)),uc(Dt)&&(g.views.delete(et),Dt.query._queryParams.loadsAllData()||K.push(Dt.query));else{const et=g.views.get(M);et&&(ne=ne.concat(zu(et,f,y)),uc(et)&&(g.views.delete(M),et.query._queryParams.loadsAllData()||K.push(et.query)))}return ue&&!qo(g)&&K.push(new(function Wu(){return(0,q.vA)(qs,"Reference.ts has not been loaded"),qs}())(d._repo,d._path)),{removed:K,events:ne}}(ne,d,f,y);(function Lo(g){return 0===g.views.size})(ne)&&(g.syncPointTree_=g.syncPointTree_.remove(K));const Dt=et.removed;if(ue=et.events,!M){const wn=-1!==Dt.findIndex(Un=>Un._queryParams.loadsAllData()),cn=g.syncPointTree_.findOnPath(K,(Un,Cr)=>qo(Cr));if(wn&&!cn){const Un=g.syncPointTree_.subtree(K);if(!Un.isEmpty()){const Cr=function xe(g){return g.fold((d,f,y)=>{if(f&&qo(f))return[Ri(f)];{let M=[];return f&&(M=Us(f)),Se(y,(K,ne)=>{M=M.concat(ne)}),M}})}(Un);for(let Rr=0;Rr<Cr.length;++Rr){const Fi=Cr[Rr],ss=Fi.query,bl=T(g,Fi);g.listenProvider_.startListening(Gt(ss),P(g,ss),bl.hashFn,bl.onComplete)}}}!cn&&Dt.length>0&&!y&&(wn?g.listenProvider_.stopListening(Gt(d),null):Dt.forEach(Un=>{const Cr=g.queryToTagMap.get(V(Un));g.listenProvider_.stopListening(Gt(Un),Cr)}))}!function Mn(g,d){for(let f=0;f<d.length;++f){const y=d[f];if(!y._queryParams.loadsAllData()){const M=V(y),K=g.queryToTagMap.get(M);g.queryToTagMap.delete(M),g.tagToQueryMap.delete(K)}}}(g,Dt)}return ue}function Xl(g,d,f,y){const M=S(g,y);if(null!=M){const K=$(M),ne=K.path,ue=K.queryId,et=Tn(ne,d);return De(g,ne,new Dn(Ee(ue),et,f))}return[]}function ha(g,d,f,y=!1){const M=d._path;let K=null,ne=!1;g.syncPointTree_.foreachOnPath(M,(Un,Cr)=>{const Rr=Tn(Un,M);K=K||Hi(Cr,Rr),ne=ne||qo(Cr)});let et,ue=g.syncPointTree_.get(M);ue?(ne=ne||qo(ue),K=K||Hi(ue,bt())):(ue=new is,g.syncPointTree_=g.syncPointTree_.set(M,ue)),null!=K?et=!0:(et=!1,K=hr.EMPTY_NODE,g.syncPointTree_.subtree(M).foreachChild((Cr,Rr)=>{const Fi=Hi(Rr,bt());Fi&&(K=K.updateImmediateChild(Cr,Fi))}));const Dt=dl(ue,d);if(!Dt&&!d._queryParams.loadsAllData()){const Un=V(d);(0,q.vA)(!g.queryToTagMap.has(Un),"View does not exist, but we have a tag");const Cr=function Zt(){return hl++}();g.queryToTagMap.set(Un,Cr),g.tagToQueryMap.set(Cr,Un)}let cn=function Mc(g,d,f,y,M,K){const ne=Kl(g,d,y,M,K);return g.views.has(d._queryIdentifier)||g.views.set(d._queryIdentifier,ne),function Gl(g,d){g.eventRegistrations_.push(d)}(ne,f),function _u(g,d){const f=g.viewCache_.eventCache,y=[];return f.getNode().isLeafNode()||f.getNode().forEachChild(Vn,(K,ne)=>{y.push(_o(K,ne))}),f.isFullyInitialized()&&y.push(Wa(f.getNode())),bs(g,y,f.getNode(),d)}(ne,f)}(ue,d,f,ca(g.pendingWriteTree_,M),K,et);if(!Dt&&!ne&&!y){const Un=ud(ue,d);cn=cn.concat(function or(g,d,f){const y=d._path,M=P(g,d),K=T(g,f),ne=g.listenProvider_.startListening(Gt(d),M,K.hashFn,K.onComplete),ue=g.syncPointTree_.subtree(y);if(M)(0,q.vA)(!qo(ue.value),"If we're adding a query, it shouldn't be shadowed");else{const et=ue.fold((Dt,wn,cn)=>{if(!Wt(Dt)&&wn&&qo(wn))return[Ri(wn).query];{let Un=[];return wn&&(Un=Un.concat(Us(wn).map(Cr=>Cr.query))),Se(cn,(Cr,Rr)=>{Un=Un.concat(Rr)}),Un}});for(let Dt=0;Dt<et.length;++Dt){const wn=et[Dt];g.listenProvider_.stopListening(Gt(wn),P(g,wn))}}return ne}(g,d,Un))}return cn}function gl(g,d,f){const M=g.pendingWriteTree_,K=g.syncPointTree_.findOnPath(d,(ne,ue)=>{const Dt=Hi(ue,Tn(ne,d));if(Dt)return Dt});return Gr(M,d,K,f,!0)}function cs(g,d){return Oc(d,g.syncPointTree_,null,ca(g.pendingWriteTree_,bt()))}function Oc(g,d,f,y){if(Wt(g.path))return Oa(g,d,f,y);{const M=d.get(bt());null==f&&null!=M&&(f=Hi(M,bt()));let K=[];const ne=X(g.path),ue=g.operationForChild(ne),et=d.children.get(ne);if(et&&ue){const Dt=f?f.getImmediateChild(ne):null,wn=vu(y,ne);K=K.concat(Oc(ue,et,Dt,wn))}return M&&(K=K.concat(yu(M,g,y,f))),K}}function Oa(g,d,f,y){const M=d.get(bt());null==f&&null!=M&&(f=Hi(M,bt()));let K=[];return d.children.inorderTraversal((ne,ue)=>{const et=f?f.getImmediateChild(ne):null,Dt=vu(y,ne),wn=g.operationForChild(ne);wn&&(K=K.concat(Oa(wn,ue,et,Dt)))}),M&&(K=K.concat(yu(M,g,y,f))),K}function T(g,d){const f=d.query,y=P(g,f);return{hashFn:()=>(function da(g){return g.viewCache_.serverCache.getNode()}(d)||hr.EMPTY_NODE).hash(),onComplete:M=>{if("ok"===M)return y?function pl(g,d,f){const y=S(g,f);if(y){const M=$(y),K=M.path,ne=M.queryId,ue=Tn(K,d);return De(g,K,new Ie(Ee(ne),ue))}return[]}(g,f._path,y):function cc(g,d){return cs(g,new Ie({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(g,f._path);{const K=function it(g,d){let f="Unknown Error";"too_big"===g?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?f="Client doesn't have permission to access the desired data.":"unavailable"===g&&(f="The service is unavailable");const y=new Error(g+" at "+d._path.toString()+": "+f);return y.code=g.toUpperCase(),y}(M,f);return Iu(g,f,null,K)}}}}function P(g,d){const f=V(d);return g.queryToTagMap.get(f)}function V(g){return g._path.toString()+"$"+g._queryIdentifier}function S(g,d){return g.tagToQueryMap.get(d)}function $(g){const d=g.indexOf("$");return(0,q.vA)(-1!==d&&d<g.length-1,"Bad queryKey."),{queryId:g.substr(d+1),path:new je(g.substr(0,d))}}function De(g,d,f){const y=g.syncPointTree_.get(d);return(0,q.vA)(y,"Missing sync point for query tag that we're tracking"),yu(y,f,ca(g.pendingWriteTree_,d),null)}function Gt(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new(function Gu(){return(0,q.vA)(Rs,"Reference.ts has not been loaded"),Rs}())(g._repo,g._path):g}class Kr{constructor(d){this.node_=d}getImmediateChild(d){const f=this.node_.getImmediateChild(d);return new Kr(f)}node(){return this.node_}}class Pi{constructor(d,f){this.syncTree_=d,this.path_=f}getImmediateChild(d){const f=rn(this.path_,d);return new Pi(this.syncTree_,f)}node(){return gl(this.syncTree_,this.path_)}}const ui=function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g},po=function(g,d,f){return g&&"object"==typeof g?((0,q.vA)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?Yr(g[".sv"],d,f):"object"==typeof g[".sv"]?Li(g[".sv"],d):void(0,q.vA)(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},Yr=function(g,d,f){if("timestamp"===g)return f.timestamp;(0,q.vA)(!1,"Unexpected server value: "+g)},Li=function(g,d,f){g.hasOwnProperty("increment")||(0,q.vA)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));const y=g.increment;"number"!=typeof y&&(0,q.vA)(!1,"Unexpected increment value: "+y);const M=d.node();if((0,q.vA)(null!==M&&typeof M<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return y;const ne=M.getValue();return"number"!=typeof ne?y:ne+y},lo=function(g,d,f,y){return so(d,new Pi(f,g),y)},Co=function(g,d,f){return so(g,new Kr(d),f)};function so(g,d,f){const y=g.getPriority().val(),M=po(y,d.getImmediateChild(".priority"),f);let K;if(g.isLeafNode()){const ne=g,ue=po(ne.getValue(),d,f);return ue!==ne.getValue()||M!==ne.getPriority().val()?new Nt(ue,pr(M)):g}{const ne=g;return K=ne,M!==ne.getPriority().val()&&(K=K.updatePriority(new Nt(M))),ne.forEachChild(Vn,(ue,et)=>{const Dt=so(et,d.getImmediateChild(ue),f);Dt!==et&&(K=K.updateImmediateChild(ue,Dt))}),K}}class ml{constructor(d="",f=null,y={children:{},childCount:0}){this.name=d,this.parent=f,this.node=y}}function vl(g,d){let f=d instanceof je?d:new je(d),y=g,M=X(f);for(;null!==M;){const K=(0,q.yw)(y.node.children,M)||{children:{},childCount:0};y=new ml(M,y,K),f=ve(f),M=X(f)}return y}function Ys(g){return g.node.value}function Ja(g,d){g.node.value=d,dd(g)}function xc(g){return g.node.childCount>0}function xa(g,d){Se(g.node.children,(f,y)=>{d(new ml(f,g,y))})}function Za(g,d,f,y){f&&!y&&d(g),xa(g,M=>{Za(M,d,!0,y)}),f&&y&&d(g)}function el(g){return new je(null===g.parent?g.name:el(g.parent)+"/"+g.name)}function dd(g){null!==g.parent&&function hd(g,d,f){const y=function Nl(g){return void 0===Ys(g)&&!xc(g)}(f),M=(0,q.gR)(g.node.children,d);y&&M?(delete g.node.children[d],g.node.childCount--,dd(g)):!y&&!M&&(g.node.children[d]=f.node,g.node.childCount++,dd(g))}(g.parent,g.name,g)}const fd=/[\[\].#$\/\u0000-\u001F\u007F]/,Cu=/[\[\].#$\u0000-\u001F\u007F]/,Ku=10485760,Au=function(g){return"string"==typeof g&&0!==g.length&&!fd.test(g)},_l=function(g){return"string"==typeof g&&0!==g.length&&!Cu.test(g)},yl=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!Et(g)||g&&"object"==typeof g&&(0,q.gR)(g,".sv")},Bs=function(g,d,f,y){y&&void 0===d||Tu((0,q.dI)(g,"value"),d,f)},Tu=function(g,d,f){const y=f instanceof je?new cr(f,g):f;if(void 0===d)throw new Error(g+"contains undefined "+Ir(y));if("function"==typeof d)throw new Error(g+"contains a function "+Ir(y)+" with contents = "+d.toString());if(Et(d))throw new Error(g+"contains "+d.toString()+" "+Ir(y));if("string"==typeof d&&d.length>Ku/3&&(0,q.OE)(d)>Ku)throw new Error(g+"contains a string greater than "+Ku+" utf8 bytes "+Ir(y)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){let M=!1,K=!1;if(Se(d,(ne,ue)=>{if(".value"===ne)M=!0;else if(".priority"!==ne&&".sv"!==ne&&(K=!0,!Au(ne)))throw new Error(g+" contains an invalid key ("+ne+") "+Ir(y)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nr(g,d){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push(d),g.byteLength_+=(0,q.OE)(d),Nr(g)})(y,ne),Tu(g,ue,y),function ai(g){const d=g.parts_.pop();g.byteLength_-=(0,q.OE)(d),g.parts_.length>0&&(g.byteLength_-=1)}(y)}),M&&K)throw new Error(g+' contains ".value" child '+Ir(y)+" in addition to actual children.")}},bu=function(g,d,f,y){if(y&&void 0===d)return;const M=(0,q.dI)(g,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(M+" must be an object containing the children to replace.");const K=[];Se(d,(ne,ue)=>{const et=new je(ne);if(Tu(M,ue,rn(f,et)),".priority"===Xe(et)&&!yl(ue))throw new Error(M+"contains an invalid value for '"+et.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");K.push(et)}),function(g,d){let f,y;for(f=0;f<d.length;f++){y=d[f];const K=dt(y);for(let ne=0;ne<K.length;ne++)if((".priority"!==K[ne]||ne!==K.length-1)&&!Au(K[ne]))throw new Error(g+"contains an invalid key ("+K[ne]+") in path "+y.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}d.sort(Rn);let M=null;for(f=0;f<d.length;f++){if(y=d[f],null!==M&&lr(M,y))throw new Error(g+"contains a path "+M.toString()+" that is ancestor of another path "+y.toString());M=y}}(M,K)},js=function(g,d,f){if(!f||void 0!==d){if(Et(d))throw new Error((0,q.dI)(g,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yl(d))throw new Error((0,q.dI)(g,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},os=function(g,d,f,y){if(!(y&&void 0===f||Au(f)))throw new Error((0,q.dI)(g,d)+'was an invalid key = "'+f+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},El=function(g,d,f,y){if(!(y&&void 0===f||_l(f)))throw new Error((0,q.dI)(g,d)+'was an invalid path = "'+f+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xu=function(g,d,f,y){f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),El(g,d,f,y)},Js=function(g,d){if(".info"===X(d))throw new Error(g+" failed = Can't modify data under /.info/")},qu=function(g,d){const f=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!Au(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==f.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),_l(g)}(f))throw new Error((0,q.dI)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Fo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dc(g,d){let f=null;for(let y=0;y<d.length;y++){const M=d[y],K=M.getPath();null!==f&&!kn(K,f.path)&&(g.eventLists_.push(f),f=null),null===f&&(f={events:[],path:K}),f.events.push(M)}f&&g.eventLists_.push(f)}function Qu(g,d,f){dc(g,f),Yu(g,y=>kn(y,d))}function Ds(g,d,f){dc(g,f),Yu(g,y=>lr(y,d)||lr(d,y))}function Yu(g,d){g.recursionDepth_++;let f=!0;for(let y=0;y<g.eventLists_.length;y++){const M=g.eventLists_[y];M&&(d(M.path)?(Ql(g.eventLists_[y]),g.eventLists_[y]=null):f=!1)}f&&(g.eventLists_=[]),g.recursionDepth_--}function Ql(g){for(let d=0;d<g.events.length;d++){const f=g.events[d];if(null!==f){g.events[d]=null;const y=f.getEventRunner();Ot&&Te("event: "+f.toString()),ir(y)}}}const Yl="repo_interrupt",Ju=25;class ka{constructor(d,f,y,M){this.repoInfo_=d,this.forceRestClient_=f,this.authTokenProvider_=y,this.appCheckProvider_=M,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Is(),this.transactionQueueTree_=new ml,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xl(g){const f=g.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+f}function No(g){return ui({timestamp:xl(g)})}function Il(g,d,f,y,M){g.dataUpdateCount++;const K=new je(d);f=g.interceptServerDataCallback_?g.interceptServerDataCallback_(d,f):f;let ne=[];if(M)if(y){const et=(0,q.kH)(f,Dt=>pr(Dt));ne=function Nc(g,d,f,y){const M=S(g,y);if(M){const K=$(M),ne=K.path,ue=K.queryId,et=Tn(ne,d),Dt=Zi.fromObject(f);return De(g,ne,new Er(Ee(ue),et,Dt))}return[]}(g.serverSyncTree_,K,et,M)}else{const et=pr(f);ne=Xl(g.serverSyncTree_,K,et,M)}else if(y){const et=(0,q.kH)(f,Dt=>pr(Dt));ne=function Eu(g,d,f){const y=Zi.fromObject(f);return cs(g,new Er({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,y))}(g.serverSyncTree_,K,et)}else{const et=pr(f);ne=fl(g.serverSyncTree_,K,et)}let ue=K;ne.length>0&&(ue=io(g,K)),Ds(g.eventQueue_,ue,ne)}function hc(g,d){Zu(g,"connected",d),!1===d&&function Ld(g){Qo(g,"onDisconnectEvents");const d=No(g),f=Is();Cs(g.onDisconnect_,bt(),(M,K)=>{const ne=lo(M,K,g.serverSyncTree_,d);Yi(f,M,ne)});let y=[];Cs(f,bt(),(M,K)=>{y=y.concat(fl(g.serverSyncTree_,M,K));const ne=La(g,M);io(g,ne)}),g.onDisconnect_=Is(),Ds(g.eventQueue_,bt(),y)}(g)}function Zu(g,d,f){const y=new je("/.info/"+d),M=pr(f);g.infoData_.updateSnapshot(y,M);const K=fl(g.infoSyncTree_,y,M);Ds(g.eventQueue_,y,K)}function ec(g){return g.nextWriteId_++}function Fc(g,d,f,y,M){Qo(g,"set",{path:d.toString(),value:f,priority:y});const K=No(g),ne=pr(f,y),ue=gl(g.serverSyncTree_,d),et=Co(ne,ue,K),Dt=ec(g),wn=Qs(g.serverSyncTree_,d,et,Dt,!0);dc(g.eventQueue_,wn),g.server_.put(d.toString(),ne.val(!0),(Un,Cr)=>{const Rr="ok"===Un;Rr||Ut("set at "+d+" failed: "+Un);const Fi=Ps(g.serverSyncTree_,Dt,!Rr);Ds(g.eventQueue_,d,Fi),ws(0,M,Un,Cr)});const cn=La(g,d);io(g,cn),Ds(g.eventQueue_,cn,[])}function Vc(g,d,f){g.server_.onDisconnectCancel(d.toString(),(y,M)=>{"ok"===y&&Sa(g.onDisconnect_,d),ws(0,f,y,M)})}function Du(g,d,f,y){const M=pr(f);g.server_.onDisconnectPut(d.toString(),M.val(!0),(K,ne)=>{"ok"===K&&Yi(g.onDisconnect_,d,M),ws(0,y,K,ne)})}function uo(g,d,f){let y;y=".info"===X(d._path)?Iu(g.infoSyncTree_,d,f):Iu(g.serverSyncTree_,d,f),Qu(g.eventQueue_,d._path,y)}function fa(g){g.persistentConnection_&&g.persistentConnection_.interrupt(Yl)}function Qo(g,...d){let f="";g.persistentConnection_&&(f=g.persistentConnection_.id+":"),Te(f,...d)}function ws(g,d,f,y){d&&ir(()=>{if("ok"===f)d(null);else{const M=(f||"error").toUpperCase();let K=M;y&&(K+=": "+y);const ne=new Error(K);ne.code=M,d(ne)}})}function $o(g,d,f){return gl(g.serverSyncTree_,d,f)||hr.EMPTY_NODE}function Zs(g,d=g.transactionQueueTree_){if(d||tl(g,d),Ys(d)){const f=To(g,d);(0,q.vA)(f.length>0,"Sending zero length transaction queue"),f.every(M=>0===M.status)&&function ii(g,d,f){const y=f.map(Dt=>Dt.currentWriteId),M=$o(g,d,y);let K=M;const ne=M.hash();for(let Dt=0;Dt<f.length;Dt++){const wn=f[Dt];(0,q.vA)(0===wn.status,"tryToSendTransactionQueue_: items in queue should all be run."),wn.status=1,wn.retryCount++;const cn=Tn(d,wn.path);K=K.updateChild(cn,wn.currentOutputSnapshotRaw)}const ue=K.val(!0),et=d;g.server_.put(et.toString(),ue,Dt=>{Qo(g,"transaction put response",{path:et.toString(),status:Dt});let wn=[];if("ok"===Dt){const cn=[];for(let Un=0;Un<f.length;Un++)f[Un].status=2,wn=wn.concat(Ps(g.serverSyncTree_,f[Un].currentWriteId)),f[Un].onComplete&&cn.push(()=>f[Un].onComplete(null,!0,f[Un].currentOutputSnapshotResolved)),f[Un].unwatcher();tl(g,vl(g.transactionQueueTree_,d)),Zs(g,g.transactionQueueTree_),Ds(g.eventQueue_,d,wn);for(let Un=0;Un<cn.length;Un++)ir(cn[Un])}else{if("datastale"===Dt)for(let cn=0;cn<f.length;cn++)f[cn].status=3===f[cn].status?4:0;else{Ut("transaction at "+et.toString()+" failed: "+Dt);for(let cn=0;cn<f.length;cn++)f[cn].status=4,f[cn].abortReason=Dt}io(g,d)}},ne)}(g,el(d),f)}else xc(d)&&xa(d,f=>{Zs(g,f)})}function io(g,d){const f=wu(g,d),y=el(f);return function Fd(g,d,f){if(0===d.length)return;const y=[];let M=[];const ne=d.filter(ue=>0===ue.status).map(ue=>ue.currentWriteId);for(let ue=0;ue<d.length;ue++){const et=d[ue],Dt=Tn(f,et.path);let cn,wn=!1;if((0,q.vA)(null!==Dt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===et.status)wn=!0,cn=et.abortReason,M=M.concat(Ps(g.serverSyncTree_,et.currentWriteId,!0));else if(0===et.status)if(et.retryCount>=Ju)wn=!0,cn="maxretry",M=M.concat(Ps(g.serverSyncTree_,et.currentWriteId,!0));else{const Un=$o(g,et.path,ne);et.currentInputSnapshot=Un;const Cr=d[ue].update(Un.val());if(void 0!==Cr){Tu("transaction failed: Data returned ",Cr,et.path);let Rr=pr(Cr);"object"==typeof Cr&&null!=Cr&&(0,q.gR)(Cr,".priority")||(Rr=Rr.updatePriority(Un.getPriority()));const ss=et.currentWriteId,bl=No(g),ic=Co(Rr,Un,bl);et.currentOutputSnapshotRaw=Rr,et.currentOutputSnapshotResolved=ic,et.currentWriteId=ec(g),ne.splice(ne.indexOf(ss),1),M=M.concat(Qs(g.serverSyncTree_,et.path,ic,et.currentWriteId,et.applyLocally)),M=M.concat(Ps(g.serverSyncTree_,ss,!0))}else wn=!0,cn="nodata",M=M.concat(Ps(g.serverSyncTree_,et.currentWriteId,!0))}Ds(g.eventQueue_,f,M),M=[],wn&&(d[ue].status=2,setTimeout(d[ue].unwatcher,Math.floor(0)),d[ue].onComplete&&y.push("nodata"===cn?()=>d[ue].onComplete(null,!1,d[ue].currentInputSnapshot):()=>d[ue].onComplete(new Error(cn),!1,null)))}tl(g,g.transactionQueueTree_);for(let ue=0;ue<y.length;ue++)ir(y[ue]);Zs(g,g.transactionQueueTree_)}(g,To(g,f),y),y}function wu(g,d){let f,y=g.transactionQueueTree_;for(f=X(d);null!==f&&void 0===Ys(y);)y=vl(y,f),f=X(d=ve(d));return y}function To(g,d){const f=[];return Jl(g,d,f),f.sort((y,M)=>y.order-M.order),f}function Jl(g,d,f){const y=Ys(d);if(y)for(let M=0;M<y.length;M++)f.push(y[M]);xa(d,M=>{Jl(g,M,f)})}function tl(g,d){const f=Ys(d);if(f){let y=0;for(let M=0;M<f.length;M++)2!==f[M].status&&(f[y]=f[M],y++);f.length=y,Ja(d,f.length>0?f:void 0)}xa(d,y=>{tl(g,y)})}function La(g,d){const f=el(wu(g,d)),y=vl(g.transactionQueueTree_,d);return function Ol(g,d,f){let y=f?g:g.parent;for(;null!==y;){if(d(y))return!0;y=y.parent}}(y,M=>{nl(g,M)}),nl(g,y),Za(y,M=>{nl(g,M)}),f}function nl(g,d){const f=Ys(d);if(f){const y=[];let M=[],K=-1;for(let ne=0;ne<f.length;ne++)3===f[ne].status||(1===f[ne].status?((0,q.vA)(K===ne-1,"All SENT items should be at beginning of queue."),K=ne,f[ne].status=3,f[ne].abortReason="set"):((0,q.vA)(0===f[ne].status,"Unexpected transaction status in abort"),f[ne].unwatcher(),M=M.concat(Ps(g.serverSyncTree_,f[ne].currentWriteId,!0)),f[ne].onComplete&&y.push(f[ne].onComplete.bind(null,new Error("set"),!1,null))));-1===K?Ja(d,void 0):f.length=K+1,Ds(g.eventQueue_,el(d),M);for(let ne=0;ne<y.length;ne++)ir(y[ne])}}const Zl=function(g,d){const f=ea(g),y=f.namespace;return"firebase.com"===f.domain&&vt(f.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!y||"undefined"===y)&&"localhost"!==f.domain&&vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),f.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kr(f.host,f.secure,y,"ws"===f.scheme||"wss"===f.scheme,d,"",y!==f.subdomain),path:new je(f.pathString)}},ea=function(g){let d="",f="",y="",M="",K="",ne=!0,ue="https",et=443;if("string"==typeof g){let Dt=g.indexOf("//");Dt>=0&&(ue=g.substring(0,Dt-1),g=g.substring(Dt+2));let wn=g.indexOf("/");-1===wn&&(wn=g.length);let cn=g.indexOf("?");-1===cn&&(cn=g.length),d=g.substring(0,Math.min(wn,cn)),wn<cn&&(M=function pc(g){let d="";const f=g.split("/");for(let y=0;y<f.length;y++)if(f[y].length>0){let M=f[y];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch{}d+="/"+M}return d}(g.substring(wn,cn)));const Un=function Cl(g){const d={};"?"===g.charAt(0)&&(g=g.substring(1));for(const f of g.split("&")){if(0===f.length)continue;const y=f.split("=");2===y.length?d[decodeURIComponent(y[0])]=decodeURIComponent(y[1]):Ut(`Invalid query segment '${f}' in query '${g}'`)}return d}(g.substring(Math.min(g.length,cn)));Dt=d.indexOf(":"),Dt>=0?(ne="https"===ue||"wss"===ue,et=parseInt(d.substring(Dt+1),10)):Dt=d.length;const Cr=d.slice(0,Dt);if("localhost"===Cr.toLowerCase())f="localhost";else if(Cr.split(".").length<=2)f=Cr;else{const Rr=d.indexOf(".");y=d.substring(0,Rr).toLowerCase(),f=d.substring(Rr+1),K=y}"ns"in Un&&(K=Un.ns)}return{host:d,port:et,domain:f,subdomain:y,secure:ne,scheme:ue,pathString:M,namespace:K}},xr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Su=function(){let g=0;const d=[];return function(f){const y=f===g;let M;g=f;const K=new Array(8);for(M=7;M>=0;M--)K[M]=xr.charAt(f%64),f=Math.floor(f/64);(0,q.vA)(0===f,"Cannot push at time == 0");let ne=K.join("");if(y){for(M=11;M>=0&&63===d[M];M--)d[M]=0;d[M]++}else for(M=0;M<12;M++)d[M]=Math.floor(64*Math.random());for(M=0;M<12;M++)ne+=xr.charAt(d[M]);return(0,q.vA)(20===ne.length,"nextPushId: Length should be 20."),ne}}();class kl{constructor(d,f,y,M){this.eventType=d,this.eventRegistration=f,this.snapshot=y,this.prevName=M}getPath(){const d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,q.As)(this.snapshot.exportVal())}}class ta{constructor(d,f,y){this.eventRegistration=d,this.error=f,this.path=y}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class eu{constructor(d,f){this.snapshotCallback=d,this.cancelCallback=f}onValue(d,f){this.snapshotCallback.call(null,d,f)}onCancel(d){return(0,q.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)}get hasCancelCallback(){return!!this.cancelCallback}matches(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context}}class Ru{constructor(d,f){this._repo=d,this._path=f}cancel(){const d=new q.cY;return Vc(this._repo,this._path,d.wrapCallback(()=>{})),d.promise}remove(){Js("OnDisconnect.remove",this._path);const d=new q.cY;return Du(this._repo,this._path,null,d.wrapCallback(()=>{})),d.promise}set(d){Js("OnDisconnect.set",this._path),Bs("OnDisconnect.set",d,this._path,!1);const f=new q.cY;return Du(this._repo,this._path,d,f.wrapCallback(()=>{})),f.promise}setWithPriority(d,f){Js("OnDisconnect.setWithPriority",this._path),Bs("OnDisconnect.setWithPriority",d,this._path,!1),js("OnDisconnect.setWithPriority",f,!1);const y=new q.cY;return function Ao(g,d,f,y,M){const K=pr(f,y);g.server_.onDisconnectPut(d.toString(),K.val(!0),(ne,ue)=>{"ok"===ne&&Yi(g.onDisconnect_,d,K),ws(0,M,ne,ue)})}(this._repo,this._path,d,f,y.wrapCallback(()=>{})),y.promise}update(d){Js("OnDisconnect.update",this._path),bu("OnDisconnect.update",d,this._path,!1);const f=new q.cY;return function tr(g,d,f,y){if((0,q.Im)(f))return Te("onDisconnect().update() called with empty data.  Don't do anything."),void ws(0,y,"ok",void 0);g.server_.onDisconnectMerge(d.toString(),f,(M,K)=>{"ok"===M&&Se(f,(ne,ue)=>{const et=pr(ue);Yi(g.onDisconnect_,rn(d,ne),et)}),ws(0,y,M,K)})}(this._repo,this._path,d,f.wrapCallback(()=>{})),f.promise}}class Wi{constructor(d,f,y,M){this._repo=d,this._path=f,this._queryParams=y,this._orderByCalled=M}get key(){return Wt(this._path)?null:Xe(this._path)}get ref(){return new hs(this._repo,this._path)}get _queryIdentifier(){const d=wa(this._queryParams),f=ee(d);return"{}"===f?"default":f}get _queryObject(){return wa(this._queryParams)}isEqual(d){if(!((d=(0,q.Ku)(d))instanceof Wi))return!1;const f=this._repo===d._repo,y=kn(this._path,d._path);return f&&y&&this._queryIdentifier===d._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function at(g){let d="";for(let f=g.pieceNum_;f<g.pieces_.length;f++)""!==g.pieces_[f]&&(d+="/"+encodeURIComponent(String(g.pieces_[f])));return d||"/"}(this._path)}}function Pu(g,d){if(!0===g._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function go(g){let d=null,f=null;if(g.hasStart()&&(d=g.getIndexStartValue()),g.hasEnd()&&(f=g.getIndexEndValue()),g.getIndex()===ao){const y="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",M="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==un)throw new Error(y);if("string"!=typeof d)throw new Error(M)}if(g.hasEnd()){if(g.getIndexEndName()!==Ht)throw new Error(y);if("string"!=typeof f)throw new Error(M)}}else if(g.getIndex()===Vn){if(null!=d&&!yl(d)||null!=f&&!yl(f))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,q.vA)(g.getIndex()instanceof li||g.getIndex()===ls,"unknown index type."),null!=d&&"object"==typeof d||null!=f&&"object"==typeof f)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bo(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hs extends Wi{constructor(d,f){super(d,f,new us,!1)}get parent(){const d=Bt(this._path);return null===d?null:new hs(this._repo,d)}get root(){let d=this;for(;null!==d.parent;)d=d.parent;return d}}class pa{constructor(d,f,y){this._node=d,this.ref=f,this._index=y}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(d){const f=new je(d),y=ga(this.ref,d);return new pa(this._node.getChild(f),y,Vn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(d){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(y,M)=>d(new pa(M,ga(this.ref,y),Vn)))}hasChild(d){const f=new je(d);return!this._node.getChild(f).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tu(g,d){return(g=(0,q.Ku)(g))._checkNotDeleted("ref"),void 0!==d?ga(g._root,d):g._root}function rl(g,d){(g=(0,q.Ku)(g))._checkNotDeleted("refFromURL");const f=Zl(d,g._repo.repoInfo_.nodeAdmin);qu("refFromURL",f);const y=f.repoInfo;return!g._repo.repoInfo_.isCustomHost()&&y.host!==g._repo.repoInfo_.host&&vt("refFromURL: Host name does not match the current database: (found "+y.host+" but expected "+g._repo.repoInfo_.host+")"),tu(g,f.path.toString())}function ga(g,d){return null===X((g=(0,q.Ku)(g))._path)?Xu("child","path",d,!1):El("child","path",d,!1),new hs(g._repo,rn(g._path,d))}function nu(g,d){g=(0,q.Ku)(g),Js("push",g._path),Bs("push",d,g._path,!0);const f=xl(g._repo),y=Su(f),M=ga(g,y),K=ga(g,y);let ne;return ne=null!=d?gc(K,d).then(()=>K):Promise.resolve(K),M.then=ne.then.bind(ne),M.catch=ne.then.bind(ne,void 0),M}function ru(g){return Js("remove",g._path),gc(g,null)}function gc(g,d){g=(0,q.Ku)(g),Js("set",g._path),Bs("set",d,g._path,!1);const f=new q.cY;return Fc(g._repo,g._path,d,null,f.wrapCallback(()=>{})),f.promise}function nc(g,d){g=(0,q.Ku)(g),Js("setPriority",g._path),js("setPriority",d,!1);const f=new q.cY;return Fc(g._repo,rn(g._path,".priority"),d,null,f.wrapCallback(()=>{})),f.promise}function mc(g,d,f){if(Js("setWithPriority",g._path),Bs("setWithPriority",d,g._path,!1),js("setWithPriority",f,!1),".length"===g.key||".keys"===g.key)throw"setWithPriority failed: "+g.key+" is a read-only object.";const y=new q.cY;return Fc(g._repo,g._path,d,f,y.wrapCallback(()=>{})),y.promise}function Uc(g,d){bu("update",d,g._path,!1);const f=new q.cY;return function tc(g,d,f,y){Qo(g,"update",{path:d.toString(),value:f});let M=!0;const K=No(g),ne={};if(Se(f,(ue,et)=>{M=!1,ne[ue]=lo(rn(d,ue),pr(et),g.serverSyncTree_,K)}),M)Te("update() called with empty data.  Don't do anything."),ws(0,y,"ok",void 0);else{const ue=ec(g),et=function $s(g,d,f,y){!function ks(g,d,f,y){(0,q.vA)(y>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:d,children:f,writeId:y,visible:!0}),g.visibleWrites=Os(g.visibleWrites,d,f),g.lastWriteId=y}(g.pendingWriteTree_,d,f,y);const M=Zi.fromObject(f);return cs(g,new Er({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,M))}(g.serverSyncTree_,d,ne,ue);dc(g.eventQueue_,et),g.server_.merge(d.toString(),f,(Dt,wn)=>{const cn="ok"===Dt;cn||Ut("update at "+d+" failed: "+Dt);const Un=Ps(g.serverSyncTree_,ue,!cn),Cr=Un.length>0?io(g,d):d;Ds(g.eventQueue_,Cr,Un),ws(0,y,Dt,wn)}),Se(f,Dt=>{const wn=La(g,rn(d,Dt));io(g,wn)}),Ds(g.eventQueue_,d,[])}}(g._repo,g._path,d,f.wrapCallback(()=>{})),f.promise}function Ud(g){g=(0,q.Ku)(g);const d=new eu(()=>{}),f=new vc(d);return function Lc(g,d,f){const y=function kd(g,d){const f=d._path;let y=null;g.syncPointTree_.foreachOnPath(f,(Dt,wn)=>{const cn=Tn(Dt,f);y=y||Hi(wn,cn)});let M=g.syncPointTree_.get(f);M?y=y||Hi(M,bt()):(M=new is,g.syncPointTree_=g.syncPointTree_.set(f,M));const K=null!=y,ne=K?new Si(y,!0,!1):null;return function cl(g){return sa(g.viewCache_)}(Kl(M,d,ca(g.pendingWriteTree_,d._path),K?ne.getNode():hr.EMPTY_NODE,K))}(g.serverSyncTree_,d);return null!=y?Promise.resolve(y):g.server_.get(d).then(M=>{const K=pr(M).withIndex(d._queryParams.getIndex());let ne;if(ha(g.serverSyncTree_,d,f,!0),d._queryParams.loadsAllData())ne=fl(g.serverSyncTree_,d._path,K);else{const ue=P(g.serverSyncTree_,d);ne=Xl(g.serverSyncTree_,d._path,K,ue)}return Ds(g.eventQueue_,d._path,ne),Iu(g.serverSyncTree_,d,f,null,!0),K},M=>(Qo(g,"get for query "+(0,q.As)(d)+" failed: "+M),Promise.reject(new Error(M))))}(g._repo,g,f).then(y=>new pa(y,new hs(g._repo,g._path),g._queryParams.getIndex()))}class vc{constructor(d){this.callbackContext=d}respondsTo(d){return"value"===d}createEvent(d,f){const y=f._queryParams.getIndex();return new kl("value",this,new pa(d.snapshotNode,new hs(f._repo,f._path),y))}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,null)}createCancelEvent(d,f){return this.callbackContext.hasCancelCallback?new ta(this,d,f):null}matches(d){return d instanceof vc&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _c{constructor(d,f){this.eventType=d,this.callbackContext=f}respondsTo(d){let f="children_added"===d?"child_added":d;return f="children_removed"===f?"child_removed":f,this.eventType===f}createCancelEvent(d,f){return this.callbackContext.hasCancelCallback?new ta(this,d,f):null}createEvent(d,f){(0,q.vA)(null!=d.childName,"Child events should have a childName.");const y=ga(new hs(f._repo,f._path),d.childName),M=f._queryParams.getIndex();return new kl(d.type,this,new pa(d.snapshotNode,y,M),d.prevName)}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,d.prevName)}matches(d){return d instanceof _c&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $c(g,d,f,y,M){let K;if("object"==typeof y&&(K=void 0,M=y),"function"==typeof y&&(K=y),M&&M.onlyOnce){const et=f,Dt=(wn,cn)=>{uo(g._repo,g,ue),et(wn,cn)};Dt.userCallback=f.userCallback,Dt.context=f.context,f=Dt}const ne=new eu(f,K||void 0),ue="value"===d?new vc(ne):new _c(d,ne);return function Fr(g,d,f){let y;y=".info"===X(d._path)?ha(g.infoSyncTree_,d,f):ha(g.serverSyncTree_,d,f),Qu(g.eventQueue_,d._path,y)}(g._repo,g,ue),()=>uo(g._repo,g,ue)}function pd(g,d,f,y){return $c(g,"value",d,f,y)}function Ah(g,d,f,y){return $c(g,"child_added",d,f,y)}function Th(g,d,f,y){return $c(g,"child_changed",d,f,y)}function gd(g,d,f,y){return $c(g,"child_moved",d,f,y)}function md(g,d,f,y){return $c(g,"child_removed",d,f,y)}function Bc(g,d,f){let y=null;const M=f?new eu(f):null;"value"===d?y=new vc(M):d&&(y=new _c(d,M)),uo(g._repo,g,y)}class ma{}class b extends ma{constructor(d,f){super(),this._value=d,this._key=f,this.type="endAt"}_apply(d){Bs("endAt",this._value,d._path,!0);const f=Da(d._queryParams,this._value,this._key);if(Bo(f),go(f),d._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(d._repo,d._path,f,d._orderByCalled)}}function m(g,d){return os("endAt","key",d,!0),new b(g,d)}class E extends ma{constructor(d,f){super(),this._value=d,this._key=f,this.type="endBefore"}_apply(d){Bs("endBefore",this._value,d._path,!1);const f=function Di(g,d,f){let y;return y=Da(g,d,g.index_===ao||f?f:un),y.endBeforeSet_=!0,y}(d._queryParams,this._value,this._key);if(Bo(f),go(f),d._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(d._repo,d._path,f,d._orderByCalled)}}function R(g,d){return os("endBefore","key",d,!0),new E(g,d)}class se extends ma{constructor(d,f){super(),this._value=d,this._key=f,this.type="startAt"}_apply(d){Bs("startAt",this._value,d._path,!0);const f=ia(d._queryParams,this._value,this._key);if(Bo(f),go(f),d._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wi(d._repo,d._path,f,d._orderByCalled)}}function Le(g=null,d){return os("startAt","key",d,!0),new se(g,d)}class Lt extends ma{constructor(d,f){super(),this._value=d,this._key=f,this.type="startAfter"}_apply(d){Bs("startAfter",this._value,d._path,!1);const f=function bi(g,d,f){let y;return y=ia(g,d,g.index_===ao||f?f:Ht),y.startAfterSet_=!0,y}(d._queryParams,this._value,this._key);if(Bo(f),go(f),d._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wi(d._repo,d._path,f,d._orderByCalled)}}function hn(g,d){return os("startAfter","key",d,!0),new Lt(g,d)}class Wn extends ma{constructor(d){super(),this._limit=d,this.type="limitToFirst"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(d._repo,d._path,function yo(g,d){const f=g.copy();return f.limitSet_=!0,f.limit_=d,f.viewFrom_="l",f}(d._queryParams,this._limit),d._orderByCalled)}}function Sr(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Wn(g)}class Ar extends ma{constructor(d){super(),this._limit=d,this.type="limitToLast"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(d._repo,d._path,function ba(g,d){const f=g.copy();return f.limitSet_=!0,f.limit_=d,f.viewFrom_="r",f}(d._queryParams,this._limit),d._orderByCalled)}}function $i(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ar(g)}class Ms extends ma{constructor(d){super(),this._path=d,this.type="orderByChild"}_apply(d){Pu(d,"orderByChild");const f=new je(this._path);if(Wt(f))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const y=new li(f),M=Ro(d._queryParams,y);return go(M),new Wi(d._repo,d._path,M,!0)}}function Fa(g){if("$key"===g)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===g)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===g)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return El("orderByChild","path",g,!1),new Ms(g)}class iu extends ma{constructor(){super(...arguments),this.type="orderByKey"}_apply(d){Pu(d,"orderByKey");const f=Ro(d._queryParams,ao);return go(f),new Wi(d._repo,d._path,f,!0)}}function rc(){return new iu}class jc extends ma{constructor(){super(...arguments),this.type="orderByPriority"}_apply(d){Pu(d,"orderByPriority");const f=Ro(d._queryParams,Vn);return go(f),new Wi(d._repo,d._path,f,!0)}}function il(){return new jc}class vd extends ma{constructor(){super(...arguments),this.type="orderByValue"}_apply(d){Pu(d,"orderByValue");const f=Ro(d._queryParams,ls);return go(f),new Wi(d._repo,d._path,f,!0)}}function zc(){return new vd}class Ki extends ma{constructor(d,f){super(),this._value=d,this._key=f,this.type="equalTo"}_apply(d){if(Bs("equalTo",this._value,d._path,!1),d._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(d._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new b(this._value,this._key)._apply(new se(this._value,this._key)._apply(d))}}function Hc(g,d){return os("equalTo","key",d,!0),new Ki(g,d)}function ol(g,...d){let f=(0,q.Ku)(g);for(const y of d)f=y._apply(f);return f}(function Hu(g){(0,q.vA)(!qs,"__referenceConstructor has already been defined"),qs=g})(hs),function cd(g){(0,q.vA)(!Rs,"__referenceConstructor has already been defined"),Rs=g}(hs);const fs="FIREBASE_DATABASE_EMULATOR_HOST",ou={};let Al=!1;function ps(g,d,f,y,M){let K=y||g.options.databaseURL;void 0===K&&(g.options.projectId||vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",g.options.projectId),K=`${g.options.projectId}-default-rtdb.firebaseio.com`);let et,Dt,ne=Zl(K,M),ue=ne.repoInfo;typeof process<"u"&&process.env&&(Dt=process.env[fs]),Dt?(et=!0,K=`http://${Dt}?ns=${ue.namespace}`,ne=Zl(K,M),ue=ne.repoInfo):et=!ne.repoInfo.secure;const wn=M&&et?new Xn(Xn.OWNER):new _r(g.name,g.options,d);qu("Invalid Firebase Database URL",ne),Wt(ne.path)||vt("Database URL must point to the root of a Firebase Database (not including a child path).");const cn=function $d(g,d,f,y){let M=ou[d.name];M||(M={},ou[d.name]=M);let K=M[g.toURLString()];return K&&vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),K=new ka(g,Al,f,y),M[g.toURLString()]=K,K}(ue,g,wn,new Kn(g.name,f));return new Va(cn,g)}class Va{constructor(d,f){this._repoInternal=d,this.app=f,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ch(g,d,f){if(g.stats_=Pr(g.repoInfo_),g.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)g.server_=new es(g.repoInfo_,(y,M,K,ne)=>{Il(g,y,M,K,ne)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(()=>hc(g,!0),0);else{if(typeof f<"u"&&null!==f){if("object"!=typeof f)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,q.As)(f)}catch(y){throw new Error("Invalid authOverride provided: "+y)}}g.persistentConnection_=new ho(g.repoInfo_,d,(y,M,K,ne)=>{Il(g,y,M,K,ne)},y=>{hc(g,y)},y=>{!function fc(g,d){Se(d,(f,y)=>{Zu(g,f,y)})}(g,y)},g.authTokenProvider_,g.appCheckProvider_,f),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener(y=>{g.server_.refreshAuthToken(y)}),g.appCheckProvider_.addTokenChangeListener(y=>{g.server_.refreshAppCheckToken(y.token)}),g.statsReporter_=function Ii(g,d){const f=g.toString();return ri[f]||(ri[f]=d()),ri[f]}(g.repoInfo_,()=>new jl(g.stats_,g.server_)),g.infoData_=new Wr,g.infoSyncTree_=new Ya({startListening:(y,M,K,ne)=>{let ue=[];const et=g.infoData_.getNode(y._path);return et.isEmpty()||(ue=fl(g.infoSyncTree_,y._path,et),setTimeout(()=>{ne("ok")},0)),ue},stopListening:()=>{}}),Zu(g,"connected",!1),g.serverSyncTree_=new Ya({startListening:(y,M,K,ne)=>(g.server_.listen(y,K,M,(ue,et)=>{const Dt=ne(ue,et);Ds(g.eventQueue_,y._path,Dt)}),[]),stopListening:(y,M)=>{g.server_.unlisten(y,M)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hs(this._repo,bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function bh(g,d){const f=ou[d];(!f||f[g.key]!==g)&&vt(`Database ${d}(${g.repoInfo_}) has already been deleted.`),fa(g),delete f[g.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(d){null===this._rootInternal&&vt("Cannot call "+d+" on a deleted database.")}}function su(){yn.IS_TRANSPORT_INITIALIZED&&Ut("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function wh(){su(),Fe.forceDisallow()}function Nf(){su(),An.forceDisallow(),Fe.forceAllow()}function Wc(g=(0,p.getApp)(),d){const f=(0,p._getProvider)(g,"database").getImmediate({identifier:d});if(!f._instanceStarted){const y=(0,q.yU)("database");y&&Bd(f,...y)}return f}function Bd(g,d,f,y={}){(g=(0,q.Ku)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&vt("Cannot call useEmulator() after instance has already been initialized.");const M=g._repoInternal;let K;if(M.repoInfo_.nodeAdmin)y.mockUserToken&&vt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),K=new Xn(Xn.OWNER);else if(y.mockUserToken){const ne="string"==typeof y.mockUserToken?y.mockUserToken:(0,q.Fy)(y.mockUserToken,g.app.options.projectId);K=new Xn(ne)}!function Tl(g,d,f,y){g.repoInfo_=new kr(`${d}:${f}`,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams,!0),y&&(g.authTokenProvider_=y)}(M,d,f,K)}function Gc(g){(g=(0,q.Ku)(g))._checkNotDeleted("goOffline"),fa(g._repo)}function jd(g){(g=(0,q.Ku)(g))._checkNotDeleted("goOnline"),function ds(g){g.persistentConnection_&&g.persistentConnection_.resume(Yl)}(g._repo)}function _d(g,d){Qe(g,d)}const ci={".sv":"timestamp"};function yc(){return ci}function yd(g){return{".sv":{increment:g}}}class Sh{constructor(d,f){this.committed=d,this.snapshot=f}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Ed(g,d,f){var y;if(g=(0,q.Ku)(g),Js("Reference.transaction",g._path),".length"===g.key||".keys"===g.key)throw"Reference.transaction failed: "+g.key+" is a read-only object.";const M=null===(y=null==f?void 0:f.applyLocally)||void 0===y||y,K=new q.cY,ue=pd(g,()=>{});return function Eo(g,d,f,y,M,K){Qo(g,"transaction on "+d);const ne={path:d,update:f,onComplete:y,status:null,order:gt(),applyLocally:K,retryCount:0,unwatcher:M,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ue=$o(g,d,void 0);ne.currentInputSnapshot=ue;const et=ne.update(ue.val());if(void 0===et)ne.unwatcher(),ne.currentOutputSnapshotRaw=null,ne.currentOutputSnapshotResolved=null,ne.onComplete&&ne.onComplete(null,!1,ne.currentInputSnapshot);else{Tu("transaction failed: Data returned ",et,ne.path),ne.status=0;const Dt=vl(g.transactionQueueTree_,d),wn=Ys(Dt)||[];let cn;wn.push(ne),Ja(Dt,wn),"object"==typeof et&&null!==et&&(0,q.gR)(et,".priority")?(cn=(0,q.yw)(et,".priority"),(0,q.vA)(yl(cn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):cn=(gl(g.serverSyncTree_,d)||hr.EMPTY_NODE).getPriority().val();const Un=No(g),Cr=pr(et,cn),Rr=Co(Cr,ue,Un);ne.currentOutputSnapshotRaw=Cr,ne.currentOutputSnapshotResolved=Rr,ne.currentWriteId=ec(g);const Fi=Qs(g.serverSyncTree_,d,Rr,ne.currentWriteId,ne.applyLocally);Ds(g.eventQueue_,d,Fi),Zs(g,g.transactionQueueTree_)}}(g._repo,g._path,d,(et,Dt,wn)=>{let cn=null;et?K.reject(et):(cn=new pa(wn,new hs(g._repo,g._path),Vn),K.resolve(new Sh(Dt,cn)))},ue,M),K.promise}ho.prototype.simpleListen=function(g,d){this.sendRequest("q",{p:g},d)},ho.prototype.echo=function(g,d){this.sendRequest("echo",{d:g},d)},function Mu(g){ot(p.SDK_VERSION),(0,p._registerComponent)(new U.uA("database",(d,{instanceIdentifier:f})=>ps(d.getProvider("app").getImmediate(),d.getProvider("auth-internal"),d.getProvider("app-check-internal"),f),"PUBLIC").setMultipleInstances(!0)),(0,p.registerVersion)(Pe,"1.0.7",g),(0,p.registerVersion)(Pe,"1.0.7","esm2017")}()},9583:(Gn,St,k)=>{"use strict";k.d(St,{fS:()=>Yg,Ix:()=>cu,H6:()=>g0,T1:()=>Yo,Wq:()=>Fu,uY:()=>du,W6:()=>de,Ci:()=>tp,YQ:()=>Jc,NJ:()=>fu,Dc:()=>Bn,GA:()=>Zc,cm:()=>ho,K$:()=>ln,FA:()=>vn,lo:()=>Xi,bI:()=>Qn,qG:()=>Nr,qi:()=>Xt,c8:()=>ku,gS:()=>k0,C3:()=>om,hq:()=>yp,me:()=>_0,rJ:()=>f0,Cs:()=>Ug,vN:()=>Go,kd:()=>x0,CL:()=>f_,LA:()=>Xv,H9:()=>$g,ol:()=>zI,Q5:()=>HI,Os:()=>Xh,FD:()=>R0,rf:()=>fp,Ws:()=>as,z6:()=>th,x7:()=>Zg,nY:()=>eh,_e:()=>gp,GG:()=>XI,kU:()=>em,Rr:()=>rf,aU:()=>Kv,GV:()=>g_,AB:()=>GI,$1:()=>w0,po:()=>jg,St:()=>qh,aQ:()=>tm,FC:()=>o_,My:()=>D0,P:()=>A0,B:()=>Kh,yx:()=>Wv,c4:()=>h_,O5:()=>p_,BN:()=>O0,He:()=>Ut,lN:()=>Zd,HM:()=>S0,EO:()=>qg,mZ:()=>i_,iB:()=>qd,_M:()=>T0});var Re,ot,c=k(467),p=k(7852),U=k(1362),q=k(8041),ce=k(1076),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Qt,It,$t){$t||($t=0);var en=Array(16);if("string"==typeof It)for(var on=0;16>on;++on)en[on]=It.charCodeAt($t++)|It.charCodeAt($t++)<<8|It.charCodeAt($t++)<<16|It.charCodeAt($t++)<<24;else for(on=0;16>on;++on)en[on]=It[$t++]|It[$t++]<<8|It[$t++]<<16|It[$t++]<<24;var fn=Qt.g[3],kt=(It=Qt.g[0])+(fn^($t=Qt.g[1])&((on=Qt.g[2])^fn))+en[0]+3614090360&4294967295;kt=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=($t=(on=(fn=(It=$t+(kt<<7&4294967295|kt>>>25))+((kt=fn+(on^It&($t^on))+en[1]+3905402710&4294967295)<<12&4294967295|kt>>>20))+((kt=on+($t^fn&(It^$t))+en[2]+606105819&4294967295)<<17&4294967295|kt>>>15))+((kt=$t+(It^on&(fn^It))+en[3]+3250441966&4294967295)<<22&4294967295|kt>>>10))+((kt=It+(fn^$t&(on^fn))+en[4]+4118548399&4294967295)<<7&4294967295|kt>>>25))+((kt=fn+(on^It&($t^on))+en[5]+1200080426&4294967295)<<12&4294967295|kt>>>20))+((kt=on+($t^fn&(It^$t))+en[6]+2821735955&4294967295)<<17&4294967295|kt>>>15))+((kt=$t+(It^on&(fn^It))+en[7]+4249261313&4294967295)<<22&4294967295|kt>>>10))+((kt=It+(fn^$t&(on^fn))+en[8]+1770035416&4294967295)<<7&4294967295|kt>>>25))+((kt=fn+(on^It&($t^on))+en[9]+2336552879&4294967295)<<12&4294967295|kt>>>20))+((kt=on+($t^fn&(It^$t))+en[10]+4294925233&4294967295)<<17&4294967295|kt>>>15))+((kt=$t+(It^on&(fn^It))+en[11]+2304563134&4294967295)<<22&4294967295|kt>>>10))+((kt=It+(fn^$t&(on^fn))+en[12]+1804603682&4294967295)<<7&4294967295|kt>>>25))+((kt=fn+(on^It&($t^on))+en[13]+4254626195&4294967295)<<12&4294967295|kt>>>20))+((kt=on+($t^fn&(It^$t))+en[14]+2792965006&4294967295)<<17&4294967295|kt>>>15))+((kt=$t+(It^on&(fn^It))+en[15]+1236535329&4294967295)<<22&4294967295|kt>>>10))+((kt=It+(on^fn&($t^on))+en[1]+4129170786&4294967295)<<5&4294967295|kt>>>27))+((kt=fn+($t^on&(It^$t))+en[6]+3225465664&4294967295)<<9&4294967295|kt>>>23))+((kt=on+(It^$t&(fn^It))+en[11]+643717713&4294967295)<<14&4294967295|kt>>>18))+((kt=$t+(fn^It&(on^fn))+en[0]+3921069994&4294967295)<<20&4294967295|kt>>>12))+((kt=It+(on^fn&($t^on))+en[5]+3593408605&4294967295)<<5&4294967295|kt>>>27))+((kt=fn+($t^on&(It^$t))+en[10]+38016083&4294967295)<<9&4294967295|kt>>>23))+((kt=on+(It^$t&(fn^It))+en[15]+3634488961&4294967295)<<14&4294967295|kt>>>18))+((kt=$t+(fn^It&(on^fn))+en[4]+3889429448&4294967295)<<20&4294967295|kt>>>12))+((kt=It+(on^fn&($t^on))+en[9]+568446438&4294967295)<<5&4294967295|kt>>>27))+((kt=fn+($t^on&(It^$t))+en[14]+3275163606&4294967295)<<9&4294967295|kt>>>23))+((kt=on+(It^$t&(fn^It))+en[3]+4107603335&4294967295)<<14&4294967295|kt>>>18))+((kt=$t+(fn^It&(on^fn))+en[8]+1163531501&4294967295)<<20&4294967295|kt>>>12))+((kt=It+(on^fn&($t^on))+en[13]+2850285829&4294967295)<<5&4294967295|kt>>>27))+((kt=fn+($t^on&(It^$t))+en[2]+4243563512&4294967295)<<9&4294967295|kt>>>23))+((kt=on+(It^$t&(fn^It))+en[7]+1735328473&4294967295)<<14&4294967295|kt>>>18))+((kt=$t+(fn^It&(on^fn))+en[12]+2368359562&4294967295)<<20&4294967295|kt>>>12))+((kt=It+($t^on^fn)+en[5]+4294588738&4294967295)<<4&4294967295|kt>>>28))+((kt=fn+(It^$t^on)+en[8]+2272392833&4294967295)<<11&4294967295|kt>>>21))+((kt=on+(fn^It^$t)+en[11]+1839030562&4294967295)<<16&4294967295|kt>>>16))+((kt=$t+(on^fn^It)+en[14]+4259657740&4294967295)<<23&4294967295|kt>>>9))+((kt=It+($t^on^fn)+en[1]+2763975236&4294967295)<<4&4294967295|kt>>>28))+((kt=fn+(It^$t^on)+en[4]+1272893353&4294967295)<<11&4294967295|kt>>>21))+((kt=on+(fn^It^$t)+en[7]+4139469664&4294967295)<<16&4294967295|kt>>>16))+((kt=$t+(on^fn^It)+en[10]+3200236656&4294967295)<<23&4294967295|kt>>>9))+((kt=It+($t^on^fn)+en[13]+681279174&4294967295)<<4&4294967295|kt>>>28))+((kt=fn+(It^$t^on)+en[0]+3936430074&4294967295)<<11&4294967295|kt>>>21))+((kt=on+(fn^It^$t)+en[3]+3572445317&4294967295)<<16&4294967295|kt>>>16))+((kt=$t+(on^fn^It)+en[6]+76029189&4294967295)<<23&4294967295|kt>>>9))+((kt=It+($t^on^fn)+en[9]+3654602809&4294967295)<<4&4294967295|kt>>>28))+((kt=fn+(It^$t^on)+en[12]+3873151461&4294967295)<<11&4294967295|kt>>>21))+((kt=on+(fn^It^$t)+en[15]+530742520&4294967295)<<16&4294967295|kt>>>16))+((kt=$t+(on^fn^It)+en[2]+3299628645&4294967295)<<23&4294967295|kt>>>9))+((kt=It+(on^($t|~fn))+en[0]+4096336452&4294967295)<<6&4294967295|kt>>>26))+((kt=fn+($t^(It|~on))+en[7]+1126891415&4294967295)<<10&4294967295|kt>>>22))+((kt=on+(It^(fn|~$t))+en[14]+2878612391&4294967295)<<15&4294967295|kt>>>17))+((kt=$t+(fn^(on|~It))+en[5]+4237533241&4294967295)<<21&4294967295|kt>>>11))+((kt=It+(on^($t|~fn))+en[12]+1700485571&4294967295)<<6&4294967295|kt>>>26))+((kt=fn+($t^(It|~on))+en[3]+2399980690&4294967295)<<10&4294967295|kt>>>22))+((kt=on+(It^(fn|~$t))+en[10]+4293915773&4294967295)<<15&4294967295|kt>>>17))+((kt=$t+(fn^(on|~It))+en[1]+2240044497&4294967295)<<21&4294967295|kt>>>11))+((kt=It+(on^($t|~fn))+en[8]+1873313359&4294967295)<<6&4294967295|kt>>>26))+((kt=fn+($t^(It|~on))+en[15]+4264355552&4294967295)<<10&4294967295|kt>>>22))+((kt=on+(It^(fn|~$t))+en[6]+2734768916&4294967295)<<15&4294967295|kt>>>17))+((kt=$t+(fn^(on|~It))+en[13]+1309151649&4294967295)<<21&4294967295|kt>>>11))+((fn=(It=$t+((kt=It+(on^($t|~fn))+en[4]+4149444226&4294967295)<<6&4294967295|kt>>>26))+((kt=fn+($t^(It|~on))+en[11]+3174756917&4294967295)<<10&4294967295|kt>>>22))^((on=fn+((kt=on+(It^(fn|~$t))+en[2]+718787259&4294967295)<<15&4294967295|kt>>>17))|~It))+en[9]+3951481745&4294967295,Qt.g[0]=Qt.g[0]+It&4294967295,Qt.g[1]=Qt.g[1]+(on+(kt<<21&4294967295|kt>>>11))&4294967295,Qt.g[2]=Qt.g[2]+on&4294967295,Qt.g[3]=Qt.g[3]+fn&4294967295}function C(Qt,It){this.h=It;for(var $t=[],en=!0,on=Qt.length-1;0<=on;on--){var fn=0|Qt[on];en&&fn==It||($t[on]=fn,en=!1)}this.g=$t}(function n(Qt,It){function $t(){}$t.prototype=It.prototype,Qt.D=It.prototype,Qt.prototype=new $t,Qt.prototype.constructor=Qt,Qt.C=function(en,on,fn){for(var kt=Array(arguments.length-2),Ac=2;Ac<arguments.length;Ac++)kt[Ac-2]=arguments[Ac];return It.prototype[on].apply(en,kt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Qt,It){void 0===It&&(It=Qt.length);for(var $t=It-this.blockSize,en=this.B,on=this.h,fn=0;fn<It;){if(0==on)for(;fn<=$t;)u(this,Qt,fn),fn+=this.blockSize;if("string"==typeof Qt){for(;fn<It;)if(en[on++]=Qt.charCodeAt(fn++),on==this.blockSize){u(this,en),on=0;break}}else for(;fn<It;)if(en[on++]=Qt[fn++],on==this.blockSize){u(this,en),on=0;break}}this.h=on,this.o+=It},s.prototype.v=function(){var Qt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Qt[0]=128;for(var It=1;It<Qt.length-8;++It)Qt[It]=0;var $t=8*this.o;for(It=Qt.length-8;It<Qt.length;++It)Qt[It]=255&$t,$t/=256;for(this.u(Qt),Qt=Array(16),It=$t=0;4>It;++It)for(var en=0;32>en;en+=8)Qt[$t++]=this.g[It]>>>en&255;return Qt};var N={};function B(Qt){return-128<=Qt&&128>Qt?function _(Qt,It){var $t=N;return Object.prototype.hasOwnProperty.call($t,Qt)?$t[Qt]:$t[Qt]=It(Qt)}(Qt,function(It){return new C([0|It],0>It?-1:0)}):new C([0|Qt],0>Qt?-1:0)}function ie(Qt){if(isNaN(Qt)||!isFinite(Qt))return tt;if(0>Qt)return Yn(ie(-Qt));for(var It=[],$t=1,en=0;Qt>=$t;en++)It[en]=Qt/$t|0,$t*=4294967296;return new C(It,0)}var tt=B(0),Rt=B(1),an=B(16777216);function Fn(Qt){if(0!=Qt.h)return!1;for(var It=0;It<Qt.g.length;It++)if(0!=Qt.g[It])return!1;return!0}function Jn(Qt){return-1==Qt.h}function Yn(Qt){for(var It=Qt.g.length,$t=[],en=0;en<It;en++)$t[en]=~Qt.g[en];return new C($t,~Qt.h).add(Rt)}function $r(Qt,It){return Qt.add(Yn(It))}function Zr(Qt,It){for(;(65535&Qt[It])!=Qt[It];)Qt[It+1]+=Qt[It]>>>16,Qt[It]&=65535,It++}function zr(Qt,It){this.g=Qt,this.h=It}function Mi(Qt,It){if(Fn(It))throw Error("division by zero");if(Fn(Qt))return new zr(tt,tt);if(Jn(Qt))return It=Mi(Yn(Qt),It),new zr(Yn(It.g),Yn(It.h));if(Jn(It))return It=Mi(Qt,Yn(It)),new zr(Yn(It.g),It.h);if(30<Qt.g.length){if(Jn(Qt)||Jn(It))throw Error("slowDivide_ only works with positive integers.");for(var $t=Rt,en=It;0>=en.l(Qt);)$t=mo($t),en=mo(en);var on=Gi($t,1),fn=Gi(en,1);for(en=Gi(en,2),$t=Gi($t,2);!Fn(en);){var kt=fn.add(en);0>=kt.l(Qt)&&(on=on.add($t),fn=kt),en=Gi(en,1),$t=Gi($t,1)}return It=$r(Qt,on.j(It)),new zr(on,It)}for(on=tt;0<=Qt.l(It);){for($t=Math.max(1,Math.floor(Qt.m()/It.m())),en=48>=(en=Math.ceil(Math.log($t)/Math.LN2))?1:Math.pow(2,en-48),kt=(fn=ie($t)).j(It);Jn(kt)||0<kt.l(Qt);)kt=(fn=ie($t-=en)).j(It);Fn(fn)&&(fn=Rt),on=on.add(fn),Qt=$r(Qt,kt)}return new zr(on,Qt)}function mo(Qt){for(var It=Qt.g.length+1,$t=[],en=0;en<It;en++)$t[en]=Qt.i(en)<<1|Qt.i(en-1)>>>31;return new C($t,Qt.h)}function Gi(Qt,It){var $t=It>>5;It%=32;for(var en=Qt.g.length-$t,on=[],fn=0;fn<en;fn++)on[fn]=0<It?Qt.i(fn+$t)>>>It|Qt.i(fn+$t+1)<<32-It:Qt.i(fn+$t);return new C(on,Qt.h)}(l=C.prototype).m=function(){if(Jn(this))return-Yn(this).m();for(var Qt=0,It=1,$t=0;$t<this.g.length;$t++){var en=this.i($t);Qt+=(0<=en?en:4294967296+en)*It,It*=4294967296}return Qt},l.toString=function(Qt){if(2>(Qt=Qt||10)||36<Qt)throw Error("radix out of range: "+Qt);if(Fn(this))return"0";if(Jn(this))return"-"+Yn(this).toString(Qt);for(var It=ie(Math.pow(Qt,6)),$t=this,en="";;){var on=Mi($t,It).g,fn=((0<($t=$r($t,on.j(It))).g.length?$t.g[0]:$t.h)>>>0).toString(Qt);if(Fn($t=on))return fn+en;for(;6>fn.length;)fn="0"+fn;en=fn+en}},l.i=function(Qt){return 0>Qt?0:Qt<this.g.length?this.g[Qt]:this.h},l.l=function(Qt){return Jn(Qt=$r(this,Qt))?-1:Fn(Qt)?0:1},l.abs=function(){return Jn(this)?Yn(this):this},l.add=function(Qt){for(var It=Math.max(this.g.length,Qt.g.length),$t=[],en=0,on=0;on<=It;on++){var fn=en+(65535&this.i(on))+(65535&Qt.i(on)),kt=(fn>>>16)+(this.i(on)>>>16)+(Qt.i(on)>>>16);en=kt>>>16,$t[on]=(kt&=65535)<<16|(fn&=65535)}return new C($t,-2147483648&$t[$t.length-1]?-1:0)},l.j=function(Qt){if(Fn(this)||Fn(Qt))return tt;if(Jn(this))return Jn(Qt)?Yn(this).j(Yn(Qt)):Yn(Yn(this).j(Qt));if(Jn(Qt))return Yn(this.j(Yn(Qt)));if(0>this.l(an)&&0>Qt.l(an))return ie(this.m()*Qt.m());for(var It=this.g.length+Qt.g.length,$t=[],en=0;en<2*It;en++)$t[en]=0;for(en=0;en<this.g.length;en++)for(var on=0;on<Qt.g.length;on++){var fn=this.i(en)>>>16,kt=65535&this.i(en),Ac=Qt.i(on)>>>16,af=65535&Qt.i(on);$t[2*en+2*on]+=kt*af,Zr($t,2*en+2*on),$t[2*en+2*on+1]+=fn*af,Zr($t,2*en+2*on+1),$t[2*en+2*on+1]+=kt*Ac,Zr($t,2*en+2*on+1),$t[2*en+2*on+2]+=fn*Ac,Zr($t,2*en+2*on+2)}for(en=0;en<It;en++)$t[en]=$t[2*en+1]<<16|$t[2*en];for(en=It;en<2*It;en++)$t[en]=0;return new C($t,0)},l.A=function(Qt){return Mi(this,Qt).h},l.and=function(Qt){for(var It=Math.max(this.g.length,Qt.g.length),$t=[],en=0;en<It;en++)$t[en]=this.i(en)&Qt.i(en);return new C($t,this.h&Qt.h)},l.or=function(Qt){for(var It=Math.max(this.g.length,Qt.g.length),$t=[],en=0;en<It;en++)$t[en]=this.i(en)|Qt.i(en);return new C($t,this.h|Qt.h)},l.xor=function(Qt){for(var It=Math.max(this.g.length,Qt.g.length),$t=[],en=0;en<It;en++)$t[en]=this.i(en)^Qt.i(en);return new C($t,this.h^Qt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ot=ke.Md5=s,C.prototype.add=C.prototype.add,C.prototype.multiply=C.prototype.j,C.prototype.modulo=C.prototype.A,C.prototype.compare=C.prototype.l,C.prototype.toNumber=C.prototype.m,C.prototype.toString=C.prototype.toString,C.prototype.getBits=C.prototype.i,C.fromNumber=ie,C.fromString=function Ne(Qt,It){if(0==Qt.length)throw Error("number format error: empty string");if(2>(It=It||10)||36<It)throw Error("radix out of range: "+It);if("-"==Qt.charAt(0))return Yn(Ne(Qt.substring(1),It));if(0<=Qt.indexOf("-"))throw Error('number format error: interior "-" character');for(var $t=ie(Math.pow(It,8)),en=tt,on=0;on<Qt.length;on+=8){var fn=Math.min(8,Qt.length-on),kt=parseInt(Qt.substring(on,on+fn),It);8>fn?(fn=ie(Math.pow(It,fn)),en=en.j(fn).add(ie(kt))):en=(en=en.j($t)).add(ie(kt))}return en},Re=ke.Integer=C}).apply(typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{});var We,Ye,He,ut,gt,mt,ft,Ot,Tt,Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(I,j,oe){return I==Array.prototype||I==Object.prototype||(I[j]=oe.value),I},s=function i(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ve&&Ve];for(var j=0;j<I.length;++j){var oe=I[j];if(oe&&oe.Math==Math)return oe}throw Error("Cannot find global object")}(this);!function u(I,j){if(j)e:{var oe=s;I=I.split(".");for(var ze=0;ze<I.length-1;ze++){var nn=I[ze];if(!(nn in oe))break e;oe=oe[nn]}(j=j(ze=oe[I=I[I.length-1]]))!=ze&&null!=j&&n(oe,I,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(I){return I||function(){return function _(I,j){I instanceof String&&(I+="");var oe=0,ze=!1,nn={next:function(){if(!ze&&oe<I.length){var Sn=oe++;return{value:j(Sn,I[Sn]),done:!1}}return ze=!0,{done:!0,value:void 0}}};return nn[Symbol.iterator]=function(){return nn},nn}(this,function(j,oe){return oe})}});var C=C||{},N=this||self;function B(I){var j=typeof I;return"array"==(j="object"!=j?j:I?Array.isArray(I)?"array":j:"null")||"object"==j&&"number"==typeof I.length}function ie(I){var j=typeof I;return"object"==j&&null!=I||"function"==j}function Ne(I,j,oe){return I.call.apply(I.bind,arguments)}function tt(I,j,oe){if(!I)throw Error();if(2<arguments.length){var ze=Array.prototype.slice.call(arguments,2);return function(){var nn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(nn,ze),I.apply(j,nn)}}return function(){return I.apply(j,arguments)}}function Rt(I,j,oe){return(Rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ne:tt).apply(null,arguments)}function an(I,j){var oe=Array.prototype.slice.call(arguments,1);return function(){var ze=oe.slice();return ze.push.apply(ze,arguments),I.apply(this,ze)}}function Fn(I,j){function oe(){}oe.prototype=j.prototype,I.aa=j.prototype,I.prototype=new oe,I.prototype.constructor=I,I.Qb=function(ze,nn,Sn){for(var vr=Array(arguments.length-2),bo=2;bo<arguments.length;bo++)vr[bo-2]=arguments[bo];return j.prototype[nn].apply(ze,vr)}}function Jn(I){const j=I.length;if(0<j){const oe=Array(j);for(let ze=0;ze<j;ze++)oe[ze]=I[ze];return oe}return[]}function Yn(I,j){for(let oe=1;oe<arguments.length;oe++){const ze=arguments[oe];if(B(ze)){const nn=I.length||0,Sn=ze.length||0;I.length=nn+Sn;for(let vr=0;vr<Sn;vr++)I[nn+vr]=ze[vr]}else I.push(ze)}}function Zr(I){return/^[\s\xa0]*$/.test(I)}function zr(){var I=N.navigator;return I&&(I=I.userAgent)?I:""}function Mi(I){return Mi[" "](I),I}Mi[" "]=function(){};var mo=!(-1==zr().indexOf("Gecko")||-1!=zr().toLowerCase().indexOf("webkit")&&-1==zr().indexOf("Edge")||-1!=zr().indexOf("Trident")||-1!=zr().indexOf("MSIE")||-1!=zr().indexOf("Edge"));function Gi(I,j,oe){for(const ze in I)j.call(oe,I[ze],ze,I)}function It(I){const j={};for(const oe in I)j[oe]=I[oe];return j}const $t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(I,j){let oe,ze;for(let nn=1;nn<arguments.length;nn++){for(oe in ze=arguments[nn],ze)I[oe]=ze[oe];for(let Sn=0;Sn<$t.length;Sn++)oe=$t[Sn],Object.prototype.hasOwnProperty.call(ze,oe)&&(I[oe]=ze[oe])}}function on(I){var j=1;I=I.split(":");const oe=[];for(;0<j&&I.length;)oe.push(I.shift()),j--;return I.length&&oe.push(I.join(":")),oe}function fn(I){N.setTimeout(()=>{throw I},0)}function kt(){var I=dm;let j=null;return I.g&&(j=I.g,I.g=I.g.next,I.g||(I.h=null),j.next=null),j}var af=new class $r{constructor(j,oe){this.i=j,this.j=oe,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new B0,I=>I.reset());class B0{constructor(){this.next=this.g=this.h=null}set(j,oe){this.h=j,this.g=oe,this.next=null}reset(){this.next=this.g=this.h=null}}let nh,rh=!1,dm=new class Ac{constructor(){this.h=this.g=null}add(j,oe){const ze=af.get();ze.set(j,oe),this.h?this.h.next=ze:this.g=ze,this.h=ze}},y_=()=>{const I=N.Promise.resolve(void 0);nh=()=>{I.then(E_)}};var E_=()=>{for(var I;I=kt();){try{I.h.call(I.g)}catch(oe){fn(oe)}var j=af;j.j(I),100>j.h&&(j.h++,I.next=j.g,j.g=I)}rh=!1};function Vu(){this.s=this.s,this.C=this.C}function Ba(I,j){this.type=I,this.g=this.target=j,this.defaultPrevented=!1}Vu.prototype.s=!1,Vu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ba.prototype.h=function(){this.defaultPrevented=!0};var hm=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var I=!1,j=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const oe=()=>{};N.addEventListener("test",oe,j),N.removeEventListener("test",oe,j)}catch{}return I}();function lf(I,j){if(Ba.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var oe=this.type=I.type,ze=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=j,j=I.relatedTarget){if(mo){e:{try{Mi(j.nodeName);var nn=!0;break e}catch{}nn=!1}nn||(j=null)}}else"mouseover"==oe?j=I.fromElement:"mouseout"==oe&&(j=I.toElement);this.relatedTarget=j,ze?(this.clientX=void 0!==ze.clientX?ze.clientX:ze.pageX,this.clientY=void 0!==ze.clientY?ze.clientY:ze.pageY,this.screenX=ze.screenX||0,this.screenY=ze.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:ih[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&lf.aa.h.call(this)}}Fn(lf,Ba);var ih={2:"touch",3:"pen",4:"mouse"};lf.prototype.h=function(){lf.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var uf="closure_listenable_"+(1e6*Math.random()|0),j0=0;function fm(I,j,oe,ze,nn){this.listener=I,this.proxy=null,this.src=j,this.type=oe,this.capture=!!ze,this.ha=nn,this.key=++j0,this.da=this.fa=!1}function cf(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function Ip(I){this.src=I,this.g={},this.h=0}function pm(I,j){var oe=j.type;if(oe in I.g){var Sn,ze=I.g[oe],nn=Array.prototype.indexOf.call(ze,j,void 0);(Sn=0<=nn)&&Array.prototype.splice.call(ze,nn,1),Sn&&(cf(j),0==I.g[oe].length&&(delete I.g[oe],I.h--))}}function gm(I,j,oe,ze){for(var nn=0;nn<I.length;++nn){var Sn=I[nn];if(!Sn.da&&Sn.listener==j&&Sn.capture==!!oe&&Sn.ha==ze)return nn}return-1}Ip.prototype.add=function(I,j,oe,ze,nn){var Sn=I.toString();(I=this.g[Sn])||(I=this.g[Sn]=[],this.h++);var vr=gm(I,j,ze,nn);return-1<vr?(j=I[vr],oe||(j.fa=!1)):((j=new fm(j,this.src,Sn,!!ze,nn)).fa=oe,I.push(j)),j};var mm="closure_lm_"+(1e6*Math.random()|0),Cp={};function z0(I,j,oe,ze,nn){if(ze&&ze.once)return I_(I,j,oe,ze,nn);if(Array.isArray(j)){for(var Sn=0;Sn<j.length;Sn++)z0(I,j[Sn],oe,ze,nn);return null}return oe=Im(oe),I&&I[uf]?I.K(j,oe,ie(ze)?!!ze.capture:!!ze,nn):H0(I,j,oe,!1,ze,nn)}function H0(I,j,oe,ze,nn,Sn){if(!j)throw Error("Invalid event type");var vr=ie(nn)?!!nn.capture:!!nn,bo=ym(I);if(bo||(I[mm]=bo=new Ip(I)),(oe=bo.add(j,oe,ze,vr,Sn)).proxy)return oe;if(ze=function df(){const j=W0;return function I(oe){return j.call(I.src,I.listener,oe)}}(),oe.proxy=ze,ze.src=I,ze.listener=oe,I.addEventListener)hm||(nn=vr),void 0===nn&&(nn=!1),I.addEventListener(j.toString(),ze,nn);else if(I.attachEvent)I.attachEvent(_m(j.toString()),ze);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(ze)}return oe}function I_(I,j,oe,ze,nn){if(Array.isArray(j)){for(var Sn=0;Sn<j.length;Sn++)I_(I,j[Sn],oe,ze,nn);return null}return oe=Im(oe),I&&I[uf]?I.L(j,oe,ie(ze)?!!ze.capture:!!ze,nn):H0(I,j,oe,!0,ze,nn)}function C_(I,j,oe,ze,nn){if(Array.isArray(j))for(var Sn=0;Sn<j.length;Sn++)C_(I,j[Sn],oe,ze,nn);else ze=ie(ze)?!!ze.capture:!!ze,oe=Im(oe),I&&I[uf]?(I=I.i,(j=String(j).toString())in I.g&&-1<(oe=gm(Sn=I.g[j],oe,ze,nn))&&(cf(Sn[oe]),Array.prototype.splice.call(Sn,oe,1),0==Sn.length&&(delete I.g[j],I.h--))):I&&(I=ym(I))&&(j=I.g[j.toString()],I=-1,j&&(I=gm(j,oe,ze,nn)),(oe=-1<I?j[I]:null)&&vm(oe))}function vm(I){if("number"!=typeof I&&I&&!I.da){var j=I.src;if(j&&j[uf])pm(j.i,I);else{var oe=I.type,ze=I.proxy;j.removeEventListener?j.removeEventListener(oe,ze,I.capture):j.detachEvent?j.detachEvent(_m(oe),ze):j.addListener&&j.removeListener&&j.removeListener(ze),(oe=ym(j))?(pm(oe,I),0==oe.h&&(oe.src=null,j[mm]=null)):cf(I)}}}function _m(I){return I in Cp?Cp[I]:Cp[I]="on"+I}function W0(I,j){if(I.da)I=!0;else{j=new lf(j,this);var oe=I.listener,ze=I.ha||I.src;I.fa&&vm(I),I=oe.call(ze,j)}return I}function ym(I){return(I=I[mm])instanceof Ip?I:null}var Em="__closure_events_fn_"+(1e9*Math.random()>>>0);function Im(I){return"function"==typeof I?I:(I[Em]||(I[Em]=function(j){return I.handleEvent(j)}),I[Em])}function ja(){Vu.call(this),this.i=new Ip(this),this.M=this,this.F=null}function sl(I,j){var oe,ze=I.F;if(ze)for(oe=[];ze;ze=ze.F)oe.push(ze);if(I=I.M,ze=j.type||j,"string"==typeof j)j=new Ba(j,I);else if(j instanceof Ba)j.target=j.target||I;else{var nn=j;en(j=new Ba(ze,I),nn)}if(nn=!0,oe)for(var Sn=oe.length-1;0<=Sn;Sn--){var vr=j.g=oe[Sn];nn=oh(vr,ze,!0,j)&&nn}if(nn=oh(vr=j.g=I,ze,!0,j)&&nn,nn=oh(vr,ze,!1,j)&&nn,oe)for(Sn=0;Sn<oe.length;Sn++)nn=oh(vr=j.g=oe[Sn],ze,!1,j)&&nn}function oh(I,j,oe,ze){if(!(j=I.i.g[String(j)]))return!0;j=j.concat();for(var nn=!0,Sn=0;Sn<j.length;++Sn){var vr=j[Sn];if(vr&&!vr.da&&vr.capture==oe){var bo=vr.listener,Ea=vr.ha||vr.src;vr.fa&&pm(I.i,vr),nn=!1!==bo.call(Ea,ze)&&nn}}return nn&&!ze.defaultPrevented}function G0(I,j,oe){if("function"==typeof I)oe&&(I=Rt(I,oe));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=Rt(I.handleEvent,I)}return 2147483647<Number(j)?-1:N.setTimeout(I,j||0)}function K0(I){I.g=G0(()=>{I.g=null,I.i&&(I.i=!1,K0(I))},I.l);const j=I.h;I.h=null,I.m.apply(null,j)}Fn(ja,Vu),ja.prototype[uf]=!0,ja.prototype.removeEventListener=function(I,j,oe,ze){C_(this,I,j,oe,ze)},ja.prototype.N=function(){if(ja.aa.N.call(this),this.i){var j,I=this.i;for(j in I.g){for(var oe=I.g[j],ze=0;ze<oe.length;ze++)cf(oe[ze]);delete I.g[j],I.h--}}this.F=null},ja.prototype.K=function(I,j,oe,ze){return this.i.add(String(I),j,!1,oe,ze)},ja.prototype.L=function(I,j,oe,ze){return this.i.add(String(I),j,!0,oe,ze)};class Cm extends Vu{constructor(j,oe){super(),this.m=j,this.l=oe,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:K0(this)}N(){super.N(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ap(I){Vu.call(this),this.h=I,this.g={}}Fn(Ap,Vu);var X0=[];function q0(I){Gi(I.g,function(j,oe){this.g.hasOwnProperty(oe)&&vm(j)},I),I.g={}}Ap.prototype.N=function(){Ap.aa.N.call(this),q0(this)},Ap.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var A_=N.JSON.stringify,eC=N.JSON.parse,Q0=class{stringify(I){return N.JSON.stringify(I,void 0)}parse(I){return N.JSON.parse(I,void 0)}};function sh(){}function Am(){}sh.prototype.h=null;var ah={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tp(){Ba.call(this,"d")}function Tm(){Ba.call(this,"c")}Fn(Tp,Ba),Fn(Tm,Ba);var wd={},bm=null;function Tc(){return bm=bm||new ja}function Dl(I){Ba.call(this,wd.La,I)}function ya(I){const j=Tc();sl(j,new Dl(j))}function Dm(I,j){Ba.call(this,wd.STAT_EVENT,I),this.stat=j}function wl(I){const j=Tc();sl(j,new Dm(j,I))}function T_(I,j){Ba.call(this,wd.Ma,I),this.size=j}function bp(I,j){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){I()},j)}function Dp(){this.g=!0}function ff(I,j,oe,ze){I.info(function(){return"XMLHTTP TEXT ("+j+"): "+function wm(I,j){if(!I.g)return j;if(!j)return null;try{var oe=JSON.parse(j);if(oe)for(I=0;I<oe.length;I++)if(Array.isArray(oe[I])){var ze=oe[I];if(!(2>ze.length)){var nn=ze[1];if(Array.isArray(nn)&&!(1>nn.length)){var Sn=nn[0];if("noop"!=Sn&&"stop"!=Sn&&"close"!=Sn)for(var vr=1;vr<nn.length;vr++)nn[vr]=""}}}return A_(oe)}catch{return j}}(I,oe)+(ze?" "+ze:"")})}wd.La="serverreachability",Fn(Dl,Ba),wd.STAT_EVENT="statevent",Fn(Dm,Ba),wd.Ma="timingevent",Fn(T_,Ba),Dp.prototype.xa=function(){this.g=!1},Dp.prototype.info=function(){};var ed,lh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function uh(){}function bc(I,j,oe,ze){this.j=I,this.i=j,this.l=oe,this.R=ze||1,this.U=new Ap(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sp}function Sp(){this.i=null,this.g="",this.h=!1}Fn(uh,sh),uh.prototype.g=function(){return new XMLHttpRequest},uh.prototype.i=function(){return{}},ed=new uh;var pf={},Sm={};function Rm(I,j,oe){I.L=1,I.v=hh(al(j)),I.m=oe,I.P=!0,Pm(I,null)}function Pm(I,j){I.F=Date.now(),gf(I),I.A=al(I.v);var oe=I.A,ze=I.R;Array.isArray(ze)||(ze=[String(ze)]),km(oe.i,"t",ze),I.C=0,oe=I.j.J,I.h=new Sp,I.g=Z_(I.j,oe?j:null,!I.m),0<I.O&&(I.M=new Cm(Rt(I.Y,I,I.g),I.O)),j=I.U,oe=I.g,ze=I.ca;var nn="readystatechange";Array.isArray(nn)||(nn&&(X0[0]=nn.toString()),nn=X0);for(var Sn=0;Sn<nn.length;Sn++){var vr=z0(oe,nn[Sn],ze||j.handleEvent,!1,j.h||j);if(!vr)break;j.g[vr.key]=vr}j=I.H?It(I.H):{},I.m?(I.u||(I.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,j)):(I.u="GET",I.g.ea(I.A,I.u,null,j)),ya(),function b_(I,j,oe,ze,nn,Sn){I.info(function(){if(I.g)if(Sn)for(var vr="",bo=Sn.split("&"),Ea=0;Ea<bo.length;Ea++){var Ji=bo[Ea].split("=");if(1<Ji.length){var Ia=Ji[0];Ji=Ji[1];var vs=Ia.split("_");vr=2<=vs.length&&"type"==vs[1]?vr+(Ia+"=")+Ji+"&":vr+(Ia+"=redacted&")}}else vr=null;else vr=Sn;return"XMLHTTP REQ ("+ze+") [attempt "+nn+"]: "+j+"\n"+oe+"\n"+vr})}(I.i,I.u,I.A,I.l,I.R,I.m)}function S_(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function Y0(I,j){var oe=I.C,ze=j.indexOf("\n",oe);return-1==ze?Sm:(oe=Number(j.substring(oe,ze)),isNaN(oe)?pf:(ze+=1)+oe>j.length?Sm:(j=j.slice(ze,ze+oe),I.C=ze+oe,j))}function gf(I){I.S=Date.now()+I.I,Rp(I,I.I)}function Rp(I,j){if(null!=I.B)throw Error("WatchDog timer not null");I.B=bp(Rt(I.ba,I),j)}function Sd(I){I.B&&(N.clearTimeout(I.B),I.B=null)}function td(I){0==I.j.G||I.J||Q_(I.j,I)}function Dc(I){Sd(I);var j=I.M;j&&"function"==typeof j.ma&&j.ma(),I.M=null,q0(I.U),I.g&&(j=I.g,I.g=null,j.abort(),j.ma())}function Mm(I,j){try{var oe=I.j;if(0!=oe.G&&(oe.g==I||Mp(oe.h,I)))if(!I.K&&Mp(oe.h,I)&&3==oe.G){try{var ze=oe.Da.g.parse(j)}catch{ze=null}if(Array.isArray(ze)&&3==ze.length){var nn=ze;if(0==nn[0]){e:if(!oe.u){if(oe.g){if(!(oe.g.F+3e3<I.F))break e;Vp(oe),gh(oe)}If(oe),wl(18)}}else oe.za=nn[1],0<oe.za-oe.T&&37500>nn[2]&&oe.F&&0==oe.v&&!oe.C&&(oe.C=bp(Rt(oe.Za,oe),6e3));if(1>=nd(oe.h)&&oe.ca){try{oe.ca()}catch{}oe.ca=void 0}}else za(oe,11)}else if((I.K||oe.g==I)&&Vp(oe),!Zr(j))for(nn=oe.Da.g.parse(j),j=0;j<nn.length;j++){let Ji=nn[j];if(oe.T=Ji[0],Ji=Ji[1],2==oe.G)if("c"==Ji[0]){oe.K=Ji[1],oe.ia=Ji[2];const Ia=Ji[3];null!=Ia&&(oe.la=Ia,oe.j.info("VER="+oe.la));const vs=Ji[4];null!=vs&&(oe.Aa=vs,oe.j.info("SVER="+oe.Aa));const Uu=Ji[5];null!=Uu&&"number"==typeof Uu&&0<Uu&&(oe.L=ze=1.5*Uu,oe.j.info("backChannelRequestTimeoutMs_="+ze)),ze=oe;const Vl=I.g;if(Vl){const id=Vl.g?Vl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(id){var Sn=ze.h;Sn.g||-1==id.indexOf("spdy")&&-1==id.indexOf("quic")&&-1==id.indexOf("h2")||(Sn.j=Sn.l,Sn.g=new Set,Sn.h&&(Np(Sn,Sn.h),Sn.h=null))}if(ze.D){const Bp=Vl.g?Vl.g.getResponseHeader("X-HTTP-Session-Id"):null;Bp&&(ze.ya=Bp,jo(ze.I,ze.D,Bp))}}oe.G=3,oe.l&&oe.l.ua(),oe.ba&&(oe.R=Date.now()-I.F,oe.j.info("Handshake RTT: "+oe.R+"ms"));var vr=I;if((ze=oe).qa=J_(ze,ze.J?ze.ia:null,ze.W),vr.K){Op(ze.h,vr);var bo=vr,Ea=ze.L;Ea&&(bo.I=Ea),bo.B&&(Sd(bo),gf(bo)),ze.g=vr}else X_(ze);0<oe.i.length&&Fp(oe)}else"stop"!=Ji[0]&&"close"!=Ji[0]||za(oe,7);else 3==oe.G&&("stop"==Ji[0]||"close"==Ji[0]?"stop"==Ji[0]?za(oe,7):W_(oe):"noop"!=Ji[0]&&oe.l&&oe.l.ta(Ji),oe.v=0)}ya()}catch{}}bc.prototype.ca=function(I){I=I.target;const j=this.M;j&&3==Sc(I)?j.j():this.Y(I)},bc.prototype.Y=function(I){try{if(I==this.g)e:{const vs=Sc(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>vs)&&(3!=vs||this.g&&(this.h.h||this.g.oa()||z_(this.g)))){this.J||4!=vs||7==j||ya(),Sd(this);var oe=this.g.Z();this.X=oe;t:if(S_(this)){var ze=z_(this.g);I="";var nn=ze.length,Sn=4==Sc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dc(this),td(this);var vr="";break t}this.h.i=new N.TextDecoder}for(j=0;j<nn;j++)this.h.h=!0,I+=this.h.i.decode(ze[j],{stream:!(Sn&&j==nn-1)});ze.length=0,this.h.g+=I,this.C=0,vr=this.h.g}else vr=this.g.oa();if(this.o=200==oe,function D_(I,j,oe,ze,nn,Sn,vr){I.info(function(){return"XMLHTTP RESP ("+ze+") [ attempt "+nn+"]: "+j+"\n"+oe+"\n"+Sn+" "+vr})}(this.i,this.u,this.A,this.l,this.R,vs,oe),this.o){if(this.T&&!this.K){t:{if(this.g){var bo,Ea=this.g;if((bo=Ea.g?Ea.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zr(bo)){var Ji=bo;break t}}Ji=null}if(!(oe=Ji)){this.o=!1,this.s=3,wl(12),Dc(this),td(this);break e}ff(this.i,this.l,oe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mm(this,oe)}if(this.P){let Vl;for(oe=!0;!this.J&&this.C<vr.length;){if(Vl=Y0(this,vr),Vl==Sm){4==vs&&(this.s=4,wl(14),oe=!1),ff(this.i,this.l,null,"[Incomplete Response]");break}if(Vl==pf){this.s=4,wl(15),ff(this.i,this.l,vr,"[Invalid Chunk]"),oe=!1;break}ff(this.i,this.l,Vl,null),Mm(this,Vl)}if(S_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=vs||0!=vr.length||this.h.h||(this.s=1,wl(16),oe=!1),this.o=this.o&&oe,oe){if(0<vr.length&&!this.W){this.W=!0;var Ia=this.j;Ia.g==this&&Ia.ba&&!Ia.M&&(Ia.j.info("Great, no buffering proxy detected. Bytes received: "+vr.length),Um(Ia),Ia.M=!0,wl(11))}}else ff(this.i,this.l,vr,"[Invalid Chunked Response]"),Dc(this),td(this)}else ff(this.i,this.l,vr,null),Mm(this,vr);4==vs&&Dc(this),this.o&&!this.J&&(4==vs?Q_(this.j,this):(this.o=!1,gf(this)))}else(function Sl(I){const j={};I=(I.g&&2<=Sc(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let ze=0;ze<I.length;ze++){if(Zr(I[ze]))continue;var oe=on(I[ze]);const nn=oe[0];if("string"!=typeof(oe=oe[1]))continue;oe=oe.trim();const Sn=j[nn]||[];j[nn]=Sn,Sn.push(oe)}!function Qt(I,j){for(const oe in I)j.call(void 0,I[oe],oe,I)}(j,function(ze){return ze.join(", ")})})(this.g),400==oe&&0<vr.indexOf("Unknown SID")?(this.s=3,wl(12)):(this.s=0,wl(13)),Dc(this),td(this)}}}catch{}},bc.prototype.cancel=function(){this.J=!0,Dc(this)},bc.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function wp(I,j){I.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(ya(),wl(17)),Dc(this),this.s=2,td(this)):Rp(this,this.S-I)};var J0=class{constructor(I,j){this.g=I,this.map=j}};function Pp(I){this.l=I||10,I=N.PerformanceNavigationTiming?0<(I=N.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(N.chrome&&N.chrome.loadTimes&&N.chrome.loadTimes()&&N.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nm(I){return!!I.h||!!I.g&&I.g.size>=I.j}function nd(I){return I.h?1:I.g?I.g.size:0}function Mp(I,j){return I.h?I.h==j:!!I.g&&I.g.has(j)}function Np(I,j){I.g?I.g.add(j):I.h=j}function Op(I,j){I.h&&I.h==j?I.h=null:I.g&&I.g.has(j)&&I.g.delete(j)}function R_(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let j=I.i;for(const oe of I.g.values())j=j.concat(oe.D);return j}return Jn(I.i)}function Om(I,j){if(I.forEach&&"function"==typeof I.forEach)I.forEach(j,void 0);else if(B(I)||"string"==typeof I)Array.prototype.forEach.call(I,j,void 0);else for(var oe=function M_(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(B(I)||"string"==typeof I){var j=[];I=I.length;for(var oe=0;oe<I;oe++)j.push(oe);return j}j=[],oe=0;for(const ze in I)j[oe++]=ze;return j}}}(I),ze=function P_(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(B(I)){for(var j=[],oe=I.length,ze=0;ze<oe;ze++)j.push(I[ze]);return j}for(ze in j=[],oe=0,I)j[oe++]=I[ze];return j}(I),nn=ze.length,Sn=0;Sn<nn;Sn++)j.call(void 0,ze[Sn],oe&&oe[Sn],I)}Pp.prototype.cancel=function(){if(this.i=R_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var xp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sc(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof sc){this.h=I.h,mf(this,I.j),this.o=I.o,this.g=I.g,ch(this,I.s),this.l=I.l;var j=I.i,oe=new vi;oe.i=j.i,j.g&&(oe.g=new Map(j.g),oe.h=j.h),dh(this,oe),this.m=I.m}else I&&(j=String(I).match(xp))?(this.h=!1,mf(this,j[1]||"",!0),this.o=rd(j[2]||""),this.g=rd(j[3]||"",!0),ch(this,j[4]),this.l=rd(j[5]||"",!0),dh(this,j[6]||"",!0),this.m=rd(j[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}function al(I){return new sc(I)}function mf(I,j,oe){I.j=oe?rd(j,!0):j,I.j&&(I.j=I.j.replace(/:$/,""))}function ch(I,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);I.s=j}else I.s=null}function dh(I,j,oe){j instanceof vi?(I.i=j,function tE(I,j){j&&!I.j&&(wc(I),I.i=null,I.g.forEach(function(oe,ze){var nn=ze.toLowerCase();ze!=nn&&(xm(this,ze),km(this,nn,oe))},I)),I.j=j}(I.i,I.h)):(oe||(j=vf(j,k_)),I.i=new vi(j,I.h))}function jo(I,j,oe){I.i.set(j,oe)}function hh(I){return jo(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function rd(I,j){return I?j?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function vf(I,j,oe){return"string"==typeof I?(I=encodeURI(I).replace(j,O_),oe&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function O_(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}sc.prototype.toString=function(){var I=[],j=this.j;j&&I.push(vf(j,x_,!0),":");var oe=this.g;return(oe||"file"==j)&&(I.push("//"),(j=this.o)&&I.push(vf(j,x_,!0),"@"),I.push(encodeURIComponent(String(oe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(oe=this.s)&&I.push(":",String(oe))),(oe=this.l)&&(this.g&&"/"!=oe.charAt(0)&&I.push("/"),I.push(vf(oe,"/"==oe.charAt(0)?eE:Z0,!0))),(oe=this.i.toString())&&I.push("?",oe),(oe=this.m)&&I.push("#",vf(oe,L_)),I.join("")};var x_=/[#\/\?@]/g,Z0=/[#\?:]/g,eE=/[#\?]/g,k_=/[#\?@]/g,L_=/#/g;function vi(I,j){this.h=this.g=null,this.i=I||null,this.j=!!j}function wc(I){I.g||(I.g=new Map,I.h=0,I.i&&function N_(I,j){if(I){I=I.split("&");for(var oe=0;oe<I.length;oe++){var ze=I[oe].indexOf("="),nn=null;if(0<=ze){var Sn=I[oe].substring(0,ze);nn=I[oe].substring(ze+1)}else Sn=I[oe];j(Sn,nn?decodeURIComponent(nn.replace(/\+/g," ")):"")}}}(I.i,function(j,oe){I.add(decodeURIComponent(j.replace(/\+/g," ")),oe)}))}function xm(I,j){wc(I),j=Pd(I,j),I.g.has(j)&&(I.i=null,I.h-=I.g.get(j).length,I.g.delete(j))}function Rd(I,j){return wc(I),j=Pd(I,j),I.g.has(j)}function km(I,j,oe){xm(I,j),0<oe.length&&(I.i=null,I.g.set(Pd(I,j),Jn(oe)),I.h+=oe.length)}function Pd(I,j){return j=String(j),I.j&&(j=j.toLowerCase()),j}function ac(I,j,oe,ze,nn){try{nn&&(nn.onload=null,nn.onerror=null,nn.onabort=null,nn.ontimeout=null),ze(oe)}catch{}}function _f(){this.g=new Q0}function F_(I,j,oe){const ze=oe||"";try{Om(I,function(nn,Sn){let vr=nn;ie(nn)&&(vr=A_(nn)),j.push(ze+Sn+"="+encodeURIComponent(vr))})}catch(nn){throw j.push(ze+"type="+encodeURIComponent("_badmap")),nn}}function Nd(I){this.l=I.Ub||null,this.j=I.eb||!1}function fh(I,j){ja.call(this),this.D=I,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lp(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function ph(I){I.readyState=4,I.l=null,I.j=null,I.v=null,Od(I)}function Od(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function V_(I){let j="";return Gi(I,function(oe,ze){j+=ze,j+=":",j+=oe,j+="\r\n"}),j}function Lm(I,j,oe){e:{for(ze in oe){var ze=!1;break e}ze=!0}ze||(oe=V_(oe),"string"==typeof I?null!=oe&&encodeURIComponent(String(oe)):jo(I,j,oe))}function ms(I){ja.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=vi.prototype).add=function(I,j){wc(this),this.i=null,I=Pd(this,I);var oe=this.g.get(I);return oe||this.g.set(I,oe=[]),oe.push(j),this.h+=1,this},l.forEach=function(I,j){wc(this),this.g.forEach(function(oe,ze){oe.forEach(function(nn){I.call(j,nn,ze,this)},this)},this)},l.na=function(){wc(this);const I=Array.from(this.g.values()),j=Array.from(this.g.keys()),oe=[];for(let ze=0;ze<j.length;ze++){const nn=I[ze];for(let Sn=0;Sn<nn.length;Sn++)oe.push(j[ze])}return oe},l.V=function(I){wc(this);let j=[];if("string"==typeof I)Rd(this,I)&&(j=j.concat(this.g.get(Pd(this,I))));else{I=Array.from(this.g.values());for(let oe=0;oe<I.length;oe++)j=j.concat(I[oe])}return j},l.set=function(I,j){return wc(this),this.i=null,Rd(this,I=Pd(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[j]),this.h+=1,this},l.get=function(I,j){return I&&0<(I=this.V(I)).length?String(I[0]):j},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],j=Array.from(this.g.keys());for(var oe=0;oe<j.length;oe++){var ze=j[oe];const Sn=encodeURIComponent(String(ze)),vr=this.V(ze);for(ze=0;ze<vr.length;ze++){var nn=Sn;""!==vr[ze]&&(nn+="="+encodeURIComponent(String(vr[ze]))),I.push(nn)}}return this.i=I.join("&")},Fn(Nd,sh),Nd.prototype.g=function(){return new fh(this.l,this.j)},Nd.prototype.i=function(I){return function(){return I}}({}),Fn(fh,ja),(l=fh.prototype).open=function(I,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=j,this.readyState=1,Od(this)},l.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(j.body=I),(this.D||N).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=0},l.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,Od(this)),this.g&&(this.readyState=3,Od(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lp(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var j=I.value?I.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!I.done}))&&(this.response=this.responseText+=j)}I.done?ph(this):Od(this),3==this.readyState&&Lp(this)}},l.Ra=function(I){this.g&&(this.response=this.responseText=I,ph(this))},l.Qa=function(I){this.g&&(this.response=I,ph(this))},l.ga=function(){this.g&&ph(this)},l.setRequestHeader=function(I,j){this.u.append(I,j)},l.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],j=this.h.entries();for(var oe=j.next();!oe.done;)I.push((oe=oe.value)[0]+": "+oe[1]),oe=j.next();return I.join("\r\n")},Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),Fn(ms,ja);var U_=/^https?$/i,nE=["POST","PUT"];function $_(I,j){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=j,I.m=5,B_(I),yf(I)}function B_(I){I.A||(I.A=!0,sl(I,"complete"),sl(I,"error"))}function j_(I){if(I.h&&typeof C<"u"&&(!I.v[1]||4!=Sc(I)||2!=I.Z()))if(I.u&&4==Sc(I))G0(I.Ea,0,I);else if(sl(I,"readystatechange"),4==Sc(I)){I.h=!1;try{const vr=I.Z();e:switch(vr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var oe;if(!(oe=j)){var ze;if(ze=0===vr){var nn=String(I.D).match(xp)[1]||null;!nn&&N.self&&N.self.location&&(nn=N.self.location.protocol.slice(0,-1)),ze=!U_.test(nn?nn.toLowerCase():"")}oe=ze}if(oe)sl(I,"complete"),sl(I,"success");else{I.m=6;try{var Sn=2<Sc(I)?I.g.statusText:""}catch{Sn=""}I.l=Sn+" ["+I.Z()+"]",B_(I)}}finally{yf(I)}}}function yf(I,j){if(I.g){Fm(I);const oe=I.g,ze=I.v[0]?()=>{}:null;I.g=null,I.v=null,j||sl(I,"ready");try{oe.onreadystatechange=ze}catch{}}}function Fm(I){I.I&&(N.clearTimeout(I.I),I.I=null)}function Sc(I){return I.g?I.g.readyState:0}function z_(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function Ef(I,j,oe){return oe&&oe.internalChannelParams&&oe.internalChannelParams[I]||j}function H_(I){this.Aa=0,this.i=[],this.j=new Dp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ef("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ef("baseRetryDelayMs",5e3,I),this.cb=Ef("retryDelaySeedMs",1e4,I),this.Wa=Ef("forwardChannelMaxRetries",2,I),this.wa=Ef("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new Pp(I&&I.concurrentRequestLimit),this.Da=new _f,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function W_(I){if(Vm(I),3==I.G){var j=I.U++,oe=al(I.I);if(jo(oe,"SID",I.K),jo(oe,"RID",j),jo(oe,"TYPE","terminate"),mh(I,oe),(j=new bc(I,I.j,j)).L=2,j.v=hh(al(oe)),oe=!1,N.navigator&&N.navigator.sendBeacon)try{oe=N.navigator.sendBeacon(j.v.toString(),"")}catch{}!oe&&N.Image&&((new Image).src=j.v,oe=!0),oe||(j.g=Z_(j.j,null),j.g.ea(j.v)),j.F=Date.now(),gf(j)}Up(I)}function gh(I){I.g&&(Um(I),I.g.cancel(),I.g=null)}function Vm(I){gh(I),I.u&&(N.clearTimeout(I.u),I.u=null),Vp(I),I.h.cancel(),I.s&&("number"==typeof I.s&&N.clearTimeout(I.s),I.s=null)}function Fp(I){if(!Nm(I.h)&&!I.s){I.s=!0;var j=I.Ga;nh||y_(),rh||(nh(),rh=!0),dm.add(j,I),I.B=0}}function G_(I,j){var oe;oe=j?j.l:I.U++;const ze=al(I.I);jo(ze,"SID",I.K),jo(ze,"RID",oe),jo(ze,"AID",I.T),mh(I,ze),I.m&&I.o&&Lm(ze,I.m,I.o),oe=new bc(I,I.j,oe,I.B+1),null===I.m&&(oe.H=I.o),j&&(I.i=j.D.concat(I.i)),j=K_(I,oe,1e3),oe.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),Np(I.h,oe),Rm(oe,ze,j)}function mh(I,j){I.H&&Gi(I.H,function(oe,ze){jo(j,ze,oe)}),I.l&&Om({},function(oe,ze){jo(j,ze,oe)})}function K_(I,j,oe){oe=Math.min(I.i.length,oe);var ze=I.l?Rt(I.l.Na,I.l,I):null;e:{var nn=I.i;let Sn=-1;for(;;){const vr=["count="+oe];-1==Sn?0<oe?(Sn=nn[0].g,vr.push("ofs="+Sn)):Sn=0:vr.push("ofs="+Sn);let bo=!0;for(let Ea=0;Ea<oe;Ea++){let Ji=nn[Ea].g;const Ia=nn[Ea].map;if(Ji-=Sn,0>Ji)Sn=Math.max(0,nn[Ea].g-100),bo=!1;else try{F_(Ia,vr,"req"+Ji+"_")}catch{ze&&ze(Ia)}}if(bo){ze=vr.join("&");break e}}}return I=I.i.splice(0,oe),j.D=I,ze}function X_(I){if(!I.g&&!I.u){I.Y=1;var j=I.Fa;nh||y_(),rh||(nh(),rh=!0),dm.add(j,I),I.v=0}}function If(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=bp(Rt(I.Fa,I),Y_(I,I.v)),I.v++,0))}function Um(I){null!=I.A&&(N.clearTimeout(I.A),I.A=null)}function q_(I){I.g=new bc(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var j=al(I.qa);jo(j,"RID","rpc"),jo(j,"SID",I.K),jo(j,"AID",I.T),jo(j,"CI",I.F?"0":"1"),!I.F&&I.ja&&jo(j,"TO",I.ja),jo(j,"TYPE","xmlhttp"),mh(I,j),I.m&&I.o&&Lm(j,I.m,I.o),I.L&&(I.g.I=I.L);var oe=I.g;I=I.ia,oe.L=1,oe.v=hh(al(j)),oe.m=null,oe.P=!0,Pm(oe,I)}function Vp(I){null!=I.C&&(N.clearTimeout(I.C),I.C=null)}function Q_(I,j){var oe=null;if(I.g==j){Vp(I),Um(I),I.g=null;var ze=2}else{if(!Mp(I.h,j))return;oe=j.D,Op(I.h,j),ze=1}if(0!=I.G)if(j.o)if(1==ze){oe=j.m?j.m.length:0,j=Date.now()-j.F;var nn=I.B;sl(ze=Tc(),new T_(ze,oe)),Fp(I)}else X_(I);else if(3==(nn=j.s)||0==nn&&0<j.X||!(1==ze&&function rE(I,j){return!(nd(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=j.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=bp(Rt(I.Ga,I,j),Y_(I,I.B)),I.B++,0)))}(I,j)||2==ze&&If(I)))switch(oe&&0<oe.length&&(j=I.h,j.i=j.i.concat(oe)),nn){case 1:za(I,5);break;case 4:za(I,10);break;case 3:za(I,6);break;default:za(I,2)}}function Y_(I,j){let oe=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(oe*=2),oe*j}function za(I,j){if(I.j.info("Error code "+j),2==j){var oe=Rt(I.fb,I),ze=I.Xa;const nn=!ze;ze=new sc(ze||"//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||mf(ze,"https"),hh(ze),nn?function kp(I,j){const oe=new Dp;if(N.Image){const ze=new Image;ze.onload=an(ac,oe,"TestLoadImage: loaded",!0,j,ze),ze.onerror=an(ac,oe,"TestLoadImage: error",!1,j,ze),ze.onabort=an(ac,oe,"TestLoadImage: abort",!1,j,ze),ze.ontimeout=an(ac,oe,"TestLoadImage: timeout",!1,j,ze),N.setTimeout(function(){ze.ontimeout&&ze.ontimeout()},1e4),ze.src=I}else j(!1)}(ze.toString(),oe):function Md(I,j){new Dp;const ze=new AbortController,nn=setTimeout(()=>{ze.abort(),ac(0,0,!1,j)},1e4);fetch(I,{signal:ze.signal}).then(Sn=>{clearTimeout(nn),ac(0,0,!!Sn.ok,j)}).catch(()=>{clearTimeout(nn),ac(0,0,!1,j)})}(ze.toString(),oe)}else wl(2);I.G=0,I.l&&I.l.sa(j),Up(I),Vm(I)}function Up(I){if(I.G=0,I.ka=[],I.l){const j=R_(I.h);(0!=j.length||0!=I.i.length)&&(Yn(I.ka,j),Yn(I.ka,I.i),I.h.i.length=0,Jn(I.i),I.i.length=0),I.l.ra()}}function J_(I,j,oe){var ze=oe instanceof sc?al(oe):new sc(oe);if(""!=ze.g)j&&(ze.g=j+"."+ze.g),ch(ze,ze.s);else{var nn=N.location;ze=nn.protocol,j=j?j+"."+nn.hostname:nn.hostname,nn=+nn.port;var Sn=new sc(null);ze&&mf(Sn,ze),j&&(Sn.g=j),nn&&ch(Sn,nn),oe&&(Sn.l=oe),ze=Sn}return j=I.ya,(oe=I.D)&&j&&jo(ze,oe,j),jo(ze,"VER",I.la),mh(I,ze),ze}function Z_(I,j,oe){if(j&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new ms(I.Ca&&!I.pa?new Nd({eb:oe}):I.pa)).Ha(I.J),j}function $m(){}function Cf(){}function Ha(I,j){ja.call(this),this.g=new H_(j),this.l=I,this.h=j&&j.messageUrlParams||null,I=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(I?I["X-WebChannel-Content-Type"]=j.messageContentType:I={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(I?I["X-WebChannel-Client-Profile"]=j.va:I={"X-WebChannel-Client-Profile":j.va}),this.g.S=I,(I=j&&j.Sb)&&!Zr(I)&&(this.g.m=I),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!Zr(j)&&(this.g.D=j,null!==(I=this.h)&&j in I&&j in(I=this.h)&&delete I[j]),this.j=new xd(this)}function $p(I){Tp.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var j=I.__sm__;if(j){e:{for(const oe in j){I=oe;break e}I=void 0}(this.i=I)&&(I=this.i,j=null!==j&&I in j?j[I]:void 0),this.data=j}else this.data=I}function iE(){Tm.call(this),this.status=1}function xd(I){this.g=I}(l=ms.prototype).Ha=function(I){this.J=I},l.ea=function(I,j,oe,ze){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);j=j?j.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ed.g(),this.v=function hf(I){return I.h||(I.h=I.i())}(this.o?this.o:ed),this.g.onreadystatechange=Rt(this.Ea,this);try{this.B=!0,this.g.open(j,String(I),!0),this.B=!1}catch(Sn){return void $_(this,Sn)}if(I=oe||"",oe=new Map(this.headers),ze)if(Object.getPrototypeOf(ze)===Object.prototype)for(var nn in ze)oe.set(nn,ze[nn]);else{if("function"!=typeof ze.keys||"function"!=typeof ze.get)throw Error("Unknown input type for opt_headers: "+String(ze));for(const Sn of ze.keys())oe.set(Sn,ze.get(Sn))}ze=Array.from(oe.keys()).find(Sn=>"content-type"==Sn.toLowerCase()),nn=N.FormData&&I instanceof N.FormData,!(0<=Array.prototype.indexOf.call(nE,j,void 0))||ze||nn||oe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Sn,vr]of oe)this.g.setRequestHeader(Sn,vr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fm(this),this.u=!0,this.g.send(I),this.u=!1}catch(Sn){$_(this,Sn)}},l.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,sl(this,"complete"),sl(this,"abort"),yf(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yf(this,!0)),ms.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?j_(this):this.bb())},l.bb=function(){j_(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Sc(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(I){if(this.g){var j=this.g.responseText;return I&&0==j.indexOf(I)&&(j=j.substring(I.length)),eC(j)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=H_.prototype).la=8,l.G=1,l.connect=function(I,j,oe,ze){wl(0),this.W=I,this.H=j||{},oe&&void 0!==ze&&(this.H.OSID=oe,this.H.OAID=ze),this.F=this.X,this.I=J_(this,null,this.W),Fp(this)},l.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const nn=new bc(this,this.j,I);let Sn=this.o;if(this.S&&(Sn?(Sn=It(Sn),en(Sn,this.S)):Sn=this.S),null!==this.m||this.O||(nn.H=Sn,Sn=null),this.P)e:{for(var j=0,oe=0;oe<this.i.length;oe++){var ze=this.i[oe];if(void 0===(ze="__data__"in ze.map&&"string"==typeof(ze=ze.map.__data__)?ze.length:void 0))break;if(4096<(j+=ze)){j=oe;break e}if(4096===j||oe===this.i.length-1){j=oe+1;break e}}j=1e3}else j=1e3;j=K_(this,nn,j),jo(oe=al(this.I),"RID",I),jo(oe,"CVER",22),this.D&&jo(oe,"X-HTTP-Session-Id",this.D),mh(this,oe),Sn&&(this.O?j="headers="+encodeURIComponent(String(V_(Sn)))+"&"+j:this.m&&Lm(oe,this.m,Sn)),Np(this.h,nn),this.Ua&&jo(oe,"TYPE","init"),this.P?(jo(oe,"$req",j),jo(oe,"SID","null"),nn.T=!0,Rm(nn,oe,null)):Rm(nn,oe,j),this.G=2}}else 3==this.G&&(I?G_(this,I):0==this.i.length||Nm(this.h)||G_(this))},l.Fa=function(){if(this.u=null,q_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=bp(Rt(this.ab,this),I)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wl(10),gh(this),q_(this))},l.Za=function(){null!=this.C&&(this.C=null,gh(this),If(this),wl(19))},l.fb=function(I){I?(this.j.info("Successfully pinged google.com"),wl(2)):(this.j.info("Failed to ping google.com"),wl(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=$m.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Cf.prototype.g=function(I,j){return new Ha(I,j)},Fn(Ha,ja),Ha.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ha.prototype.close=function(){W_(this.g)},Ha.prototype.o=function(I){var j=this.g;if("string"==typeof I){var oe={};oe.__data__=I,I=oe}else this.u&&((oe={}).__data__=A_(I),I=oe);j.i.push(new J0(j.Ya++,I)),3==j.G&&Fp(j)},Ha.prototype.N=function(){this.g.l=null,delete this.j,W_(this.g),delete this.g,Ha.aa.N.call(this)},Fn($p,Tp),Fn(iE,Tm),Fn(xd,$m),xd.prototype.ua=function(){sl(this.g,"a")},xd.prototype.ta=function(I){sl(this.g,new $p(I))},xd.prototype.sa=function(I){sl(this.g,new iE)},xd.prototype.ra=function(){sl(this.g,"b")},Cf.prototype.createWebChannel=Cf.prototype.g,Ha.prototype.send=Ha.prototype.o,Ha.prototype.open=Ha.prototype.m,Ha.prototype.close=Ha.prototype.close,Tt=me.createWebChannelTransport=function(){return new Cf},Ot=me.getStatEventTarget=function(){return Tc()},ft=me.Event=wd,mt=me.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lh.NO_ERROR=0,lh.TIMEOUT=8,lh.HTTP_ERROR=6,gt=me.ErrorCode=lh,w_.COMPLETE="complete",ut=me.EventType=w_,Am.EventType=ah,ah.OPEN="a",ah.CLOSE="b",ah.ERROR="c",ah.MESSAGE="d",ja.prototype.listen=ja.prototype.K,He=me.WebChannel=Am,Ye=me.FetchXmlHttpFactory=Nd,ms.prototype.listenOnce=ms.prototype.L,ms.prototype.getLastError=ms.prototype.Ka,ms.prototype.getLastErrorCode=ms.prototype.Ba,ms.prototype.getStatus=ms.prototype.Z,ms.prototype.getResponseJson=ms.prototype.Oa,ms.prototype.getResponseText=ms.prototype.oa,ms.prototype.send=ms.prototype.ea,ms.prototype.setWithCredentials=ms.prototype.Ha,We=me.XhrIo=ms}).apply(typeof Ve<"u"?Ve:typeof self<"u"?self:typeof window<"u"?window:{});const Qe="@firebase/firestore";class Te{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");let $e="10.13.1";const ct=new q.Vy("@firebase/firestore");function vt(){return ct.logLevel}function Ut(l){ct.setLogLevel(l)}function ae(l,...n){if(ct.logLevel<=q.$b.DEBUG){const i=n.map(un);ct.debug(`Firestore (${$e}): ${l}`,...i)}}function Et(l,...n){if(ct.logLevel<=q.$b.ERROR){const i=n.map(un);ct.error(`Firestore (${$e}): ${l}`,...i)}}function Xt(l,...n){if(ct.logLevel<=q.$b.WARN){const i=n.map(un);ct.warn(`Firestore (${$e}): ${l}`,...i)}}function un(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Ht(l="Unexpected state"){const n=`FIRESTORE (${$e}) INTERNAL ASSERTION FAILED: `+l;throw Et(n),new Error(n)}function Ft(l,n){l||Ht()}function Qn(l,n){l||Ht()}function Ze(l,n){return l}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ce.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Se{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class he{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Be{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Te.UNAUTHENTICATED))}shutdown(){}}class Ke{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class it{constructor(n){this.t=n,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;let u=this.i;const _=ie=>this.i!==u?(u=this.i,i(ie)):Promise.resolve();let C=new Se;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Se,n.enqueueRetryable(()=>_(this.currentUser))};const N=()=>{const ie=C;n.enqueueRetryable((0,c.A)(function*(){yield ie.promise,yield _(s.currentUser)}))},B=ie=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(ie=>B(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?B(ie):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Se)}},0),N()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft("string"==typeof s.accessToken),new he(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Ft(null===n||"string"==typeof n),new Te(n)}}class nt{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vt{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new nt(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ln{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gn{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){const s=_=>{null!=_.error&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const C=_.token!==this.R;return this.R=_.token,ae("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?i(_.token):Promise.resolve()};this.o=_=>{n.enqueueRetryable(()=>s(_))};const u=_=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>u(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?u(_):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Ft("string"==typeof i.token),this.R=i.token,new Ln(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zn(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class gr{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=zn(40);for(let _=0;_<u.length;++_)s.length<20&&u[_]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[_]%62))}return s}}function Kn(l,n){return l<n?-1:l>n?1:0}function _r(l,n,i){return l.length===n.length&&l.every((s,u)=>i(s,n[u]))}function Xn(l){return l+"\0"}class Bn{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Bn.fromMillis(Date.now())}static fromDate(n){return Bn.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new Bn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Kn(this.nanoseconds,n.nanoseconds):Kn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new bn(n)}static min(){return new bn(new Bn(0,0))}static max(){return new bn(new Bn(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sn{constructor(n,i,s){void 0===i?i=0:i>n.length&&Ht(),void 0===s?s=n.length-i:s>n.length-i&&Ht(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===sn.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof sn?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const _=n.get(u),C=i.get(u);if(_<C)return-1;if(_>C)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class At extends sn{construct(n,i,s){return new At(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new At(i)}static emptyPath(){return new At([])}}const Kt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends sn{construct(n,i,s){return new vn(n,i,s)}static isValidIdentifier(n){return Kt.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vn(["__name__"])}static fromServerFormat(n){const i=[];let s="",u=0;const _=()=>{if(0===s.length)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let C=!1;for(;u<n.length;){const N=n[u];if("\\"===N){if(u+1===n.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const B=n[u+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=B,u+=2}else"`"===N?(C=!C,u++):"."!==N||C?(s+=N,u++):(_(),u++)}if(_(),C)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new vn(i)}static emptyPath(){return new vn([])}}class ln{constructor(n){this.path=n}static fromPath(n){return new ln(At.fromString(n))}static fromName(n){return new ln(At.fromString(n).popFirst(5))}static empty(){return new ln(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===At.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return At.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new ln(new At(n.slice()))}}class Br{constructor(n,i,s,u){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=u}}function Tr(l){return l.fields.find(n=>2===n.kind)}function Zn(l){return l.fields.filter(n=>2!==n.kind)}Br.UNKNOWN_ID=-1;class kr{constructor(n,i){this.fieldPath=n,this.kind=i}}class Dr{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new Dr(0,ri.min())}}function yr(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=bn.fromTimestamp(1e9===s?new Bn(i+1,0):new Bn(i,s));return new ri(u,ln.empty(),n)}function Hr(l){return new ri(l.readTime,l.key,-1)}class ri{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new ri(bn.min(),ln.empty(),-1)}static max(){return new ri(bn.max(),ln.empty(),-1)}}function Pr(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=ln.comparator(l.documentKey,n.documentKey),0!==i?i:Kn(l.largestBatchId,n.largestBatchId))}const Ii="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function br(l){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.A)(function*(l){if(l.code!==ee.FAILED_PRECONDITION||l.message!==Ii)throw l;ae("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Pt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Pt((s,u)=>{this.nextCallback=_=>{this.wrapSuccess(n,_).next(s,u)},this.catchCallback=_=>{this.wrapFailure(i,_).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Pt?i:Pt.resolve(i)}catch(i){return Pt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Pt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Pt.reject(i)}static resolve(n){return new Pt((i,s)=>{i(n)})}static reject(n){return new Pt((i,s)=>{s(n)})}static waitFor(n){return new Pt((i,s)=>{let u=0,_=0,C=!1;n.forEach(N=>{++u,N.next(()=>{++_,C&&_===u&&i()},B=>s(B))}),C=!0,_===u&&i()})}static or(n){let i=Pt.resolve(!1);for(const s of n)i=i.next(u=>u?Pt.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,_)=>{s.push(i.call(this,u,_))}),this.waitFor(s)}static mapArray(n,i){return new Pt((s,u)=>{const _=n.length,C=new Array(_);let N=0;for(let B=0;B<_;B++){const ie=B;i(n[ie]).next(Ne=>{C[ie]=Ne,++N,N===_&&s(C)},Ne=>u(Ne))}})}static doWhile(n,i){return new Pt((s,u)=>{const _=()=>{!0===n()?i().next(()=>{_()},u):s()};_()})}}class Vr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new Se,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new mi(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=we(s.target.error);this.V.reject(new mi(n,u))}}static open(n,i,s,u){try{return new Vr(i,n.transaction(u,s))}catch(_){throw new mi(i,_)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(ae("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new Mt(i)}}class mr{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===mr.S((0,ce.ZQ)())&&Et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return ae("SimpleDb","Removing database:",n),qt(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,ce.zW)())return!1;if(mr.v())return!0;const n=(0,ce.ZQ)(),i=mr.S(n),s=0<i&&i<10,u=yi(n),_=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||_)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,c.A)(function*(){return i.db||(ae("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const _=indexedDB.open(i.name,i.version);_.onsuccess=C=>{s(C.target.result)},_.onblocked=()=>{u(new mi(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=C=>{const N=C.target.error;u("VersionError"===N.name?new de(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new de(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new mi(n,N))},_.onupgradeneeded=C=>{ae("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',C.oldVersion),i.p.O(C.target.result,_.transaction,C.oldVersion,i.version).next(()=>{ae("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,u){var _=this;return(0,c.A)(function*(){const C="readonly"===i;let N=0;for(;;){++N;try{_.db=yield _.M(n);const B=Vr.open(_.db,n,C?"readonly":"readwrite",s),ie=u(B).next(Ne=>(B.g(),Ne)).catch(Ne=>(B.abort(Ne),Pt.reject(Ne))).toPromise();return ie.catch(()=>{}),yield B.m,ie}catch(B){const ie=B,Ne="FirebaseError"!==ie.name&&N<3;if(ae("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",Ne),_.close(),!Ne)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function yi(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Vi{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return qt(this.B.delete())}}class mi extends de{constructor(n,i){super(ee.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Yt(l){return"IndexedDbTransactionError"===l.name}class Mt{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(ae("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(ae("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),qt(s)}add(n){return ae("SimpleDb","ADD",this.store.name,n,n),qt(this.store.add(n))}get(n){return qt(this.store.get(n)).next(i=>(void 0===i&&(i=null),ae("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return ae("SimpleDb","DELETE",this.store.name,n),qt(this.store.delete(n))}count(){return ae("SimpleDb","COUNT",this.store.name),qt(this.store.count())}U(n,i){const s=this.options(n,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const _=u.getAll(s.range);return new Pt((C,N)=>{_.onerror=B=>{N(B.target.error)},_.onsuccess=B=>{C(B.target.result)}})}{const _=this.cursor(s),C=[];return this.W(_,(N,B)=>{C.push(B)}).next(()=>C)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new Pt((u,_)=>{s.onerror=C=>{_(C.target.error)},s.onsuccess=C=>{u(C.target.result)}})}j(n,i){ae("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const u=this.cursor(s);return this.W(u,(_,C,N)=>N.delete())}J(n,i){let s;i?s=n:(s={},i=n);const u=this.cursor(s);return this.W(u,i)}Y(n){const i=this.cursor({});return new Pt((s,u)=>{i.onerror=_=>{const C=we(_.target.error);u(C)},i.onsuccess=_=>{const C=_.target.result;C?n(C.primaryKey,C.value).next(N=>{N?C.continue():s()}):s()}})}W(n,i){const s=[];return new Pt((u,_)=>{n.onerror=C=>{_(C.target.error)},n.onsuccess=C=>{const N=C.target.result;if(!N)return void u();const B=new Vi(N),ie=i(N.primaryKey,N.value,B);if(ie instanceof Pt){const Ne=ie.catch(tt=>(B.done(),Pt.reject(tt)));s.push(Ne)}B.isDone?u():null===B.K?N.continue():N.continue(B.K)}}).next(()=>Pt.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function qt(l){return new Pt((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const u=we(s.target.error);i(u)}})}let _t=!1;function we(l){const n=mr.S((0,ce.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _t||(_t=!0,setTimeout(()=>{throw s},0)),s}}return l}class Z{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;ae("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,c.A)(function*(){i.task=null;try{ae("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Yt(s)?ae("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield br(s)}yield i.X(6e4)}))}}class x{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,c.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let u=i,_=!0;return Pt.doWhile(()=>!0===_&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(C=>{if(null!==C&&!s.has(C))return ae("IndexBackfiller",`Processing collection: ${C}`),this.ne(n,C,u).next(N=>{u-=N,s.add(C)});_=!1})).next(()=>i-u)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,s).next(_=>{const C=_.changes;return this.localStore.indexManager.updateIndexEntries(n,C).next(()=>this.re(u,_)).next(N=>(ae("IndexBackfiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(n,i,N))).next(()=>C.size)}))}re(n,i){let s=n;return i.changes.forEach((u,_)=>{const C=Hr(_);Pr(C,s)>0&&(s=C)}),new ri(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let W=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function pe(l){return null==l}function Fe(l){return 0===l&&1/l==-1/0}function Ct(l){return"number"==typeof l&&Number.isInteger(l)&&!Fe(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function zt(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=xn(n)),n=dn(l.get(i),n);return xn(n)}function dn(l,n){let i=n;const s=l.length;for(let u=0;u<s;u++){const _=l.charAt(u);switch(_){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=_}}return i}function xn(l){return l+"\x01\x01"}function An(l){const n=l.length;if(Ft(n>=2),2===n)return Ft("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),At.emptyPath();const i=n-2,s=[];let u="";for(let _=0;_<n;){const C=l.indexOf("\x01",_);switch((C<0||C>i)&&Ht(),l.charAt(C+1)){case"\x01":const N=l.substring(_,C);let B;0===u.length?B=N:(u+=N,B=u,u=""),s.push(B);break;case"\x10":u+=l.substring(_,C),u+="\0";break;case"\x11":u+=l.substring(_,C+1);break;default:Ht()}_=C+2}return new At(s)}const yn=["userId","batchId"];function Hn(l,n){return[l,zt(n)]}function wr(l,n,i){return[l,zt(n),i]}const Ai={},Ui=["prefixPath","collectionGroup","readTime","documentId"],si=["prefixPath","collectionGroup","documentId"],xi=["collectionGroup","readTime","prefixPath","documentId"],ki=["canonicalId","targetId"],Bi=["targetId","path"],qi=["path","targetId"],tn=["collectionId","parent"],fe=["indexId","uid"],le=["uid","sequenceNumber"],Je=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_e=["indexId","uid","orderedDocumentKey"],ge=["userId","collectionPath","documentId"],Ge=["userId","collectionPath","largestBatchId"],jt=["userId","collectionGroup","largestBatchId"],pn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jn=[...pn,"documentOverlays"],ye=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],je=ye,bt=[...je,"indexConfiguration","indexState","indexEntries"],X=bt,be=[...bt,"globals"];class ve extends rr{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Xe(l,n){const i=Ze(l);return mr.F(i._e,n)}function at(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function dt(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function rn(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class Wt{constructor(n,i){this.comparator=n,this.root=i||Rn.EMPTY}insert(n,i){return new Wt(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(n){return new Wt(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Tn(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Tn(this.root,n,this.comparator,!1)}getReverseIterator(){return new Tn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Tn(this.root,n,this.comparator,!0)}}class Tn{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let _=1;for(;!n.isEmpty();)if(_=i?s(n.key,i):1,i&&u&&(_*=-1),_<0)n=this.isReverse?n.left:n.right;else{if(0===_){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Rn{constructor(n,i,s,u,_){this.key=n,this.value=i,this.color=null!=s?s:Rn.RED,this.left=null!=u?u:Rn.EMPTY,this.right=null!=_?_:Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,_){return new Rn(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const _=s(n,u.key);return u=_<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===_?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Rn.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const n=this.left.check();if(n!==this.right.check())throw Ht();return n+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1,Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(n,i,s,u,_){return this}insert(n,i,s){return new Rn(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(n){this.comparator=n,this.data=new Wt(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new lr(this.data.getIterator())}getIteratorFrom(n){return new lr(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof kn)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,_=s.getNext().key;if(0!==this.comparator(u,_))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new kn(this.comparator);return i.data=n,i}}class lr{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cr(l){return l.hasNext()?l.getNext():void 0}class nr{constructor(n){this.fields=n,n.sort(vn.comparator)}static empty(){return new nr([])}unionWith(n){let i=new kn(vn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new nr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return _r(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class ai extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Nr(){return typeof atob<"u"}class Ir{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new ai("Invalid base64 string: "+_):_}}(n);return new Ir(i)}static fromUint8Array(n){const i=function(u){let _="";for(let C=0;C<u.length;++C)_+=String.fromCharCode(u[C]);return _}(n);return new Ir(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Kn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const Qi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(l){if(Ft(!!l),"string"==typeof l){let n=0;const i=Qi.exec(l);if(Ft(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Ci(l.seconds),nanos:Ci(l.nanos)}}function Ci(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function oo(l){return"string"==typeof l?Ir.fromBase64String(l):Ir.fromUint8Array(l)}function co(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function xo(l){const n=l.mapValue.fields.__previous_value__;return co(n)?xo(n):n}function vo(l){const n=Ni(l.mapValue.fields.__local_write_time__.timestampValue);return new Bn(n.seconds,n.nanos)}class _s{constructor(n,i,s,u,_,C,N,B,ie){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=_,this.forceLongPolling=C,this.autoDetectLongPolling=N,this.longPollingOptions=B,this.useFetchStreams=ie}}class ho{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new ho("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof ho&&n.projectId===this.projectId&&n.database===this.database}}const jr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Do={nullValue:"NULL_VALUE"};function Vo(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?co(l)?4:On(l)?9007199254740991:wt(l)?10:11:Ht()}function wo(l,n){if(l===n)return!0;const i=Vo(l);if(i!==Vo(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return vo(l).isEqual(vo(n));case 3:return function(u,_){if("string"==typeof u.timestampValue&&"string"==typeof _.timestampValue&&u.timestampValue.length===_.timestampValue.length)return u.timestampValue===_.timestampValue;const C=Ni(u.timestampValue),N=Ni(_.timestampValue);return C.seconds===N.seconds&&C.nanos===N.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return _=n,oo(l.bytesValue).isEqual(oo(_.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,_){return Ci(u.geoPointValue.latitude)===Ci(_.geoPointValue.latitude)&&Ci(u.geoPointValue.longitude)===Ci(_.geoPointValue.longitude)}(l,n);case 2:return function(u,_){if("integerValue"in u&&"integerValue"in _)return Ci(u.integerValue)===Ci(_.integerValue);if("doubleValue"in u&&"doubleValue"in _){const C=Ci(u.doubleValue),N=Ci(_.doubleValue);return C===N?Fe(C)===Fe(N):isNaN(C)&&isNaN(N)}return!1}(l,n);case 9:return _r(l.arrayValue.values||[],n.arrayValue.values||[],wo);case 10:case 11:return function(u,_){const C=u.mapValue.fields||{},N=_.mapValue.fields||{};if(at(C)!==at(N))return!1;for(const B in C)if(C.hasOwnProperty(B)&&(void 0===N[B]||!wo(C[B],N[B])))return!1;return!0}(l,n);default:return Ht()}var _}function ao(l,n){return void 0!==(l.values||[]).find(i=>wo(i,n))}function O(l,n){if(l===n)return 0;const i=Vo(l),s=Vo(n);if(i!==s)return Kn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kn(l.booleanValue,n.booleanValue);case 2:return function(_,C){const N=Ci(_.integerValue||_.doubleValue),B=Ci(C.integerValue||C.doubleValue);return N<B?-1:N>B?1:N===B?0:isNaN(N)?isNaN(B)?0:-1:1}(l,n);case 3:return re(l.timestampValue,n.timestampValue);case 4:return re(vo(l),vo(n));case 5:return Kn(l.stringValue,n.stringValue);case 6:return function(_,C){const N=oo(_),B=oo(C);return N.compareTo(B)}(l.bytesValue,n.bytesValue);case 7:return function(_,C){const N=_.split("/"),B=C.split("/");for(let ie=0;ie<N.length&&ie<B.length;ie++){const Ne=Kn(N[ie],B[ie]);if(0!==Ne)return Ne}return Kn(N.length,B.length)}(l.referenceValue,n.referenceValue);case 8:return function(_,C){const N=Kn(Ci(_.latitude),Ci(C.latitude));return 0!==N?N:Kn(Ci(_.longitude),Ci(C.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return Oe(l.arrayValue,n.arrayValue);case 10:return function(_,C){var N,B,ie,Ne;const an=null===(N=(_.fields||{}).value)||void 0===N?void 0:N.arrayValue,Fn=null===(B=(C.fields||{}).value)||void 0===B?void 0:B.arrayValue,Jn=Kn((null===(ie=null==an?void 0:an.values)||void 0===ie?void 0:ie.length)||0,(null===(Ne=null==Fn?void 0:Fn.values)||void 0===Ne?void 0:Ne.length)||0);return 0!==Jn?Jn:Oe(an,Fn)}(l.mapValue,n.mapValue);case 11:return function(_,C){if(_===jr.mapValue&&C===jr.mapValue)return 0;if(_===jr.mapValue)return 1;if(C===jr.mapValue)return-1;const N=_.fields||{},B=Object.keys(N),ie=C.fields||{},Ne=Object.keys(ie);B.sort(),Ne.sort();for(let tt=0;tt<B.length&&tt<Ne.length;++tt){const Rt=Kn(B[tt],Ne[tt]);if(0!==Rt)return Rt;const an=O(N[B[tt]],ie[Ne[tt]]);if(0!==an)return an}return Kn(B.length,Ne.length)}(l.mapValue,n.mapValue);default:throw Ht()}}function re(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return Kn(l,n);const i=Ni(l),s=Ni(n),u=Kn(i.seconds,s.seconds);return 0!==u?u:Kn(i.nanos,s.nanos)}function Oe(l,n){const i=l.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const _=O(i[u],s[u]);if(_)return _}return Kn(i.length,s.length)}function F(l){return Ue(l)}function Ue(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=Ni(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?oo(l.bytesValue).toBase64():"referenceValue"in l?ln.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const _ of i.values||[])u?u=!1:s+=",",s+=Ue(_);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",_=!0;for(const C of s)_?_=!1:u+=",",u+=`${C}:${Ue(i.fields[C])}`;return u+"}"}(l.mapValue):Ht()}function ei(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function J(l){return!!l&&"integerValue"in l}function Ae(l){return!!l&&"arrayValue"in l}function st(l){return!!l&&"nullValue"in l}function ht(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Nt(l){return!!l&&"mapValue"in l}function wt(l){var n,i;return"__vector__"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function En(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return dt(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=En(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=En(l.arrayValue.values[i]);return n}return Object.assign({},l)}function On(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const In={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Nn(l){return"nullValue"in l?Do:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?ei(ho.empty(),ln.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?wt(l)?In:{mapValue:{}}:Ht()}function Vn(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?ei(ho.empty(),ln.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?In:"mapValue"in l?wt(l)?{mapValue:{}}:jr:Ht()}function sr(l,n){const i=O(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function fr(l,n){const i=O(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class ur{constructor(n){this.value=n}static empty(){return new ur({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!Nt(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=En(i)}setAll(n){let i=vn.emptyPath(),s={},u=[];n.forEach((C,N)=>{if(!i.isImmediateParentOf(N)){const B=this.getFieldsMap(i);this.applyChanges(B,s,u),s={},u=[],i=N.popLast()}C?s[N.lastSegment()]=En(C):u.push(N.lastSegment())});const _=this.getFieldsMap(i);this.applyChanges(_,s,u)}delete(n){const i=this.field(n.popLast());Nt(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return wo(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];Nt(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){dt(i,(u,_)=>n[u]=_);for(const u of s)delete n[u]}clone(){return new ur(En(this.value))}}function hi(l){const n=[];return dt(l.fields,(i,s)=>{const u=new vn([i]);if(Nt(s)){const _=hi(s.mapValue).fields;if(0===_.length)n.push(u);else for(const C of _)n.push(u.child(C))}else n.push(u)}),new nr(n)}class Or{constructor(n,i,s,u,_,C,N){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=_,this.data=C,this.documentState=N}static newInvalidDocument(n){return new Or(n,0,bn.min(),bn.min(),bn.min(),ur.empty(),0)}static newFoundDocument(n,i,s,u){return new Or(n,1,i,bn.min(),s,u,0)}static newNoDocument(n,i){return new Or(n,2,i,bn.min(),bn.min(),ur.empty(),0)}static newUnknownDocument(n,i){return new Or(n,3,i,bn.min(),bn.min(),ur.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Or&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qr{constructor(n,i){this.position=n,this.inclusive=i}}function Ti(l,n,i){let s=0;for(let u=0;u<l.position.length;u++){const _=n[u],C=l.position[u];if(s=_.field.isKeyField()?ln.comparator(ln.fromName(C.referenceValue),i.key):O(C,i.data.field(_.field)),"desc"===_.dir&&(s*=-1),0!==s)break}return s}function hr(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!wo(l.position[i],n.position[i]))return!1;return!0}class Jo{constructor(n,i="asc"){this.field=n,this.dir=i}}function fo(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class ar{}class pr extends ar{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new ra(n,i,s):"array-contains"===i?new yo(n,s):"in"===i?new ba(n,s):"not-in"===i?new ia(n,s):"array-contains-any"===i?new bi(n,s):new pr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Pl(n,s):new us(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(O(i,this.value)):null!==i&&Vo(this.value)===Vo(i)&&this.matchesComparison(O(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends ar{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new li(n,i)}matches(n){return Ns(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ns(l){return"and"===l.op}function ls(l){return"or"===l.op}function Wa(l){return _o(l)&&Ns(l)}function _o(l){for(const n of l.filters)if(n instanceof li)return!1;return!0}function no(l){if(l instanceof pr)return l.field.canonicalString()+l.op.toString()+F(l.value);if(Wa(l))return l.filters.map(n=>no(n)).join(",");{const n=l.filters.map(i=>no(i)).join(",");return`${l.op}(${n})`}}function So(l,n){return l instanceof pr?(s=l,(u=n)instanceof pr&&s.op===u.op&&s.field.isEqual(u.field)&&wo(s.value,u.value)):l instanceof li?function(s,u){return u instanceof li&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((_,C,N)=>_&&So(C,u.filters[N]),!0)}(l,n):void Ht();var s,u}function Zo(l,n){const i=l.filters.concat(n);return li.create(i,l.op)}function ys(l){return l instanceof pr?`${(i=l).field.canonicalString()} ${i.op} ${F(i.value)}`:l instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(ys).join(" ,")+"}"}(l):"Filter";var i}class ra extends pr{constructor(n,i,s){super(n,i,s),this.key=ln.fromName(s.referenceValue)}matches(n){const i=ln.comparator(n.key,this.key);return this.matchesComparison(i)}}class Pl extends pr{constructor(n,i){super(n,"in",i),this.keys=Es(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class us extends pr{constructor(n,i){super(n,"not-in",i),this.keys=Es(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function Es(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>ln.fromName(s.referenceValue))}class yo extends pr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Ae(i)&&ao(i.arrayValue,this.value)}}class ba extends pr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&ao(this.value.arrayValue,i)}}class ia extends pr{constructor(n,i){super(n,"not-in",i)}matches(n){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!ao(this.value.arrayValue,i)}}class bi extends pr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Ae(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ao(this.value.arrayValue,s))}}class Da{constructor(n,i=null,s=[],u=[],_=null,C=null,N=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=_,this.startAt=C,this.endAt=N,this.ue=null}}function Di(l,n=null,i=[],s=[],u=null,_=null,C=null){return new Da(l,n,i,s,u,_,C)}function Ro(l){const n=Ze(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>no(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(_=s).field.canonicalString()+_.dir;var _}).join(","),pe(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>F(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>F(s)).join(",")),n.ue=i}return n.ue}function Ss(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!fo(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!So(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!hr(l.startAt,n.startAt)&&hr(l.endAt,n.endAt)}function wa(l){return ln.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function es(l,n){return l.filters.filter(i=>i instanceof pr&&i.field.isEqual(n))}function Wr(l,n,i){let s=Do,u=!0;for(const _ of es(l,n)){let C=Do,N=!0;switch(_.op){case"<":case"<=":C=Nn(_.value);break;case"==":case"in":case">=":C=_.value;break;case">":C=_.value,N=!1;break;case"!=":case"not-in":C=Do}sr({value:s,inclusive:u},{value:C,inclusive:N})<0&&(s=C,u=N)}if(null!==i)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(n)){const C=i.position[_];sr({value:s,inclusive:u},{value:C,inclusive:i.inclusive})<0&&(s=C,u=i.inclusive);break}return{value:s,inclusive:u}}function Is(l,n,i){let s=jr,u=!0;for(const _ of es(l,n)){let C=jr,N=!0;switch(_.op){case">=":case">":C=Vn(_.value),N=!1;break;case"==":case"in":case"<=":C=_.value;break;case"<":C=_.value,N=!1;break;case"!=":case"not-in":C=jr}fr({value:s,inclusive:u},{value:C,inclusive:N})>0&&(s=C,u=N)}if(null!==i)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(n)){const C=i.position[_];fr({value:s,inclusive:u},{value:C,inclusive:i.inclusive})>0&&(s=C,u=i.inclusive);break}return{value:s,inclusive:u}}class Yi{constructor(n,i=null,s=[],u=[],_=null,C="F",N=null,B=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=_,this.limitType=C,this.startAt=N,this.endAt=B,this.ce=null,this.le=null,this.he=null}}function Sa(l,n,i,s,u,_,C,N){return new Yi(l,n,i,s,u,_,C,N)}function Cs(l){return new Yi(l)}function wi(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Po(l){return null!==l.collectionGroup}function oa(l){const n=Ze(l);if(null===n.ce){n.ce=[];const i=new Set;for(const _ of n.explicitOrderBy)n.ce.push(_),i.add(_.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(C){let N=new kn(vn.comparator);return C.filters.forEach(B=>{B.getFlattenedFilters().forEach(ie=>{ie.isInequality()&&(N=N.add(ie.field))})}),N})(n).forEach(_=>{i.has(_.canonicalString())||_.isKeyField()||n.ce.push(new Jo(_,s))}),i.has(vn.keyField().canonicalString())||n.ce.push(new Jo(vn.keyField(),s))}return n.ce}function Ho(l){const n=Ze(l);return n.le||(n.le=function jl(l,n){if("F"===l.limitType)return Di(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>new Jo(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new qr(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new qr(l.startAt.position,l.startAt.inclusive):null;return Di(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,oa(l))),n.le}function Ko(l,n){const i=l.filters.concat([n]);return new Yi(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function Y(l,n,i){return new Yi(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function L(l,n){return Ss(Ho(l),Ho(n))&&l.limitType===n.limitType}function Ee(l){return`${Ro(Ho(l))}|lt:${l.limitType}`}function z(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>ys(u)).join(", ")}]`),pe(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(C=u).field.canonicalString()} (${C.dir})`;var C}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>F(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>F(u)).join(",")),`Target(${s})`}(Ho(l))}; limitType=${l.limitType})`}function Ie(l,n){return n.isFoundDocument()&&function(s,u){const _=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(_):ln.isDocumentKey(s.path)?s.path.isEqual(_):s.path.isImmediateParentOf(_)}(l,n)&&function(s,u){for(const _ of oa(s))if(!_.field.isKeyField()&&null===u.data.field(_.field))return!1;return!0}(l,n)&&function(s,u){for(const _ of s.filters)if(!_.matches(u))return!1;return!0}(l,n)&&(u=n,!((s=l).startAt&&!function(C,N,B){const ie=Ti(C,N,B);return C.inclusive?ie<=0:ie<0}(s.startAt,oa(s),u)||s.endAt&&!function(C,N,B){const ie=Ti(C,N,B);return C.inclusive?ie>=0:ie>0}(s.endAt,oa(s),u)));var s,u}function Dn(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Er(l){return(n,i)=>{let s=!1;for(const u of oa(l)){const _=Si(u,n,i);if(0!==_)return _;s=s||u.field.isKeyField()}return 0}}function Si(l,n,i){const s=l.field.isKeyField()?ln.comparator(n.key,i.key):function(_,C,N){const B=C.data.field(_),ie=N.data.field(_);return null!==B&&null!==ie?O(B,ie):Ht()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Ht()}}class to{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,_]of s)if(this.equalsFn(u,n))return _}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let _=0;_<u.length;_++)if(this.equalsFn(u[_][0],n))return void(u[_]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){dt(this.inner,(i,s)=>{for(const[u,_]of s)n(u,_)})}isEmpty(){return rn(this.inner)}size(){return this.innerSize}}const Mo=new Wt(ln.comparator);function Ur(){return Mo}const Ga=new Wt(ln.comparator);function ts(...l){let n=Ga;for(const i of l)n=n.insert(i.key,i);return n}function As(l){let n=Ga;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function Uo(){return sa()}function ll(){return sa()}function sa(){return new to(l=>l.toString(),(l,n)=>l.isEqual(n))}const ns=new Wt(ln.comparator),aa=new kn(ln.comparator);function ti(...l){let n=aa;for(const i of l)n=n.add(i);return n}const Zi=new kn(Kn);function Wo(){return Zi}function Lr(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fe(n)?"-0":n}}function Os(l){return{integerValue:""+l}}function Ml(l,n){return Ct(n)?Os(n):Lr(l,n)}class la{constructor(){this._=void 0}}function ua(l,n,i){return l instanceof Ka?function(u,_){const C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return _&&co(_)&&(_=xo(_)),_&&(C.fields.__previous_value__=_),{mapValue:C}}(i,n):l instanceof Ts?Hl(l,n):l instanceof ca?Ra(l,n):function(u,_){const C=xs(u,_),N=Xa(C)+Xa(u.Pe);return J(C)&&J(u.Pe)?Os(N):Lr(u.serializer,N)}(l,n)}function zl(l,n,i){return l instanceof Ts?Hl(l,n):l instanceof ca?Ra(l,n):i}function xs(l,n){return l instanceof ks?J(s=n)||(_=s)&&"doubleValue"in _?n:{integerValue:0}:null;var s,_}class Ka extends la{}class Ts extends la{constructor(n){super(),this.elements=n}}function Hl(l,n){const i=Wl(n);for(const s of l.elements)i.some(u=>wo(u,s))||i.push(s);return{arrayValue:{values:i}}}class ca extends la{constructor(n){super(),this.elements=n}}function Ra(l,n){let i=Wl(n);for(const s of l.elements)i=i.filter(u=>!wo(u,s));return{arrayValue:{values:i}}}class ks extends la{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function Xa(l){return Ci(l.integerValue||l.doubleValue)}function Wl(l){return Ae(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Ks{constructor(n,i){this.field=n,this.transform=i}}class qa{constructor(n,i){this.version=n,this.transformResults=i}}class ro{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new ro}static exists(n){return new ro(void 0,n)}static updateTime(n){return new ro(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Gr(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class Oi{}function mu(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new Ls(l.key,ro.none()):new rs(l.key,l.data,ro.none());{const i=l.data,s=ur.empty();let u=new kn(vn.comparator);for(let _ of n.fields)if(!u.has(_)){let C=i.field(_);null===C&&_.length>1&&(_=_.popLast(),C=i.field(_)),null===C?s.delete(_):s.set(_,C),u=u.add(_)}return new Cn(l.key,s,new nr(u.toArray()),ro.none())}}function ul(l,n,i){l instanceof rs?function(u,_,C){const N=u.value.clone(),B=Jr(u.fieldTransforms,_,C.transformResults);N.setAll(B),_.convertToFoundDocument(C.version,N).setHasCommittedMutations()}(l,n,i):l instanceof Cn?function(u,_,C){if(!Gr(u.precondition,_))return void _.convertToUnknownDocument(C.version);const N=Jr(u.fieldTransforms,_,C.transformResults),B=_.data;B.setAll(Mr(u)),B.setAll(N),_.convertToFoundDocument(C.version,B).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Pa(l,n,i,s){return l instanceof rs?function(_,C,N,B){if(!Gr(_.precondition,C))return N;const ie=_.value.clone(),Ne=fi(_.fieldTransforms,B,C);return ie.setAll(Ne),C.convertToFoundDocument(C.version,ie).setHasLocalMutations(),null}(l,n,i,s):l instanceof Cn?function(_,C,N,B){if(!Gr(_.precondition,C))return N;const ie=fi(_.fieldTransforms,B,C),Ne=C.data;return Ne.setAll(Mr(_)),Ne.setAll(ie),C.convertToFoundDocument(C.version,Ne).setHasLocalMutations(),null===N?null:N.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(tt=>tt.field))}(l,n,i,s):(N=i,Gr(l.precondition,C=n)?(C.convertToNoDocument(C.version).setHasLocalMutations(),null):N);var C,N}function ju(l,n){let i=null;for(const s of l.fieldTransforms){const u=n.data.field(s.field),_=xs(s.transform,u||null);null!=_&&(null===i&&(i=ur.empty()),i.set(s.field,_))}return i||null}function Ma(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&_r(s,u,(_,C)=>function Xs(l,n){return l.field.isEqual(n.field)&&(u=n.transform,(s=l.transform)instanceof Ts&&u instanceof Ts||s instanceof ca&&u instanceof ca?_r(s.elements,u.elements,wo):s instanceof ks&&u instanceof ks?wo(s.Pe,u.Pe):s instanceof Ka&&u instanceof Ka);var s,u}(_,C))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,u}class rs extends Oi{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Cn extends Oi{constructor(n,i,s,u,_=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Mr(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function Jr(l,n,i){const s=new Map;Ft(l.length===i.length);for(let u=0;u<i.length;u++){const _=l[u],C=_.transform,N=n.data.field(_.field);s.set(_.field,zl(C,N,i[u]))}return s}function fi(l,n,i){const s=new Map;for(const u of l){const _=u.transform,C=i.data.field(u.field);s.set(u.field,ua(_,C,n))}return s}class Ls extends Oi{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vu extends Oi{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class w{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const _=this.mutations[u];_.key.isEqual(n.key)&&ul(_,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Pa(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Pa(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=ll();return this.mutations.forEach(u=>{const _=n.get(u.key),C=_.overlayedDocument;let N=this.applyToLocalView(C,_.mutatedFields);N=i.has(u.key)?null:N;const B=mu(C,N);null!==B&&s.set(u.key,B),C.isValidDocument()||C.convertToNoDocument(bn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),ti())}isEqual(n){return this.batchId===n.batchId&&_r(this.mutations,n.mutations,(i,s)=>Ma(i,s))&&_r(this.baseMutations,n.baseMutations,(i,s)=>Ma(i,s))}}class Q{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Ft(n.mutations.length===s.length);let u=function(){return ns}();const _=n.mutations;for(let C=0;C<_.length;C++)u=u.insert(_[C].key,s[C].version);return new Q(n,i,s,u)}}class qe{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Me{constructor(n,i){this.count=n,this.unchangedNames=i}}var rt,Jt;function qn(l){switch(l){default:return Ht();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function Qr(l){if(void 0===l)return Et("GRPC error has no .code"),ee.UNKNOWN;switch(l){case rt.OK:return ee.OK;case rt.CANCELLED:return ee.CANCELLED;case rt.UNKNOWN:return ee.UNKNOWN;case rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case rt.INTERNAL:return ee.INTERNAL;case rt.UNAVAILABLE:return ee.UNAVAILABLE;case rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case rt.NOT_FOUND:return ee.NOT_FOUND;case rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case rt.ABORTED:return ee.ABORTED;case rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case rt.DATA_LOSS:return ee.DATA_LOSS;default:return Ht()}}(Jt=rt||(rt={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";function gi(){return new TextEncoder}const ni=new Re([4294967295,4294967295],0);function oi(l){const n=gi().encode(l),i=new ot;return i.update(n),new Uint8Array(i.digest())}function zi(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),_=n.getUint32(12,!0);return[new Re([i,s],0),new Re([u,_],0)]}class dr{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ko(`Invalid padding: ${i}`);if(s<0)throw new ko(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new ko(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new ko(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=Re.fromNumber(this.Ie)}Ee(n,i,s){let u=n.add(i.multiply(Re.fromNumber(s)));return 1===u.compare(ni)&&(u=new Re([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=oi(n),[s,u]=zi(i);for(let _=0;_<this.hashCount;_++){const C=this.Ee(s,u,_);if(!this.de(C))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,_=new Uint8Array(Math.ceil(n/8)),C=new dr(_,u,i);return s.forEach(N=>C.insert(N)),C}insert(n){if(0===this.Ie)return;const i=oi(n),[s,u]=zi(i);for(let _=0;_<this.hashCount;_++){const C=this.Ee(s,u,_);this.Ae(C)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ji{constructor(n,i,s,u,_){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,Xo.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new ji(bn.min(),u,new Wt(Kn),Ur(),ti())}}class Xo{constructor(n,i,s,u,_){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new Xo(s,i,ti(),ti(),ti())}}class Fs{constructor(n,i,s,u){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=u}}class Vs{constructor(n,i){this.targetId=n,this.me=i}}class da{constructor(n,i,s=Ir.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class cl{constructor(){this.fe=0,this.ge=Gl(),this.pe=Ir.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=ti(),i=ti(),s=ti();return this.ge.forEach((u,_)=>{switch(_){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Ht()}}),new Xo(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=Gl()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qa{constructor(n){this.Le=n,this.Be=new Map,this.ke=Ur(),this.qe=uc(),this.Qe=new Wt(Kn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:Ht()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,s=n.me.count,u=this.Je(i);if(u){const _=u.target;if(wa(_))if(0===s){const C=new ln(_.path);this.Ue(i,C,Or.newNoDocument(C,bn.min()))}else Ft(1===s);else{const C=this.Ye(i);if(C!==s){const N=this.Ze(n),B=N?this.Xe(N,n,C):1;0!==B&&(this.je(i),this.Qe=this.Qe.insert(i,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:_=0}=i;let C,N;try{C=oo(s).toUint8Array()}catch(B){if(B instanceof ai)return Xt("Decoding the base64 bloom filter in existence filter failed ("+B.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw B}try{N=new dr(C,u,_)}catch(B){return Xt(B instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",B),null}return 0===N.Ie?null:N}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(_=>{const C=this.Le.tt(),N=`projects/${C.projectId}/databases/${C.database}/documents/${_.path.canonicalString()}`;n.mightContain(N)||(this.Ue(i,_,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((_,C)=>{const N=this.Je(C);if(N){if(_.current&&wa(N.target)){const B=new ln(N.target.path);null!==this.ke.get(B)||this.it(C,B)||this.Ue(C,B,Or.newNoDocument(B,n))}_.be&&(i.set(C,_.ve()),_.Ce())}});let s=ti();this.qe.forEach((_,C)=>{let N=!0;C.forEachWhile(B=>{const ie=this.Je(B);return!ie||"TargetPurposeLimboResolution"===ie.purpose||(N=!1,!1)}),N&&(s=s.add(_))}),this.ke.forEach((_,C)=>C.setReadTime(n));const u=new ji(n,i,this.Qe,this.ke,s);return this.ke=Ur(),this.qe=uc(),this.Qe=new Wt(Kn),u}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new cl,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new kn(Kn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||ae("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new cl),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function uc(){return new Wt(ln.comparator)}function Gl(){return new Wt(ln.comparator)}const zu={asc:"ASCENDING",desc:"DESCENDING"},Na={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_u={and:"AND",or:"OR"};class bs{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function qs(l,n){return l.useProto3Json||pe(n)?n:{value:n}}function is(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Hu(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function Wu(l,n){return is(l,n.toTimestamp())}function Lo(l){return Ft(!!l),bn.fromTimestamp(function(i){const s=Ni(i);return new Bn(s.seconds,s.nanos)}(l))}function yu(l,n){return Kl(l,n).canonicalString()}function Kl(l,n){const i=(u=l,new At(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function Mc(l){const n=At.fromString(l);return Ft(Oc(n)),n}function Io(l,n){return yu(l.databaseId,n.path)}function Us(l,n){const i=Mc(n);if(i.get(1)!==l.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new ln(qo(i))}function Hi(l,n){return yu(l.databaseId,n)}function ud(l){const n=Mc(l);return 4===n.length?At.emptyPath():qo(n)}function dl(l){return new At(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function qo(l){return Ft(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Ri(l,n,i){return{name:Io(l,n),fields:i.value.mapValue.fields}}function Rs(l,n,i){const s=Us(l,n.name),u=Lo(n.updateTime),_=n.createTime?Lo(n.createTime):bn.min(),C=new ur({mapValue:{fields:n.fields}}),N=Or.newFoundDocument(s,u,_,C);return i&&N.setHasCommittedMutations(),i?N.setHasCommittedMutations():N}function hl(l,n){let i;if(n instanceof rs)i={update:Ri(l,n.key,n.value)};else if(n instanceof Ls)i={delete:Io(l,n.key)};else if(n instanceof Cn)i={update:Ri(l,n.key,n.data),updateMask:cs(n.fieldMask)};else{if(!(n instanceof vu))return Ht();i={verify:Io(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(_,C){const N=C.transform;if(N instanceof Ka)return{fieldPath:C.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(N instanceof Ts)return{fieldPath:C.field.canonicalString(),appendMissingElements:{values:N.elements}};if(N instanceof ca)return{fieldPath:C.field.canonicalString(),removeAllFromArray:{values:N.elements}};if(N instanceof ks)return{fieldPath:C.field.canonicalString(),increment:N.Pe};throw Ht()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(_=n.precondition).updateTime?{updateTime:Wu(l,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Ht()),i;var _}function Ya(l,n){const i=n.currentDocument?void 0!==(_=n.currentDocument).updateTime?ro.updateTime(Lo(_.updateTime)):void 0!==_.exists?ro.exists(_.exists):ro.none():ro.none(),s=n.updateTransforms?n.updateTransforms.map(u=>function(C,N){let B=null;"setToServerValue"in N?(Ft("REQUEST_TIME"===N.setToServerValue),B=new Ka):"appendMissingElements"in N?B=new Ts(N.appendMissingElements.values||[]):"removeAllFromArray"in N?B=new ca(N.removeAllFromArray.values||[]):"increment"in N?B=new ks(C,N.increment):Ht();const ie=vn.fromServerFormat(N.fieldPath);return new Ks(ie,B)}(l,u)):[];var _;if(n.update){const u=Us(l,n.update.name),_=new ur({mapValue:{fields:n.update.fields}});if(n.updateMask){const C=new nr((n.updateMask.fieldPaths||[]).map(Ne=>vn.fromServerFormat(Ne)));return new Cn(u,_,C,i,s)}return new rs(u,_,i,s)}if(n.delete){const u=Us(l,n.delete);return new Ls(u,i)}if(n.verify){const u=Us(l,n.verify);return new vu(u,i)}return Ht()}function $s(l,n){return{documents:[Hi(l,n.path)]}}function Ps(l,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Hi(l,u);const _=function(ie){if(0!==ie.length)return kd(li.create(ie,"and"))}(n.filters);_&&(i.structuredQuery.where=_);const C=function(ie){if(0!==ie.length)return ie.map(Ne=>{return{field:ha((Rt=Ne).field),direction:Iu(Rt.dir)};var Rt})}(n.orderBy);C&&(i.structuredQuery.orderBy=C);const N=qs(l,n.limit);return null!==N&&(i.structuredQuery.limit=N),n.startAt&&(i.structuredQuery.startAt={before:(ie=n.startAt).inclusive,values:ie.position}),n.endAt&&(i.structuredQuery.endAt=function(ie){return{before:!ie.inclusive,values:ie.position}}(n.endAt)),{_t:i,parent:u};var ie}function Eu(l){let n=ud(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ft(1===s);const Ne=i.from[0];Ne.allDescendants?u=Ne.collectionId:n=n.child(Ne.collectionId)}let _=[];i.where&&(_=function(tt){const Rt=pl(tt);return Rt instanceof li&&Wa(Rt)?Rt.getFilters():[Rt]}(i.where));let C=[];i.orderBy&&(C=i.orderBy.map(Rt=>{return new Jo(gl((Fn=Rt).field),function(Yn){switch(Yn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Fn.direction));var Fn}));let N=null;i.limit&&(N=function(tt){let Rt;return Rt="object"==typeof tt?tt.value:tt,pe(Rt)?null:Rt}(i.limit));let B=null;var tt;i.startAt&&(B=new qr((tt=i.startAt).values||[],!!tt.before));let ie=null;return i.endAt&&(ie=function(tt){return new qr(tt.values||[],!tt.before)}(i.endAt)),Sa(n,u,C,_,N,"F",B,ie)}function pl(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gl(i.unaryFilter.field);return pr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=gl(i.unaryFilter.field);return pr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=gl(i.unaryFilter.field);return pr.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const C=gl(i.unaryFilter.field);return pr.create(C,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}(l):void 0!==l.fieldFilter?pr.create(gl((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return li.create(i.compositeFilter.filters.map(s=>pl(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Ht()}}(i.compositeFilter.op))}(l):Ht();var i}function Iu(l){return zu[l]}function Xl(l){return Na[l]}function Nc(l){return _u[l]}function ha(l){return{fieldPath:l.canonicalString()}}function gl(l){return vn.fromServerFormat(l.fieldPath)}function kd(l){return l instanceof pr?function(i){if("=="===i.op){if(ht(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NAN"}};if(st(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(ht(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NAN"}};if(st(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(i.field),op:Xl(i.op),value:i.value}}}(l):l instanceof li?function(i){const s=i.getFilters().map(u=>kd(u));return 1===s.length?s[0]:{compositeFilter:{op:Nc(i.op),filters:s}}}(l):Ht()}function cs(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Oc(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Oa{constructor(n,i,s,u,_=bn.min(),C=bn.min(),N=Ir.EMPTY_BYTE_STRING,B=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=N,this.expectedCount=B}withSequenceNumber(n){return new Oa(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class T{constructor(n){this.ct=n}}function V(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:S(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:Io(_=l.ct,(C=n).key),fields:C.data.value.mapValue.fields,updateTime:is(_,C.version.toTimestamp()),createTime:is(_,C.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:$(n.version)};else{if(!n.isUnknownDocument())return Ht();s.unknownDocument={path:i.path.toArray(),version:$(n.version)}}var _,C;return s}function S(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function $(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function De(l){const n=new Bn(l.seconds,l.nanoseconds);return bn.fromTimestamp(n)}function xe(l,n){const i=(n.baseMutations||[]).map(_=>Ya(l.ct,_));for(let _=0;_<n.mutations.length-1;++_)_+1<n.mutations.length&&void 0!==n.mutations[_+1].transform&&(n.mutations[_].updateTransforms=n.mutations[_+1].transform.fieldTransforms,n.mutations.splice(_+1,1),++_);const s=n.mutations.map(_=>Ya(l.ct,_)),u=Bn.fromMillis(n.localWriteTimeMs);return new w(n.batchId,u,i,s)}function Gt(l){const n=De(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?De(l.lastLimboFreeSnapshotVersion):bn.min();let s;return s=void 0!==l.query.documents?(Ft(1===(_=l.query).documents.length),Ho(Cs(ud(_.documents[0])))):function(_){return Ho(Eu(_))}(l.query),new Oa(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,Ir.fromBase64String(l.resumeToken));var _}function Mn(l,n){const i=$(n.snapshotVersion),s=$(n.lastLimboFreeSnapshotVersion);let u;u=wa(n.target)?$s(l.ct,n.target):Ps(l.ct,n.target)._t;const _=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:Ro(n.target),readTime:i,resumeToken:_,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Zt(l){const n=Eu({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Y(n,n.limit,"L"):n}function or(l,n){return new qe(n.largestBatchId,Ya(l.ct,n.overlayMutation))}function Kr(l,n){const i=n.path.lastSegment();return[l,zt(n.path.popLast()),i]}function Pi(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:$(s.readTime),documentKey:zt(s.documentKey.path),largestBatchId:s.largestBatchId}}class ui{getBundleMetadata(n,i){return po(n).get(i).next(s=>{if(s)return{id:(_=s).bundleId,createTime:De(_.createTime),version:_.version};var _})}saveBundleMetadata(n,i){return po(n).put({bundleId:(u=i).id,createTime:$(Lo(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return Yr(n).get(i).next(s=>{if(s)return{name:(_=s).name,query:Zt(_.bundledQuery),readTime:De(_.readTime)};var _})}saveNamedQuery(n,i){return Yr(n).put({name:(u=i).name,readTime:$(Lo(u.readTime)),bundledQuery:u.bundledQuery});var u}}function po(l){return Xe(l,"bundles")}function Yr(l){return Xe(l,"namedQueries")}class Li{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Li(n,i.uid||"")}getOverlay(n,i){return lo(n).get(Kr(this.userId,i)).next(s=>s?or(this.serializer,s):null)}getOverlays(n,i){const s=Uo();return Pt.forEach(i,u=>this.getOverlay(n,u).next(_=>{null!==_&&s.set(u,_)})).next(()=>s)}saveOverlays(n,i,s){const u=[];return s.forEach((_,C)=>{const N=new qe(i,C);u.push(this.ht(n,N))}),Pt.waitFor(u)}removeOverlaysForBatchId(n,i,s){const u=new Set;i.forEach(C=>u.add(zt(C.getCollectionPath())));const _=[];return u.forEach(C=>{const N=IDBKeyRange.bound([this.userId,C,s],[this.userId,C,s+1],!1,!0);_.push(lo(n).j("collectionPathOverlayIndex",N))}),Pt.waitFor(_)}getOverlaysForCollection(n,i,s){const u=Uo(),_=zt(i),C=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,Number.POSITIVE_INFINITY],!0);return lo(n).U("collectionPathOverlayIndex",C).next(N=>{for(const B of N){const ie=or(this.serializer,B);u.set(ie.getKey(),ie)}return u})}getOverlaysForCollectionGroup(n,i,s,u){const _=Uo();let C;const N=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return lo(n).J({index:"collectionGroupOverlayIndex",range:N},(B,ie,Ne)=>{const tt=or(this.serializer,ie);_.size()<u||tt.largestBatchId===C?(_.set(tt.getKey(),tt),C=tt.largestBatchId):Ne.done()}).next(()=>_)}ht(n,i){return lo(n).put(function(u,_,C){const[N,B,ie]=Kr(_,C.mutation.key);return{userId:_,collectionPath:B,documentId:ie,collectionGroup:C.mutation.key.getCollectionGroup(),largestBatchId:C.largestBatchId,overlayMutation:hl(u.ct,C.mutation)}}(this.serializer,this.userId,i))}}function lo(l){return Xe(l,"documentOverlays")}class Co{Pt(n){return Xe(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?Ir.fromUint8Array(s):Ir.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class so{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(Ci(n.integerValue));else if("doubleValue"in n){const s=Ci(n.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),Fe(s)?i.At(0):i.At(s))}else if("timestampValue"in n){let s=n.timestampValue;this.dt(i,20),"string"==typeof s&&(s=Ni(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(oo(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in n?On(n)?this.dt(i,Number.MAX_SAFE_INTEGER):wt(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Ht()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const s=n.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(n,i){var s,u;const _=n.fields||{};this.dt(i,53);const C="value",N=(null===(u=null===(s=_[C].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(Ci(N)),this.Vt(C,i),this.Tt(_[C],i)}bt(n,i){const s=n.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(n,i){this.dt(i,37),ln.fromName(n).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function ml(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function vl(l){const n=64-function(s){let u=0;for(let _=0;_<8;++_){const C=ml(255&s[_]);if(u+=C,8!==C)break}return u}(l);return Math.ceil(n/8)}so.vt=new so;class Ys{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),s=vl(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),s=vl(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(_){const C=new DataView(new ArrayBuffer(8));return C.setFloat64(0,_,!1),new Uint8Array(C.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Ja{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class xc{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class Nl{constructor(){this.jt=new Ys,this.Ht=new Ja(this.jt),this.Jt=new xc(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class xa{constructor(n,i,s,u){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new xa(this.indexId,this.documentKey,this.arrayValue,s)}}function Za(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=Ol(l.arrayValue,n.arrayValue),0!==i?i:(i=Ol(l.directionalValue,n.directionalValue),0!==i?i:ln.comparator(l.documentKey,n.documentKey)))}function Ol(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class el{constructor(n){this.Xt=new kn((i,s)=>vn.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(n){if(Ft(n.collectionGroup===this.collectionId),this.nn)return!1;const i=Tr(n);if(void 0!==i&&!this.sn(i))return!1;const s=Zn(n);let u=new Set,_=0,C=0;for(;_<s.length&&this.sn(s[_]);++_)u=u.add(s[_].fieldPath.canonicalString());if(_===s.length)return!0;if(this.Xt.size>0){const N=this.Xt.getIterator().getNext();if(!u.has(N.field.canonicalString())){const B=s[_];if(!this.on(N,B)||!this._n(this.en[C++],B))return!1}++_}for(;_<s.length;++_)if(C>=this.en.length||!this._n(this.en[C++],s[_]))return!1;return!0}an(){if(this.nn)return null;let n=new kn(vn.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new kr(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new kr(s.field,0))}for(const s of this.en)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new kr(s.field,"asc"===s.dir?0:1)));return new Br(Br.UNKNOWN_ID,this.collectionId,i,Dr.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function dd(l){var n,i;if(Ft(l instanceof pr||l instanceof li),l instanceof pr){if(l instanceof ba){const u=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(_=>pr.create(l.field,"==",_)))||[];return li.create(u,"or")}return l}const s=l.filters.map(u=>dd(u));return li.create(s,l.op)}function hd(l){if(0===l.getFilters().length)return[];const n=Au(dd(l));return Ft(Ku(n)),fd(n)||Cu(n)?[n]:n.getFilters()}function fd(l){return l instanceof pr}function Cu(l){return l instanceof li&&Wa(l)}function Ku(l){return fd(l)||Cu(l)||function(i){if(i instanceof li&&ls(i)){for(const s of i.getFilters())if(!fd(s)&&!Cu(s))return!1;return!0}return!1}(l)}function Au(l){if(Ft(l instanceof pr||l instanceof li),l instanceof pr)return l;if(1===l.filters.length)return Au(l.filters[0]);const n=l.filters.map(s=>Au(s));let i=li.create(n,l.op);return i=yl(i),Ku(i)?i:(Ft(i instanceof li),Ft(Ns(i)),Ft(i.filters.length>1),i.filters.reduce((s,u)=>_l(s,u)))}function _l(l,n){let i;return Ft(l instanceof pr||l instanceof li),Ft(n instanceof pr||n instanceof li),i=l instanceof pr?n instanceof pr?li.create([l,n],"and"):kc(l,n):n instanceof pr?kc(n,l):function(u,_){if(Ft(u.filters.length>0&&_.filters.length>0),Ns(u)&&Ns(_))return Zo(u,_.getFilters());const C=ls(u)?u:_,N=ls(u)?_:u,B=C.filters.map(ie=>_l(ie,N));return li.create(B,"or")}(l,n),yl(i)}function kc(l,n){if(Ns(n))return Zo(n,l.getFilters());{const i=n.filters.map(s=>_l(l,s));return li.create(i,"or")}}function yl(l){if(Ft(l instanceof pr||l instanceof li),l instanceof pr)return l;const n=l.getFilters();if(1===n.length)return yl(n[0]);if(_o(l))return l;const i=n.map(u=>yl(u)),s=[];return i.forEach(u=>{u instanceof pr?s.push(u):u instanceof li&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:li.create(s,l.op)}class Bs{constructor(){this.un=new Tu}addToCollectionParentIndex(n,i){return this.un.add(i),Pt.resolve()}getCollectionParents(n,i){return Pt.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return Pt.resolve()}deleteFieldIndex(n,i){return Pt.resolve()}deleteAllFieldIndexes(n){return Pt.resolve()}createTargetIndexes(n,i){return Pt.resolve()}getDocumentsMatchingTarget(n,i){return Pt.resolve(null)}getIndexType(n,i){return Pt.resolve(0)}getFieldIndexes(n,i){return Pt.resolve([])}getNextCollectionGroupToUpdate(n){return Pt.resolve(null)}getMinOffset(n,i){return Pt.resolve(ri.min())}getMinOffsetFromCollectionGroup(n,i){return Pt.resolve(ri.min())}updateCollectionGroup(n,i,s){return Pt.resolve()}updateIndexEntries(n,i){return Pt.resolve()}}class Tu{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new kn(At.comparator),_=!u.has(s);return this.index[i]=u.add(s),_}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new kn(At.comparator)).toArray()}}const ql=new Uint8Array(0);class bu{constructor(n,i){this.databaseId=i,this.cn=new Tu,this.ln=new to(s=>Ro(s),(s,u)=>Ss(s,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const _={collectionId:s,parent:zt(u)};return js(n).put(_)}return Pt.resolve()}getCollectionParents(n,i){const s=[],u=IDBKeyRange.bound([i,""],[Xn(i),""],!1,!0);return js(n).U(u).next(_=>{for(const C of _){if(C.collectionId!==i)break;s.push(An(C.parent))}return s})}addFieldIndex(n,i){const s=El(n),u={indexId:(N=i).indexId,collectionGroup:N.collectionGroup,fields:N.fields.map(B=>[B.fieldPath.canonicalString(),B.kind])};var N;delete u.indexId;const _=s.add(u);if(i.indexState){const C=Xu(n);return _.next(N=>{C.put(Pi(N,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return _.next()}deleteFieldIndex(n,i){const s=El(n),u=Xu(n),_=os(n);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=El(n),s=os(n),u=Xu(n);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(n,i){return Pt.forEach(this.hn(i),s=>this.getIndexType(n,s).next(u=>{if(0===u||1===u){const _=new el(s).an();if(null!=_)return this.addFieldIndex(n,_)}}))}getDocumentsMatchingTarget(n,i){const s=os(n);let u=!0;const _=new Map;return Pt.forEach(this.hn(i),C=>this.Pn(n,C).next(N=>{u&&(u=!!N),_.set(C,N)})).next(()=>{if(u){let C=ti();const N=[];return Pt.forEach(_,(B,ie)=>{var zr;ae("IndexedDbIndexManager",`Using index ${zr=B,`id=${zr.indexId}|cg=${zr.collectionGroup}|f=${zr.fields.map(Mi=>`${Mi.fieldPath}:${Mi.kind}`).join(",")}`} to execute ${Ro(i)}`);const Ne=function(zr,Mi){const mo=Tr(Mi);if(void 0===mo)return null;for(const Gi of es(zr,mo.fieldPath))switch(Gi.op){case"array-contains-any":return Gi.value.arrayValue.values||[];case"array-contains":return[Gi.value]}return null}(ie,B),tt=function(zr,Mi){const mo=new Map;for(const Gi of Zn(Mi))for(const Qt of es(zr,Gi.fieldPath))switch(Qt.op){case"==":case"in":mo.set(Gi.fieldPath.canonicalString(),Qt.value);break;case"not-in":case"!=":return mo.set(Gi.fieldPath.canonicalString(),Qt.value),Array.from(mo.values())}return null}(ie,B),Rt=function(zr,Mi){const mo=[];let Gi=!0;for(const Qt of Zn(Mi)){const It=0===Qt.kind?Wr(zr,Qt.fieldPath,zr.startAt):Is(zr,Qt.fieldPath,zr.startAt);mo.push(It.value),Gi&&(Gi=It.inclusive)}return new qr(mo,Gi)}(ie,B),an=function(zr,Mi){const mo=[];let Gi=!0;for(const Qt of Zn(Mi)){const It=0===Qt.kind?Is(zr,Qt.fieldPath,zr.endAt):Wr(zr,Qt.fieldPath,zr.endAt);mo.push(It.value),Gi&&(Gi=It.inclusive)}return new qr(mo,Gi)}(ie,B),Fn=this.In(B,ie,Rt),Jn=this.In(B,ie,an),Yn=this.Tn(B,ie,tt),$r=this.En(B.indexId,Ne,Fn,Rt.inclusive,Jn,an.inclusive,Yn);return Pt.forEach($r,Zr=>s.G(Zr,i.limit).next(zr=>{zr.forEach(Mi=>{const mo=ln.fromSegments(Mi.documentKey);C.has(mo)||(C=C.add(mo),N.push(mo))})}))}).next(()=>N)}return Pt.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:hd(li.create(n.filters,"and")).map(s=>Di(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,s,u,_,C,N){const B=(null!=i?i.length:1)*Math.max(s.length,_.length),ie=B/(null!=i?i.length:1),Ne=[];for(let tt=0;tt<B;++tt){const Rt=i?this.dn(i[tt/ie]):ql,an=this.An(n,Rt,s[tt%ie],u),Fn=this.Rn(n,Rt,_[tt%ie],C),Jn=N.map(Yn=>this.An(n,Rt,Yn,!0));Ne.push(...this.createRange(an,Fn,Jn))}return Ne}An(n,i,s,u){const _=new xa(n,ln.empty(),i,s);return u?_:_.Zt()}Rn(n,i,s,u){const _=new xa(n,ln.empty(),i,s);return u?_.Zt():_}Pn(n,i){const s=new el(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(_=>{let C=null;for(const N of _)s.rn(N)&&(!C||N.fields.length>C.fields.length)&&(C=N);return C})}getIndexType(n,i){let s=2;const u=this.hn(i);return Pt.forEach(u,_=>this.Pn(n,_).next(C=>{C?0!==s&&C.fields.length<function(B){let ie=new kn(vn.comparator),Ne=!1;for(const tt of B.filters)for(const Rt of tt.getFlattenedFilters())Rt.field.isKeyField()||("array-contains"===Rt.op||"array-contains-any"===Rt.op?Ne=!0:ie=ie.add(Rt.field));for(const tt of B.orderBy)tt.field.isKeyField()||(ie=ie.add(tt.field));return ie.size+(Ne?1:0)}(_)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(n,i){const s=new Nl;for(const u of Zn(n)){const _=i.data.field(u.fieldPath);if(null==_)return null;const C=s.Yt(u.kind);so.vt.It(_,C)}return s.zt()}dn(n){const i=new Nl;return so.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const s=new Nl;return so.vt.It(ei(this.databaseId,i),s.Yt(function(_){const C=Zn(_);return 0===C.length?0:C[C.length-1].kind}(n))),s.zt()}Tn(n,i,s){if(null===s)return[];let u=[];u.push(new Nl);let _=0;for(const C of Zn(n)){const N=s[_++];for(const B of u)if(this.fn(i,C.fieldPath)&&Ae(N))u=this.gn(u,C,N);else{const ie=B.Yt(C.kind);so.vt.It(N,ie)}}return this.pn(u)}In(n,i,s){return this.Tn(n,i,s.position)}pn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].zt();return i}gn(n,i,s){const u=[...n],_=[];for(const C of s.arrayValue.values||[])for(const N of u){const B=new Nl;B.seed(N.zt()),so.vt.It(C,B.Yt(i.kind)),_.push(B)}return _}fn(n,i){return!!n.filters.find(s=>s instanceof pr&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=El(n),u=Xu(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(_=>{const C=[];return Pt.forEach(_,N=>u.get([N.indexId,this.uid]).next(B=>{C.push(function(Ne,tt){const Rt=tt?new Dr(tt.sequenceNumber,new ri(De(tt.readTime),new ln(An(tt.documentKey)),tt.largestBatchId)):Dr.empty(),an=Ne.fields.map(([Fn,Jn])=>new kr(vn.fromServerFormat(Fn),Jn));return new Br(Ne.indexId,Ne.collectionGroup,an,Rt)}(N,B))})).next(()=>C)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,u)=>{const _=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==_?_:Kn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const u=El(n),_=Xu(n);return this.yn(n).next(C=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(N=>Pt.forEach(N,B=>_.put(Pi(B.indexId,this.uid,C,s)))))}updateIndexEntries(n,i){const s=new Map;return Pt.forEach(i,(u,_)=>{const C=s.get(u.collectionGroup);return(C?Pt.resolve(C):this.getFieldIndexes(n,u.collectionGroup)).next(N=>(s.set(u.collectionGroup,N),Pt.forEach(N,B=>this.wn(n,u,B).next(ie=>{const Ne=this.Sn(_,B);return ie.isEqual(Ne)?Pt.resolve():this.bn(n,_,B,ie,Ne)}))))})}Dn(n,i,s,u){return os(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(n,i,s,u){return os(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(n,i,s){const u=os(n);let _=new kn(Za);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(C,N)=>{_=_.add(new xa(s.indexId,i,N.arrayValue,N.directionalValue))}).next(()=>_)}Sn(n,i){let s=new kn(Za);const u=this.Vn(i,n);if(null==u)return s;const _=Tr(i);if(null!=_){const C=n.data.field(_.fieldPath);if(Ae(C))for(const N of C.arrayValue.values||[])s=s.add(new xa(i.indexId,n.key,this.dn(N),u))}else s=s.add(new xa(i.indexId,n.key,ql,u));return s}bn(n,i,s,u,_){ae("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const C=[];return function(B,ie,Ne,tt,Rt){const an=B.getIterator(),Fn=ie.getIterator();let Jn=cr(an),Yn=cr(Fn);for(;Jn||Yn;){let $r=!1,Zr=!1;if(Jn&&Yn){const zr=Ne(Jn,Yn);zr<0?Zr=!0:zr>0&&($r=!0)}else null!=Jn?Zr=!0:$r=!0;$r?(tt(Yn),Yn=cr(Fn)):Zr?(Rt(Jn),Jn=cr(an)):(Jn=cr(an),Yn=cr(Fn))}}(u,_,Za,N=>{C.push(this.Dn(n,i,s,N))},N=>{C.push(this.vn(n,i,s,N))}),Pt.waitFor(C)}yn(n){let i=1;return Xu(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,_)=>{_.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((C,N)=>Za(C,N)).filter((C,N,B)=>!N||0!==Za(C,B[N-1]));const u=[];u.push(n);for(const C of s){const N=Za(C,n),B=Za(C,i);if(0===N)u[0]=n.Zt();else if(N>0&&B<0)u.push(C),u.push(C.Zt());else if(B>0)break}u.push(i);const _=[];for(let C=0;C<u.length;C+=2){if(this.Cn(u[C],u[C+1]))return[];_.push(IDBKeyRange.bound([u[C].indexId,this.uid,u[C].arrayValue,u[C].directionalValue,ql,[]],[u[C+1].indexId,this.uid,u[C+1].arrayValue,u[C+1].directionalValue,ql,[]]))}return _}Cn(n,i){return Za(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(Js)}getMinOffset(n,i){return Pt.mapArray(this.hn(i),s=>this.Pn(n,s).next(u=>u||Ht())).next(Js)}}function js(l){return Xe(l,"collectionParents")}function os(l){return Xe(l,"indexEntries")}function El(l){return Xe(l,"indexConfiguration")}function Xu(l){return Xe(l,"indexState")}function Js(l){Ft(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;Pr(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new ri(n.readTime,n.documentKey,i)}const qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Fo(n,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dc(l,n,i){const s=l.store("mutations"),u=l.store("documentMutations"),_=[],C=IDBKeyRange.only(i.batchId);let N=0;const B=s.J({range:C},(Ne,tt,Rt)=>(N++,Rt.delete()));_.push(B.next(()=>{Ft(1===N)}));const ie=[];for(const Ne of i.mutations){const tt=wr(n,Ne.key.path,i.batchId);_.push(u.delete(tt)),ie.push(Ne.key)}return Pt.waitFor(_).next(()=>ie)}function Qu(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw Ht();n=l.noDocument}return JSON.stringify(n).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class Ds{constructor(n,i,s,u){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(n,i,s,u){Ft(""!==n.uid);const _=n.isAuthenticated()?n.uid:"";return new Ds(_,i,s,u)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ql(n).J({index:"userMutationsIndex",range:s},(u,_,C)=>{i=!1,C.done()}).next(()=>i)}addMutationBatch(n,i,s,u){const _=Yl(n),C=Ql(n);return C.add({}).next(N=>{Ft("number"==typeof N);const B=new w(N,i,s,u),ie=function(an,Fn,Jn){const Yn=Jn.baseMutations.map(Zr=>hl(an.ct,Zr)),$r=Jn.mutations.map(Zr=>hl(an.ct,Zr));return{userId:Fn,batchId:Jn.batchId,localWriteTimeMs:Jn.localWriteTime.toMillis(),baseMutations:Yn,mutations:$r}}(this.serializer,this.userId,B),Ne=[];let tt=new kn((Rt,an)=>Kn(Rt.canonicalString(),an.canonicalString()));for(const Rt of u){const an=wr(this.userId,Rt.key.path,N);tt=tt.add(Rt.key.path.popLast()),Ne.push(C.put(ie)),Ne.push(_.put(an,Ai))}return tt.forEach(Rt=>{Ne.push(this.indexManager.addToCollectionParentIndex(n,Rt))}),n.addOnCommittedListener(()=>{this.Fn[N]=B.keys()}),Pt.waitFor(Ne).next(()=>B)})}lookupMutationBatch(n,i){return Ql(n).get(i).next(s=>s?(Ft(s.userId===this.userId),xe(this.serializer,s)):null)}Mn(n,i){return this.Fn[i]?Pt.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let _=null;return Ql(n).J({index:"userMutationsIndex",range:u},(C,N,B)=>{N.userId===this.userId&&(Ft(N.batchId>=s),_=xe(this.serializer,N)),B.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ql(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,_,C)=>{s=_.batchId,C.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ql(n).U("userMutationsIndex",i).next(s=>s.map(u=>xe(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=Hn(this.userId,i.path),u=IDBKeyRange.lowerBound(s),_=[];return Yl(n).J({range:u},(C,N,B)=>{const[ie,Ne,tt]=C,Rt=An(Ne);if(ie===this.userId&&i.path.isEqual(Rt))return Ql(n).get(tt).next(an=>{if(!an)throw Ht();Ft(an.userId===this.userId),_.push(xe(this.serializer,an))});B.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new kn(Kn);const u=[];return i.forEach(_=>{const C=Hn(this.userId,_.path),N=IDBKeyRange.lowerBound(C),B=Yl(n).J({range:N},(ie,Ne,tt)=>{const[Rt,an,Fn]=ie,Jn=An(an);Rt===this.userId&&_.path.isEqual(Jn)?s=s.add(Fn):tt.done()});u.push(B)}),Pt.waitFor(u).next(()=>this.xn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1,_=Hn(this.userId,s),C=IDBKeyRange.lowerBound(_);let N=new kn(Kn);return Yl(n).J({range:C},(B,ie,Ne)=>{const[tt,Rt,an]=B,Fn=An(Rt);tt===this.userId&&s.isPrefixOf(Fn)?Fn.length===u&&(N=N.add(an)):Ne.done()}).next(()=>this.xn(n,N))}xn(n,i){const s=[],u=[];return i.forEach(_=>{u.push(Ql(n).get(_).next(C=>{if(null===C)throw Ht();Ft(C.userId===this.userId),s.push(xe(this.serializer,C))}))}),Pt.waitFor(u).next(()=>s)}removeMutationBatch(n,i){return dc(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),Pt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return Pt.resolve();const s=IDBKeyRange.lowerBound(function(C){return[C]}(this.userId)),u=[];return Yl(n).J({range:s},(_,C,N)=>{if(_[0]===this.userId){const B=An(_[1]);u.push(B)}else N.done()}).next(()=>{Ft(0===u.length)})})}containsKey(n,i){return Yu(n,this.userId,i)}Nn(n){return Ju(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yu(l,n,i){const s=Hn(n,i.path),u=s[1],_=IDBKeyRange.lowerBound(s);let C=!1;return Yl(l).J({range:_,H:!0},(N,B,ie)=>{const[Ne,tt,Rt]=N;Ne===n&&tt===u&&(C=!0),ie.done()}).next(()=>C)}function Ql(l){return Xe(l,"mutations")}function Yl(l){return Xe(l,"documentMutations")}function Ju(l){return Xe(l,"mutationQueues")}class ka{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new ka(0)}static kn(){return new ka(-1)}}class Ch{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const s=new ka(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>bn.fromTimestamp(new Bn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(n,s))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>xl(n).delete(i.targetId)).next(()=>this.qn(n)).next(s=>(Ft(s.targetCount>0),s.targetCount-=1,this.Qn(n,s)))}removeTargets(n,i,s){let u=0;const _=[];return xl(n).J((C,N)=>{const B=Gt(N);B.sequenceNumber<=i&&null===s.get(B.targetId)&&(u++,_.push(this.removeTargetData(n,B)))}).next(()=>Pt.waitFor(_)).next(()=>u)}forEachTarget(n,i){return xl(n).J((s,u)=>{const _=Gt(u);i(_)})}qn(n){return No(n).get("targetGlobalKey").next(i=>(Ft(null!==i),i))}Qn(n,i){return No(n).put("targetGlobalKey",i)}Kn(n,i){return xl(n).put(Mn(this.serializer,i))}$n(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=Ro(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let _=null;return xl(n).J({range:u,index:"queryTargetsIndex"},(C,N,B)=>{const ie=Gt(N);Ss(i,ie.target)&&(_=ie,B.done())}).next(()=>_)}addMatchingKeys(n,i,s){const u=[],_=Il(n);return i.forEach(C=>{const N=zt(C.path);u.push(_.put({targetId:s,path:N})),u.push(this.referenceDelegate.addReference(n,s,C))}),Pt.waitFor(u)}removeMatchingKeys(n,i,s){const u=Il(n);return Pt.forEach(i,_=>{const C=zt(_.path);return Pt.waitFor([u.delete([s,C]),this.referenceDelegate.removeReference(n,s,_)])})}removeMatchingKeysForTargetId(n,i){const s=Il(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=Il(n);let _=ti();return u.J({range:s,H:!0},(C,N,B)=>{const ie=An(C[1]),Ne=new ln(ie);_=_.add(Ne)}).next(()=>_)}containsKey(n,i){const s=zt(i.path),u=IDBKeyRange.bound([s],[Xn(s)],!1,!0);let _=0;return Il(n).J({index:"documentTargetsIndex",H:!0,range:u},([C,N],B,ie)=>{0!==C&&(_++,ie.done())}).next(()=>_>0)}ot(n,i){return xl(n).get(i).next(s=>s?Gt(s):null)}}function xl(l){return Xe(l,"targets")}function No(l){return Xe(l,"targetGlobal")}function Il(l){return Xe(l,"targetDocuments")}function hc([l,n],[i,s]){const u=Kn(l,i);return 0===u?Kn(n,s):u}class fc{constructor(n){this.Un=n,this.buffer=new kn(hc),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();hc(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Zu{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;ae("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,c.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Yt(s)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield br(s)}yield i.Hn(3e5)}))}}class ec{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return Pt.resolve(W.oe);const s=new fc(i);return this.Jn.forEachTarget(n,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(qu)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qu):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let s,u,_,C,N,B,ie;const Ne=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(tt=>(tt>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${tt}`),u=this.params.maximumSequenceNumbersToCollect):u=tt,C=Date.now(),this.nthSequenceNumber(n,u))).next(tt=>(s=tt,N=Date.now(),this.removeTargets(n,s,i))).next(tt=>(_=tt,B=Date.now(),this.removeOrphanedDocuments(n,s))).next(tt=>(ie=Date.now(),vt()<=q.$b.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-Ne}ms\n\tDetermined least recently used ${u} in `+(N-C)+`ms\n\tRemoved ${_} targets in `+(B-N)+`ms\n\tRemoved ${tt} documents in `+(ie-B)+`ms\nTotal Duration: ${ie-Ne}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:_,documentsRemoved:tt})))}}class Fc{constructor(n,i){this.db=n,this.garbageCollector=function Lc(l,n){return new ec(l,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}er(n){let i=0;return this.Zn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(s,u)=>i(u))}addReference(n,i,s){return tc(n,s)}removeReference(n,i,s){return tc(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return tc(n,i)}nr(n,i){return function(u,_){let C=!1;return Ju(u).Y(N=>Yu(u,N,_).next(B=>(B&&(C=!0),Pt.resolve(!B)))).next(()=>C)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let _=0;return this.tr(n,(C,N)=>{if(N<=i){const B=this.nr(n,C).next(ie=>{if(!ie)return _++,s.getEntry(n,C).next(()=>(s.removeEntry(C,bn.min()),Il(n).delete([0,zt(C.path)])))});u.push(B)}}).next(()=>Pt.waitFor(u)).next(()=>s.apply(n)).next(()=>_)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return tc(n,i)}tr(n,i){const s=Il(n);let u,_=W.oe;return s.J({index:"documentTargetsIndex"},([C,N],{path:B,sequenceNumber:ie})=>{0===C?(_!==W.oe&&i(new ln(An(u)),_),_=ie,u=B):_=W.oe}).next(()=>{_!==W.oe&&i(new ln(An(u)),_)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function tc(l,n){return Il(l).put((u=l.currentSequenceNumber,{targetId:0,path:zt(n.path),sequenceNumber:u}));var u}class Ld{constructor(){this.changes=new to(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Or.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Pt.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Vc{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return Fr(n).put(s)}removeEntry(n,i,s){return Fr(n).delete(function(_,C){const N=_.path.toArray();return[N.slice(0,N.length-2),N[N.length-2],S(C),N[N.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.rr(n,s)))}getEntry(n,i){let s=Or.newInvalidDocument(i);return Fr(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(uo(i))},(u,_)=>{s=this.ir(i,_)}).next(()=>s)}sr(n,i){let s={size:0,document:Or.newInvalidDocument(i)};return Fr(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(uo(i))},(u,_)=>{s={document:this.ir(i,_),size:Qu(_)}}).next(()=>s)}getEntries(n,i){let s=Ur();return this._r(n,i,(u,_)=>{const C=this.ir(u,_);s=s.insert(u,C)}).next(()=>s)}ar(n,i){let s=Ur(),u=new Wt(ln.comparator);return this._r(n,i,(_,C)=>{const N=this.ir(_,C);s=s.insert(_,N),u=u.insert(_,Qu(C))}).next(()=>({documents:s,ur:u}))}_r(n,i,s){if(i.isEmpty())return Pt.resolve();let u=new kn(ds);i.forEach(B=>u=u.add(B));const _=IDBKeyRange.bound(uo(u.first()),uo(u.last())),C=u.getIterator();let N=C.getNext();return Fr(n).J({index:"documentKeyIndex",range:_},(B,ie,Ne)=>{const tt=ln.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;N&&ds(N,tt)<0;)s(N,null),N=C.getNext();N&&N.isEqual(tt)&&(s(N,ie),N=C.hasNext()?C.getNext():null),N?Ne.$(uo(N)):Ne.done()}).next(()=>{for(;N;)s(N,null),N=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(n,i,s,u,_){const C=i.path,N=[C.popLast().toArray(),C.lastSegment(),S(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],B=[C.popLast().toArray(),C.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fr(n).U(IDBKeyRange.bound(N,B,!0)).next(ie=>{null==_||_.incrementDocumentReadCount(ie.length);let Ne=Ur();for(const tt of ie){const Rt=this.ir(ln.fromSegments(tt.prefixPath.concat(tt.collectionGroup,tt.documentId)),tt);Rt.isFoundDocument()&&(Ie(i,Rt)||u.has(Rt.key))&&(Ne=Ne.insert(Rt.key,Rt))}return Ne})}getAllFromCollectionGroup(n,i,s,u){let _=Ur();const C=fa(i,s),N=fa(i,ri.max());return Fr(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,N,!0)},(B,ie,Ne)=>{const tt=this.ir(ln.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);_=_.insert(tt.key,tt),_.size===u&&Ne.done()}).next(()=>_)}newChangeBuffer(n){return new Ao(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return tr(n).get("remoteDocumentGlobalKey").next(i=>(Ft(!!i),i))}rr(n,i){return tr(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const s=function P(l,n){let i;if(n.document)i=Rs(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=ln.fromSegments(n.noDocument.path),u=De(n.noDocument.readTime);i=Or.newNoDocument(s,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Ht();{const s=ln.fromSegments(n.unknownDocument.path),u=De(n.unknownDocument.version);i=Or.newUnknownDocument(s,u)}}return n.readTime&&i.setReadTime(function(u){const _=new Bn(u[0],u[1]);return bn.fromTimestamp(_)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(bn.min()))return s}return Or.newInvalidDocument(n)}}function Du(l){return new Vc(l)}class Ao extends Ld{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new to(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(n){const i=[];let s=0,u=new kn((_,C)=>Kn(_.canonicalString(),C.canonicalString()));return this.changes.forEach((_,C)=>{const N=this.lr.get(_);if(i.push(this.cr.removeEntry(n,_,N.readTime)),C.isValidDocument()){const B=V(this.cr.serializer,C);u=u.add(_.path.popLast());const ie=Qu(B);s+=ie-N.size,i.push(this.cr.addEntry(n,_,B))}else if(s-=N.size,this.trackRemovals){const B=V(this.cr.serializer,C.convertToNoDocument(bn.min()));i.push(this.cr.addEntry(n,_,B))}}),u.forEach(_=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,_))}),i.push(this.cr.updateMetadata(n,s)),Pt.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:s,ur:u})=>(u.forEach((_,C)=>{this.lr.set(_,{size:C,readTime:s.get(_).readTime})}),s))}}function tr(l){return Xe(l,"remoteDocumentGlobal")}function Fr(l){return Xe(l,"remoteDocumentsV14")}function uo(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function fa(l,n){const i=n.documentKey.path.toArray();return[l,S(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function ds(l,n){const i=l.path.toArray(),s=n.path.toArray();let u=0;for(let _=0;_<i.length-2&&_<s.length-2;++_)if(u=Kn(i[_],s[_]),u)return u;return u=Kn(i.length,s.length),u||(u=Kn(i[i.length-2],s[s.length-2]),u||Kn(i[i.length-1],s[s.length-1]))}class Qo{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class ws{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Pa(s.mutation,u,nr.empty(),Bn.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,ti()).next(()=>s))}getLocalViewOfDocuments(n,i,s=ti()){const u=Uo();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(_=>{let C=ts();return _.forEach((N,B)=>{C=C.insert(N,B.overlayedDocument)}),C}))}getOverlayedDocuments(n,i){const s=Uo();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,ti()))}populateOverlays(n,i,s){const u=[];return s.forEach(_=>{i.has(_)||u.push(_)}),this.documentOverlayCache.getOverlays(n,u).next(_=>{_.forEach((C,N)=>{i.set(C,N)})})}computeViews(n,i,s,u){let _=Ur();const C=sa(),N=sa();return i.forEach((B,ie)=>{const Ne=s.get(ie.key);u.has(ie.key)&&(void 0===Ne||Ne.mutation instanceof Cn)?_=_.insert(ie.key,ie):void 0!==Ne?(C.set(ie.key,Ne.mutation.getFieldMask()),Pa(Ne.mutation,ie,Ne.mutation.getFieldMask(),Bn.now())):C.set(ie.key,nr.empty())}),this.recalculateAndSaveOverlays(n,_).next(B=>(B.forEach((ie,Ne)=>C.set(ie,Ne)),i.forEach((ie,Ne)=>{var tt;return N.set(ie,new Qo(Ne,null!==(tt=C.get(ie))&&void 0!==tt?tt:null))}),N))}recalculateAndSaveOverlays(n,i){const s=sa();let u=new Wt((C,N)=>C-N),_=ti();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(C=>{for(const N of C)N.keys().forEach(B=>{const ie=i.get(B);if(null===ie)return;let Ne=s.get(B)||nr.empty();Ne=N.applyToLocalView(ie,Ne),s.set(B,Ne);const tt=(u.get(N.batchId)||ti()).add(B);u=u.insert(N.batchId,tt)})}).next(()=>{const C=[],N=u.getReverseIterator();for(;N.hasNext();){const B=N.getNext(),ie=B.key,Ne=B.value,tt=ll();Ne.forEach(Rt=>{if(!_.has(Rt)){const an=mu(i.get(Rt),s.get(Rt));null!==an&&tt.set(Rt,an),_=_.add(Rt)}}),C.push(this.documentOverlayCache.saveOverlays(n,ie,tt))}return Pt.waitFor(C)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return ln.isDocumentKey((C=i).path)&&null===C.collectionGroup&&0===C.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Po(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var C}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(_=>{const C=u-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-_.size):Pt.resolve(Uo());let N=-1,B=_;return C.next(ie=>Pt.forEach(ie,(Ne,tt)=>(N<tt.largestBatchId&&(N=tt.largestBatchId),_.get(Ne)?Pt.resolve():this.remoteDocumentCache.getEntry(n,Ne).next(Rt=>{B=B.insert(Ne,Rt)}))).next(()=>this.populateOverlays(n,ie,_)).next(()=>this.computeViews(n,B,ie,ti())).next(Ne=>({batchId:N,changes:As(Ne)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new ln(i)).next(s=>{let u=ts();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const _=i.collectionGroup;let C=ts();return this.indexManager.getCollectionParents(n,_).next(N=>Pt.forEach(N,B=>{const ie=(tt=i,Rt=B.child(_),new Yi(Rt,null,tt.explicitOrderBy.slice(),tt.filters.slice(),tt.limit,tt.limitType,tt.startAt,tt.endAt));var tt,Rt;return this.getDocumentsMatchingCollectionQuery(n,ie,s,u).next(Ne=>{Ne.forEach((tt,Rt)=>{C=C.insert(tt,Rt)})})}).next(()=>C))}getDocumentsMatchingCollectionQuery(n,i,s,u){let _;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(C=>(_=C,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,_,u))).next(C=>{_.forEach((B,ie)=>{const Ne=ie.getKey();null===C.get(Ne)&&(C=C.insert(Ne,Or.newInvalidDocument(Ne)))});let N=ts();return C.forEach((B,ie)=>{const Ne=_.get(B);void 0!==Ne&&Pa(Ne.mutation,ie,nr.empty(),Bn.now()),Ie(i,ie)&&(N=N.insert(B,ie))}),N})}}class Eo{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return Pt.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:Lo(u.createTime)}),Pt.resolve();var u}getNamedQuery(n,i){return Pt.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:Zt(u.bundledQuery),readTime:Lo(u.readTime)}),Pt.resolve();var u}}class $o{constructor(){this.overlays=new Wt(ln.comparator),this.Ir=new Map}getOverlay(n,i){return Pt.resolve(this.overlays.get(i))}getOverlays(n,i){const s=Uo();return Pt.forEach(i,u=>this.getOverlay(n,u).next(_=>{null!==_&&s.set(u,_)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,_)=>{this.ht(n,i,_)}),Pt.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(s)),Pt.resolve()}getOverlaysForCollection(n,i,s){const u=Uo(),_=i.length+1,C=new ln(i.child("")),N=this.overlays.getIteratorFrom(C);for(;N.hasNext();){const B=N.getNext().value,ie=B.getKey();if(!i.isPrefixOf(ie.path))break;ie.path.length===_&&B.largestBatchId>s&&u.set(B.getKey(),B)}return Pt.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let _=new Wt((ie,Ne)=>ie-Ne);const C=this.overlays.getIterator();for(;C.hasNext();){const ie=C.getNext().value;if(ie.getKey().getCollectionGroup()===i&&ie.largestBatchId>s){let Ne=_.get(ie.largestBatchId);null===Ne&&(Ne=Uo(),_=_.insert(ie.largestBatchId,Ne)),Ne.set(ie.getKey(),ie)}}const N=Uo(),B=_.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((ie,Ne)=>N.set(ie,Ne)),!(N.size()>=u)););return Pt.resolve(N)}ht(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const C=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,C)}this.overlays=this.overlays.insert(s.key,new qe(i,s));let _=this.Ir.get(i);void 0===_&&(_=ti(),this.Ir.set(i,_)),this.Ir.set(i,_.add(s.key))}}class Zs{constructor(){this.sessionToken=Ir.EMPTY_BYTE_STRING}getSessionToken(n){return Pt.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Pt.resolve()}}class ii{constructor(){this.Tr=new kn(io.Er),this.dr=new kn(io.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const s=new io(n,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Vr(new io(n,i))}mr(n,i){n.forEach(s=>this.removeReference(s,i))}gr(n){const i=new ln(new At([])),s=new io(i,n),u=new io(i,n+1),_=[];return this.dr.forEachInRange([s,u],C=>{this.Vr(C),_.push(C.key)}),_}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new ln(new At([])),s=new io(i,n),u=new io(i,n+1);let _=ti();return this.dr.forEachInRange([s,u],C=>{_=_.add(C.key)}),_}containsKey(n){const i=new io(n,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class io{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return ln.comparator(n.key,i.key)||Kn(n.wr,i.wr)}static Ar(n,i){return Kn(n.wr,i.wr)||ln.comparator(n.key,i.key)}}class Fd{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new kn(io.Er)}checkEmpty(n){return Pt.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const _=this.Sr;this.Sr++;const C=new w(_,i,s,u);this.mutationQueue.push(C);for(const N of u)this.br=this.br.add(new io(N.key,_)),this.indexManager.addToCollectionParentIndex(n,N.key.path.popLast());return Pt.resolve(C)}lookupMutationBatch(n,i){return Pt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),_=u<0?0:u;return Pt.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new io(i,0),u=new io(i,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([s,u],C=>{const N=this.Dr(C.wr);_.push(N)}),Pt.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new kn(Kn);return i.forEach(u=>{const _=new io(u,0),C=new io(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,C],N=>{s=s.add(N.wr)})}),Pt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let _=s;ln.isDocumentKey(_)||(_=_.child(""));const C=new io(new ln(_),0);let N=new kn(Kn);return this.br.forEachWhile(B=>{const ie=B.key.path;return!!s.isPrefixOf(ie)&&(ie.length===u&&(N=N.add(B.wr)),!0)},C),Pt.resolve(this.Cr(N))}Cr(n){const i=[];return n.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Ft(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return Pt.forEach(i.mutations,u=>{const _=new io(u.key,i.batchId);return s=s.delete(_),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=s})}On(n){}containsKey(n,i){const s=new io(i,0),u=this.br.firstAfterOrEqual(s);return Pt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Pt.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wu{constructor(n){this.Mr=n,this.docs=new Wt(ln.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),_=u?u.size:0,C=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:C}),this.size+=C-_,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return Pt.resolve(s?s.document.mutableCopy():Or.newInvalidDocument(i))}getEntries(n,i){let s=Ur();return i.forEach(u=>{const _=this.docs.get(u);s=s.insert(u,_?_.document.mutableCopy():Or.newInvalidDocument(u))}),Pt.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let _=Ur();const C=i.path,N=new ln(C.child("")),B=this.docs.getIteratorFrom(N);for(;B.hasNext();){const{key:ie,value:{document:Ne}}=B.getNext();if(!C.isPrefixOf(ie.path))break;ie.path.length>C.length+1||Pr(Hr(Ne),s)<=0||(u.has(Ne.key)||Ie(i,Ne))&&(_=_.insert(Ne.key,Ne.mutableCopy()))}return Pt.resolve(_)}getAllFromCollectionGroup(n,i,s,u){Ht()}Or(n,i){return Pt.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new To(this)}getSize(n){return Pt.resolve(this.size)}}class To extends Ld{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(s)}),Pt.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Jl{constructor(n){this.persistence=n,this.Nr=new to(i=>Ro(i),Ss),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ii,this.targetCount=0,this.kr=ka.Bn()}forEachTarget(n,i){return this.Nr.forEach((s,u)=>i(u)),Pt.resolve()}getLastRemoteSnapshotVersion(n){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Pt.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),Pt.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new ka(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,Pt.resolve()}updateTargetData(n,i){return this.Kn(i),Pt.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(n,i,s){let u=0;const _=[];return this.Nr.forEach((C,N)=>{N.sequenceNumber<=i&&null===s.get(N.targetId)&&(this.Nr.delete(C),_.push(this.removeMatchingKeysForTargetId(n,N.targetId)),u++)}),Pt.waitFor(_).next(()=>u)}getTargetCount(n){return Pt.resolve(this.targetCount)}getTargetData(n,i){const s=this.Nr.get(i)||null;return Pt.resolve(s)}addMatchingKeys(n,i,s){return this.Br.Rr(i,s),Pt.resolve()}removeMatchingKeys(n,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,_=[];return u&&i.forEach(C=>{_.push(u.markPotentiallyOrphaned(n,C))}),Pt.waitFor(_)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),Pt.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Br.yr(i);return Pt.resolve(s)}containsKey(n,i){return Pt.resolve(this.Br.containsKey(i))}}class tl{constructor(n,i){this.qr={},this.overlays={},this.Qr=new W(0),this.Kr=!1,this.Kr=!0,this.$r=new Zs,this.referenceDelegate=n(this),this.Ur=new Jl(this),this.indexManager=new Bs,this.remoteDocumentCache=new wu(s=>this.referenceDelegate.Wr(s)),this.serializer=new T(i),this.Gr=new Eo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new $o,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.qr[n.toKey()];return s||(s=new Fd(i,this.referenceDelegate),this.qr[n.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,s){ae("MemoryPersistence","Starting transaction:",n);const u=new La(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(_=>this.referenceDelegate.jr(u).next(()=>_)).toPromise().then(_=>(u.raiseOnCommittedEvent(),_))}Hr(n,i){return Pt.or(Object.values(this.qr).map(s=>()=>s.containsKey(n,i)))}}class La extends rr{constructor(n){super(),this.currentSequenceNumber=n}}class nl{constructor(n){this.persistence=n,this.Jr=new ii,this.Yr=null}static Zr(n){return new nl(n)}get Xr(){if(this.Yr)return this.Yr;throw Ht()}addReference(n,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),Pt.resolve()}removeReference(n,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),Pt.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),Pt.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(_=>this.Xr.add(_.toString()))}).next(()=>s.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.Xr,s=>{const u=ln.fromPath(s);return this.ei(n,u).next(_=>{_||i.removeEntry(u,bn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return Pt.or([()=>Pt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class Cl{constructor(n){this.serializer=n}O(n,i,s,u){const _=new Vr("createOrUpgrade",i);var B;s<1&&u>=1&&(n.createObjectStore("owner"),(B=n).createObjectStore("mutationQueues",{keyPath:"userId"}),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yn,{unique:!0}),B.createObjectStore("documentMutations"),Zl(n),function(B){B.createObjectStore("remoteDocuments")}(n));let C=Pt.resolve();return s<3&&u>=3&&(0!==s&&(function(B){B.deleteObjectStore("targetDocuments"),B.deleteObjectStore("targets"),B.deleteObjectStore("targetGlobal")}(n),Zl(n)),C=C.next(()=>function(B){const ie=B.store("targetGlobal"),Ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return ie.put("targetGlobalKey",Ne)}(_))),s<4&&u>=4&&(0!==s&&(C=C.next(()=>function(B,ie){return ie.store("mutations").U().next(Ne=>{B.deleteObjectStore("mutations"),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yn,{unique:!0});const tt=ie.store("mutations"),Rt=Ne.map(an=>tt.put(an));return Pt.waitFor(Rt)})}(n,_))),C=C.next(()=>{!function(B){B.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&u>=5&&(C=C.next(()=>this.ni(_))),s<6&&u>=6&&(C=C.next(()=>(function(B){B.createObjectStore("remoteDocumentGlobal")}(n),this.ri(_)))),s<7&&u>=7&&(C=C.next(()=>this.ii(_))),s<8&&u>=8&&(C=C.next(()=>this.si(n,_))),s<9&&u>=9&&(C=C.next(()=>{!function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&u>=10&&(C=C.next(()=>this.oi(_))),s<11&&u>=11&&(C=C.next(()=>{(function(B){B.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(B){B.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&u>=12&&(C=C.next(()=>{!function(B){const ie=B.createObjectStore("documentOverlays",{keyPath:ge});ie.createIndex("collectionPathOverlayIndex",Ge,{unique:!1}),ie.createIndex("collectionGroupOverlayIndex",jt,{unique:!1})}(n)})),s<13&&u>=13&&(C=C.next(()=>function(B){const ie=B.createObjectStore("remoteDocumentsV14",{keyPath:Ui});ie.createIndex("documentKeyIndex",si),ie.createIndex("collectionGroupIndex",xi)}(n)).next(()=>this._i(n,_)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(C=C.next(()=>this.ai(n,_))),s<15&&u>=15&&(C=C.next(()=>function(B){B.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),B.createObjectStore("indexState",{keyPath:fe}).createIndex("sequenceNumberIndex",le,{unique:!1}),B.createObjectStore("indexEntries",{keyPath:Je}).createIndex("documentKeyIndex",_e,{unique:!1})}(n))),s<16&&u>=16&&(C=C.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(C=C.next(()=>{!function(B){B.createObjectStore("globals",{keyPath:"name"})}(n)})),C}ri(n){let i=0;return n.store("remoteDocuments").J((s,u)=>{i+=Qu(u)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(u=>Pt.forEach(u,_=>{const C=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",C).next(N=>Pt.forEach(N,B=>{Ft(B.userId===_.userId);const ie=xe(this.serializer,B);return dc(n,_.userId,ie).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const _=[];return s.J((C,N)=>{const B=new At(C),ie=[0,zt(B)];_.push(i.get(ie).next(Ne=>Ne?Pt.resolve():i.put({targetId:0,path:zt(B),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Pt.waitFor(_))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:tn});const s=i.store("collectionParents"),u=new Tu,_=C=>{if(u.add(C)){const N=C.lastSegment(),B=C.popLast();return s.put({collectionId:N,parent:zt(B)})}};return i.store("remoteDocuments").J({H:!0},(C,N)=>{const B=new At(C);return _(B.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([C,N,B],ie)=>{const Ne=An(N);return _(Ne.popLast())}))}oi(n){const i=n.store("targets");return i.J((s,u)=>{const _=Gt(u),C=Mn(this.serializer,_);return i.put(C)})}_i(n,i){const s=i.store("remoteDocuments"),u=[];return s.J((_,C)=>{const N=i.store("remoteDocumentsV14"),B=(tt=C,tt.document?new ln(At.fromString(tt.document.name).popFirst(5)):tt.noDocument?ln.fromSegments(tt.noDocument.path):tt.unknownDocument?ln.fromSegments(tt.unknownDocument.path):Ht()).path.toArray(),ie={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};var tt;u.push(N.put(ie))}).next(()=>Pt.waitFor(u))}ai(n,i){const s=i.store("mutations"),u=Du(this.serializer),_=new tl(nl.Zr,this.serializer.ct);return s.U().next(C=>{const N=new Map;return C.forEach(B=>{var ie;let Ne=null!==(ie=N.get(B.userId))&&void 0!==ie?ie:ti();xe(this.serializer,B).keys().forEach(tt=>Ne=Ne.add(tt)),N.set(B.userId,Ne)}),Pt.forEach(N,(B,ie)=>{const Ne=new Te(ie),tt=Li.lt(this.serializer,Ne),Rt=_.getIndexManager(Ne),an=Ds.lt(Ne,this.serializer,Rt,_.referenceDelegate);return new ws(u,an,tt,Rt).recalculateAndSaveOverlaysForDocumentKeys(new ve(i,W.oe),B).next()})})}}function Zl(l){l.createObjectStore("targetDocuments",{keyPath:Bi}).createIndex("documentTargetsIndex",qi,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ki,{unique:!0}),l.createObjectStore("targetGlobal")}const ea="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xr{constructor(n,i,s,u,_,C,N,B,ie,Ne,tt=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.ui=_,this.window=C,this.document=N,this.ci=ie,this.li=Ne,this.hi=tt,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Rt=>Promise.resolve(),!xr.D())throw new de(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fc(this,u),this.Ai=i+"main",this.serializer=new T(B),this.Ri=new mr(this.Ai,this.hi,new Cl(this.serializer)),this.$r=new Co,this.Ur=new Ch(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Du(this.serializer),this.Gr=new ui,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===Ne&&Et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ee.FAILED_PRECONDITION,ea);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new W(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var s=(0,c.A)(function*(u){if(i.started)return n(u)});return function(u){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,c.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,c.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>kl(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(Yt(n))return ae("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return Su(n).get("owner").next(i=>Pt.resolve(this.vi(i)))}Ci(n){return kl(n).delete(this.clientId)}Fi(){var n=this;return(0,c.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Xe(s,"clientMetadata");return u.U().next(_=>{const C=n.xi(_,18e5),N=_.filter(B=>-1===C.indexOf(B));return Pt.forEach(N,B=>u.delete(B.clientId)).next(()=>N)})}).catch(()=>[]);if(n.Vi)for(const s of i)n.Vi.removeItem(n.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?Pt.resolve(!0):Su(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new de(ee.FAILED_PRECONDITION,ea);return!1}}return!(!this.networkEnabled||!this.inForeground)||kl(n).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&ae("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,c.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new ve(i,W.oe);return n.bi(s).next(()=>n.Ci(s))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>kl(n).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Ds.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new bu(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Li.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,s){ae("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",_=17===(B=this.hi)?be:16===B?X:15===B?bt:14===B?je:13===B?ye:12===B?jn:11===B?pn:void Ht();var B;let C;return this.Ri.runTransaction(n,u,_,N=>(C=new ve(N,this.Qr?this.Qr.next():W.oe),"readwrite-primary"===i?this.wi(C).next(B=>!!B||this.Si(C)).next(B=>{if(!B)throw Et(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new de(ee.FAILED_PRECONDITION,Ii);return s(C)}).next(B=>this.Di(C).next(()=>B)):this.Ki(C).next(()=>s(C)))).then(N=>(C.raiseOnCommittedEvent(),N))}Ki(n){return Su(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new de(ee.FAILED_PRECONDITION,ea)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Su(n).put("owner",i)}static D(){return mr.D()}bi(n){const i=Su(n);return i.get("owner").next(s=>this.vi(s)?(ae("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):Pt.resolve())}Mi(n,i){const s=Date.now();return!(n<s-i||n>s&&(Et(`Detected an update time that is in the future: ${n} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,ce.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return ae("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Et("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){Et("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Su(l){return Xe(l,"owner")}function kl(l){return Xe(l,"clientMetadata")}function ta(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class eu{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(n,i){let s=ti(),u=ti();for(const _ of i.docChanges)switch(_.type){case 0:s=s.add(_.doc.key);break;case 1:u=u.add(_.doc.key)}return new eu(n,i.fromCache,s,u)}}class Ru{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Wi{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ce.nr)()?8:yi((0,ce.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,s,u){const _={result:null};return this.Yi(n,i).next(C=>{_.result=C}).next(()=>{if(!_.result)return this.Zi(n,i,u,s).next(C=>{_.result=C})}).next(()=>{if(_.result)return;const C=new Ru;return this.Xi(n,i,C).next(N=>{if(_.result=N,this.zi)return this.es(n,i,C,N.size)})}).next(()=>_.result)}es(n,i,s,u){return s.documentReadCount<this.ji?(vt()<=q.$b.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",z(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Pt.resolve()):(vt()<=q.$b.DEBUG&&ae("QueryEngine","Query:",z(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(vt()<=q.$b.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",z(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ho(i))):Pt.resolve())}Yi(n,i){if(wi(i))return Pt.resolve(null);let s=Ho(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Y(i,null,"F"),s=Ho(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(_=>{const C=ti(..._);return this.Ji.getDocuments(n,C).next(N=>this.indexManager.getMinOffset(n,s).next(B=>{const ie=this.ts(i,N);return this.ns(i,ie,C,B.readTime)?this.Yi(n,Y(i,null,"F")):this.rs(n,ie,i,B)}))})))}Zi(n,i,s,u){return wi(i)||u.isEqual(bn.min())?Pt.resolve(null):this.Ji.getDocuments(n,s).next(_=>{const C=this.ts(i,_);return this.ns(i,C,s,u)?Pt.resolve(null):(vt()<=q.$b.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),z(i)),this.rs(n,C,i,yr(u,-1)).next(N=>N))})}ts(n,i){let s=new kn(Er(n));return i.forEach((u,_)=>{Ie(n,_)&&(s=s.add(_))}),s}ns(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const _="F"===n.limitType?i.last():i.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(u)>0)}Xi(n,i,s){return vt()<=q.$b.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",z(i)),this.Ji.getDocumentsMatchingQuery(n,i,ri.min(),s)}rs(n,i,s,u){return this.Ji.getDocumentsMatchingQuery(n,s,u).next(_=>(i.forEach(C=>{_=_.insert(C.key,C)}),_))}}class Pu{constructor(n,i,s,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new Wt(Kn),this._s=new to(_=>Ro(_),Ss),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(s)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new ws(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function go(l,n,i,s){return new Pu(l,n,i,s)}function Bo(l,n){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.A)(function*(l,n){const i=Ze(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(_=>(u=_,i.ls(n),i.mutationQueue.getAllMutationBatches(s))).next(_=>{const C=[],N=[];let B=ti();for(const ie of u){C.push(ie.batchId);for(const Ne of ie.mutations)B=B.add(Ne.key)}for(const ie of _){N.push(ie.batchId);for(const Ne of ie.mutations)B=B.add(Ne.key)}return i.localDocuments.getDocuments(s,B).next(ie=>({hs:ie,removedBatchIds:C,addedBatchIds:N}))})})})).apply(this,arguments)}function tu(l){const n=Ze(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function ga(l,n,i){let s=ti(),u=ti();return i.forEach(_=>s=s.add(_)),n.getEntries(l,s).next(_=>{let C=Ur();return i.forEach((N,B)=>{const ie=_.get(N);B.isFoundDocument()!==ie.isFoundDocument()&&(u=u.add(N)),B.isNoDocument()&&B.version.isEqual(bn.min())?(n.removeEntry(N,B.readTime),C=C.insert(N,B)):!ie.isValidDocument()||B.version.compareTo(ie.version)>0||0===B.version.compareTo(ie.version)&&ie.hasPendingWrites?(n.addEntry(B),C=C.insert(N,B)):ae("LocalStore","Ignoring outdated watch update for ",N,". Current version:",ie.version," Watch version:",B.version)}),{Ps:C,Is:u}})}function Vd(l,n){const i=Ze(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function nu(l,n){const i=Ze(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,n).next(_=>_?(u=_,Pt.resolve(u)):i.Ur.allocateTargetId(s).next(C=>(u=new Oa(n,C,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(n,s.targetId)),s})}function ru(l,n,i){return gc.apply(this,arguments)}function gc(){return(gc=(0,c.A)(function*(l,n,i){const s=Ze(l),u=s.os.get(n),_=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",_,C=>s.persistence.referenceDelegate.removeTarget(C,u)))}catch(C){if(!Yt(C))throw C;ae("LocalStore",`Failed to update sequence numbers for target ${n}: ${C}`)}s.os=s.os.remove(n),s._s.delete(u.target)})).apply(this,arguments)}function nc(l,n,i){const s=Ze(l);let u=bn.min(),_=ti();return s.persistence.runTransaction("Execute query","readwrite",C=>function(B,ie,Ne){const tt=Ze(B),Rt=tt._s.get(Ne);return void 0!==Rt?Pt.resolve(tt.os.get(Rt)):tt.Ur.getTargetData(ie,Ne)}(s,C,Ho(n)).next(N=>{if(N)return u=N.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(C,N.targetId).next(B=>{_=B})}).next(()=>s.ss.getDocumentsMatchingQuery(C,n,i?u:bn.min(),i?_:ti())).next(N=>(Ud(s,Dn(n),N),{documents:N,Ts:_})))}function mc(l,n){const i=Ze(l),s=Ze(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",_=>s.ot(_,n).next(C=>C?C.target:null))}function Uc(l,n){const i=Ze(l),s=i.us.get(n)||bn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,yr(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ud(i,n,u),u))}function Ud(l,n,i){let s=l.us.get(n)||bn.min();i.forEach((u,_)=>{_.readTime.compareTo(s)>0&&(s=_.readTime)}),l.us.set(n,s)}function _c(){return(_c=(0,c.A)(function*(l,n,i,s){const u=Ze(l);let _=ti(),C=Ur();for(const ie of i){const Ne=n.Es(ie.metadata.name);ie.document&&(_=_.add(Ne));const tt=n.ds(ie);tt.setReadTime(n.As(ie.metadata.readTime)),C=C.insert(Ne,tt)}const N=u.cs.newChangeBuffer({trackRemovals:!0}),B=yield nu(u,(Ne=s,Ho(Cs(At.fromString(`__bundle__/docs/${Ne}`)))));var Ne;return u.persistence.runTransaction("Apply bundle documents","readwrite",ie=>ga(ie,N,C).next(Ne=>(N.apply(ie),Ne)).next(Ne=>u.Ur.removeMatchingKeysForTargetId(ie,B.targetId).next(()=>u.Ur.addMatchingKeys(ie,_,B.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(ie,Ne.Ps,Ne.Is)).next(()=>Ne.Ps)))})).apply(this,arguments)}function $c(l,n){return pd.apply(this,arguments)}function pd(){return(pd=(0,c.A)(function*(l,n,i=ti()){const s=yield nu(l,Ho(Zt(n.bundledQuery))),u=Ze(l);return u.persistence.runTransaction("Save named query","readwrite",_=>{const C=Lo(n.readTime);if(s.snapshotVersion.compareTo(C)>=0)return u.Gr.saveNamedQuery(_,n);const N=s.withResumeToken(Ir.EMPTY_BYTE_STRING,C);return u.os=u.os.insert(N.targetId,N),u.Ur.updateTargetData(_,N).next(()=>u.Ur.removeMatchingKeysForTargetId(_,s.targetId)).next(()=>u.Ur.addMatchingKeys(_,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(_,n))})})).apply(this,arguments)}function Ah(l,n){return`firestore_clients_${l}_${n}`}function Th(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function gd(l,n){return`firestore_targets_${l}_${n}`}class md{constructor(n,i,s,u){this.user=n,this.batchId=i,this.state=s,this.error=u}static Rs(n,i,s){const u=JSON.parse(s);let _,C="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return C&&u.error&&(C="string"==typeof u.error.message&&"string"==typeof u.error.code,C&&(_=new de(u.error.code,u.error.message))),C?new md(n,i,u.state,_):(Et("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Bc{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Rs(n,i){const s=JSON.parse(i);let u,_="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return _&&s.error&&(_="string"==typeof s.error.message&&"string"==typeof s.error.code,_&&(u=new de(s.error.code,s.error.message))),_?new Bc(n,s.state,u):(Et("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ma{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,_=Wo();for(let C=0;u&&C<s.activeTargetIds.length;++C)u=Ct(s.activeTargetIds[C]),_=_.add(s.activeTargetIds[C]);return u?new ma(n,_):(Et("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class b{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new b(i.clientId,i.onlineState):(Et("SharedClientState",`Failed to parse online state: ${n}`),null)}}class m{constructor(){this.activeTargetIds=Wo()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class E{constructor(n,i,s,u,_){this.window=n,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Wt(Kn),this.started=!1,this.bs=[];const C=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Ah(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(B){return`firestore_bundle_loaded_v2_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,c.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const _=n.getItem(Ah(n.persistenceKey,u));if(_){const C=ma.Rs(u,_);C&&(n.Ss=n.Ss.insert(C.clientId,C))}}n.Ns();const s=n.storage.getItem(n.xs);if(s){const u=n.Ls(s);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,s){this.qs(n,i,s),this.Qs(n)}addLocalQueryTarget(n){let i="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(gd(this.persistenceKey,n));if(s){const u=Bc.Rs(n,s);u&&(i=u.state)}}return this.Ks.fs(n),this.Ns(),i}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(gd(this.persistenceKey,n))}updateQueryState(n,i,s){this.$s(n,i,s)}handleUserChange(n,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return ae("SharedClientState","READ",n,i),i}setItem(n,i){ae("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){ae("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const s=n;if(s.storageArea===this.storage){if(ae("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void Et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,c.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(C){let N=W.oe;if(null!=C)try{const B=JSON.parse(C);Ft("number"==typeof B),N=B}catch(B){Et("SharedClientState","Failed to read sequence number from WebStorage",B)}return N}(s.newValue);u!==W.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(_=>i.syncEngine.eo(_)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,s){const u=new md(this.currentUser,n,i,s),_=Th(this.persistenceKey,this.currentUser,n);this.setItem(_,u.Vs())}Qs(n){const i=Th(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,s){const u=gd(this.persistenceKey,n),_=new Bc(n,i,s);this.setItem(u,_.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const s=this.Gs(n);return ma.Rs(s,i)}Hs(n,i){const s=this.Fs.exec(n),u=Number(s[1]);return md.Rs(new Te(void 0!==s[2]?s[2]:null),u,i)}Ys(n,i){const s=this.Ms.exec(n),u=Number(s[1]);return Bc.Rs(u,i)}Ls(n){return b.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,c.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);ae("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const s=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),_=this.ks(s),C=[],N=[];return _.forEach(B=>{u.has(B)||C.push(B)}),u.forEach(B=>{_.has(B)||N.push(B)}),this.syncEngine.io(C,N).then(()=>{this.Ss=s})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=Wo();return n.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class R{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n){return this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,s){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new m,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class se{_o(n){}shutdown(){}}class Le{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lt=null;function hn(){return null===Lt?Lt=268435456+Math.round(2147483648*Math.random()):Lt++,"0x"+Lt.toString(16)}const Wn={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sr{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const Ar="WebChannelConnection";class $i extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${_}`}get Fo(){return!1}Mo(i,s,u,_,C){const N=hn(),B=this.xo(i,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${i}' ${N}:`,B,u);const ie={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(ie,_,C),this.No(i,B,ie,u).then(Ne=>(ae("RestConnection",`Received RPC '${i}' ${N}: `,Ne),Ne),Ne=>{throw Xt("RestConnection",`RPC '${i}' ${N} failed with error: `,Ne,"url: ",B,"request:",u),Ne})}Lo(i,s,u,_,C,N){return this.Mo(i,s,u,_,C)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+$e,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((_,C)=>i[C]=_),u&&u.headers.forEach((_,C)=>i[C]=_)}xo(i,s){return`${this.Do}/v1/${s}:${Wn[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,s,u){const _=hn();return new Promise((C,N)=>{const B=new We;B.setWithCredentials(!0),B.listenOnce(ut.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case gt.NO_ERROR:const Ne=B.getResponseJson();ae(Ar,`XHR for RPC '${n}' ${_} received:`,JSON.stringify(Ne)),C(Ne);break;case gt.TIMEOUT:ae(Ar,`RPC '${n}' ${_} timed out`),N(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case gt.HTTP_ERROR:const tt=B.getStatus();if(ae(Ar,`RPC '${n}' ${_} failed with status:`,tt,"response text:",B.getResponseText()),tt>0){let Rt=B.getResponseJson();Array.isArray(Rt)&&(Rt=Rt[0]);const an=null==Rt?void 0:Rt.error;if(an&&an.status&&an.message){const Fn=function(Yn){const $r=Yn.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf($r)>=0?$r:ee.UNKNOWN}(an.status);N(new de(Fn,an.message))}else N(new de(ee.UNKNOWN,"Server responded with status "+B.getStatus()))}else N(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{ae(Ar,`RPC '${n}' ${_} completed.`)}});const ie=JSON.stringify(u);ae(Ar,`RPC '${n}' ${_} sending request:`,u),B.send(i,"POST",ie,s,15)})}Bo(n,i,s){const u=hn(),_=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],C=Tt(),N=Ot(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ie=this.longPollingOptions.timeoutSeconds;void 0!==ie&&(B.longPollingTimeout=Math.round(1e3*ie)),this.useFetchStreams&&(B.xmlHttpFactory=new Ye({})),this.Oo(B.initMessageHeaders,i,s),B.encodeInitMessageHeaders=!0;const Ne=_.join("");ae(Ar,`Creating RPC '${n}' stream ${u}: ${Ne}`,B);const tt=C.createWebChannel(Ne,B);let Rt=!1,an=!1;const Fn=new Sr({Io:Yn=>{an?ae(Ar,`Not sending because RPC '${n}' stream ${u} is closed:`,Yn):(Rt||(ae(Ar,`Opening RPC '${n}' stream ${u} transport.`),tt.open(),Rt=!0),ae(Ar,`RPC '${n}' stream ${u} sending:`,Yn),tt.send(Yn))},To:()=>tt.close()}),Jn=(Yn,$r,Zr)=>{Yn.listen($r,zr=>{try{Zr(zr)}catch(Mi){setTimeout(()=>{throw Mi},0)}})};return Jn(tt,He.EventType.OPEN,()=>{an||(ae(Ar,`RPC '${n}' stream ${u} transport opened.`),Fn.yo())}),Jn(tt,He.EventType.CLOSE,()=>{an||(an=!0,ae(Ar,`RPC '${n}' stream ${u} transport closed`),Fn.So())}),Jn(tt,He.EventType.ERROR,Yn=>{an||(an=!0,Xt(Ar,`RPC '${n}' stream ${u} transport errored:`,Yn),Fn.So(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),Jn(tt,He.EventType.MESSAGE,Yn=>{var $r;if(!an){const Zr=Yn.data[0];Ft(!!Zr);const Mi=Zr.error||(null===($r=Zr[0])||void 0===$r?void 0:$r.error);if(Mi){ae(Ar,`RPC '${n}' stream ${u} received error:`,Mi);const mo=Mi.status;let Gi=function($t){const en=rt[$t];if(void 0!==en)return Qr(en)}(mo),Qt=Mi.message;void 0===Gi&&(Gi=ee.INTERNAL,Qt="Unknown error status: "+mo+" with message "+Mi.message),an=!0,Fn.So(new de(Gi,Qt)),tt.close()}else ae(Ar,`RPC '${n}' stream ${u} received:`,Zr),Fn.bo(Zr)}}),Jn(N,ft.STAT_EVENT,Yn=>{Yn.stat===mt.PROXY?ae(Ar,`RPC '${n}' stream ${u} detected buffering proxy`):Yn.stat===mt.NOPROXY&&ae(Ar,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Fn.wo()},0),Fn}}function Ms(){return typeof window<"u"?window:null}function Fa(){return typeof document<"u"?document:null}function iu(l){return new bs(l,!0)}class rc{constructor(n,i,s=1e3,u=1.5,_=6e4){this.ui=n,this.timerId=i,this.ko=s,this.qo=u,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&ae("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class jc{constructor(n,i,s,u,_,C,N,B){this.ui=n,this.Ho=s,this.Jo=u,this.connection=_,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=N,this.listener=B,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rc(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,c.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,c.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var s=this;return(0,c.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==n?s.t_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Et(i.toString()),Et("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===ee.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{n(()=>{const u=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(n,i){const s=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,c.A)(function*(){n.state=0,n.start()}))}I_(n){return ae("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class il extends jc{constructor(n,i,s,u,_,C){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,C),this.serializer=_}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function Gu(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(ie=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ie?1:"REMOVE"===ie?2:"CURRENT"===ie?3:"RESET"===ie?4:Ht(),u=n.targetChange.targetIds||[],_=function(ie,Ne){return ie.useProto3Json?(Ft(void 0===Ne||"string"==typeof Ne),Ir.fromBase64String(Ne||"")):(Ft(void 0===Ne||Ne instanceof Buffer||Ne instanceof Uint8Array),Ir.fromUint8Array(Ne||new Uint8Array))}(l,n.targetChange.resumeToken),C=n.targetChange.cause,N=C&&function(ie){const Ne=void 0===ie.code?ee.UNKNOWN:Qr(ie.code);return new de(Ne,ie.message||"")}(C);i=new da(s,u,_,N||null)}else if("documentChange"in n){const s=n.documentChange,u=Us(l,s.document.name),_=Lo(s.document.updateTime),C=s.document.createTime?Lo(s.document.createTime):bn.min(),N=new ur({mapValue:{fields:s.document.fields}}),B=Or.newFoundDocument(u,_,C,N);i=new Fs(s.targetIds||[],s.removedTargetIds||[],B.key,B)}else if("documentDelete"in n){const s=n.documentDelete,u=Us(l,s.document),_=s.readTime?Lo(s.readTime):bn.min(),C=Or.newNoDocument(u,_);i=new Fs([],s.removedTargetIds||[],C.key,C)}else if("documentRemove"in n){const s=n.documentRemove,u=Us(l,s.document);i=new Fs([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return Ht();{const s=n.filter,{count:u=0,unchangedNames:_}=s,C=new Me(u,_);i=new Vs(s.targetId,C)}}var ie;return i}(this.serializer,n),s=function(_){if(!("targetChange"in _))return bn.min();const C=_.targetChange;return C.targetIds&&C.targetIds.length?bn.min():C.readTime?Lo(C.readTime):bn.min()}(n);return this.listener.d_(i,s)}A_(n){const i={};i.database=dl(this.serializer),i.addTarget=function(_,C){let N;const B=C.target;if(N=wa(B)?{documents:$s(_,B)}:{query:Ps(_,B)._t},N.targetId=C.targetId,C.resumeToken.approximateByteSize()>0){N.resumeToken=Hu(_,C.resumeToken);const ie=qs(_,C.expectedCount);null!==ie&&(N.expectedCount=ie)}else if(C.snapshotVersion.compareTo(bn.min())>0){N.readTime=is(_,C.snapshotVersion.toTimestamp());const ie=qs(_,C.expectedCount);null!==ie&&(N.expectedCount=ie)}return N}(this.serializer,n);const s=function cc(l,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.a_(i)}R_(n){const i={};i.database=dl(this.serializer),i.removeTarget=n,this.a_(i)}}class vd extends jc{constructor(n,i,s,u,_,C){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,C),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return Ft(!!n.streamToken),this.lastStreamToken=n.streamToken,Ft(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){Ft(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function Qs(l,n){return l&&l.length>0?(Ft(void 0!==n),l.map(i=>function(u,_){let C=Lo(u.updateTime?u.updateTime:_);return C.isEqual(bn.min())&&(C=Lo(_)),new qa(C,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Lo(n.commitTime);return this.listener.g_(s,i)}p_(){const n={};n.database=dl(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>hl(this.serializer,s))};this.a_(i)}}class zc extends class{}{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,C])=>this.connection.Mo(n,Kl(i,s),u,_,C)).catch(_=>{throw"FirebaseError"===_.name?(_.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new de(ee.UNKNOWN,_.toString())})}Lo(n,i,s,u,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([C,N])=>this.connection.Lo(n,Kl(i,s),u,C,N,_)).catch(C=>{throw"FirebaseError"===C.name?(C.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),C):new de(ee.UNKNOWN,C.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ki{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Et(i),this.D_=!1):ae("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Hc{constructor(n,i,s,u,_){var C=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(N=>{s.enqueueAndForget((0,c.A)(function*(){var B;su(C)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,c.A)(function*(Ne){const tt=Ze(Ne);tt.L_.add(4),yield ou(tt),tt.q_.set("Unknown"),tt.L_.delete(4),yield ol(tt)}),function ie(Ne){return B.apply(this,arguments)})(C))}))}),this.q_=new Ki(s,u)}}function ol(l){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.A)(function*(l){if(su(l))for(const n of l.B_)yield n(!0)})).apply(this,arguments)}function ou(l){return Al.apply(this,arguments)}function Al(){return(Al=(0,c.A)(function*(l){for(const n of l.B_)yield n(!1)})).apply(this,arguments)}function Tl(l,n){const i=Ze(l);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),Va(i)?Dh(i):Rr(i).r_()&&bh(i,n))}function ps(l,n){const i=Ze(l),s=Rr(i);i.N_.delete(n),s.r_()&&$d(i,n),0===i.N_.size&&(s.r_()?s.o_():su(i)&&i.q_.set("Unknown"))}function bh(l,n){if(l.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(bn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}Rr(l).A_(n)}function $d(l,n){l.Q_.xe(n),Rr(l).R_(n)}function Dh(l){l.Q_=new Qa({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.N_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),Rr(l).start(),l.q_.v_()}function Va(l){return su(l)&&!Rr(l).n_()&&l.N_.size>0}function su(l){return 0===Ze(l).L_.size}function wh(l){l.Q_=void 0}function Nf(l){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,c.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function Bd(l){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.A)(function*(l){l.N_.forEach((n,i)=>{bh(l,n)})})).apply(this,arguments)}function jd(l,n){return _d.apply(this,arguments)}function _d(){return(_d=(0,c.A)(function*(l,n){wh(l),Va(l)?(l.q_.M_(n),Dh(l)):l.q_.set("Unknown")})).apply(this,arguments)}function Mu(l,n,i){return ci.apply(this,arguments)}function ci(){return ci=(0,c.A)(function*(l,n,i){if(l.q_.set("Online"),n instanceof da&&2===n.state&&n.cause)try{yield(s=(0,c.A)(function*(_,C){const N=C.cause;for(const B of C.targetIds)_.N_.has(B)&&(yield _.remoteSyncer.rejectListen(B,N),_.N_.delete(B),_.Q_.removeTarget(B))}),function u(_,C){return s.apply(this,arguments)})(l,n)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield yc(l,s)}else if(n instanceof Fs?l.Q_.Ke(n):n instanceof Vs?l.Q_.He(n):l.Q_.We(n),!i.isEqual(bn.min()))try{const s=yield tu(l.localStore);i.compareTo(s)>=0&&(yield function(_,C){const N=_.Q_.rt(C);return N.targetChanges.forEach((B,ie)=>{if(B.resumeToken.approximateByteSize()>0){const Ne=_.N_.get(ie);Ne&&_.N_.set(ie,Ne.withResumeToken(B.resumeToken,C))}}),N.targetMismatches.forEach((B,ie)=>{const Ne=_.N_.get(B);if(!Ne)return;_.N_.set(B,Ne.withResumeToken(Ir.EMPTY_BYTE_STRING,Ne.snapshotVersion)),$d(_,B);const tt=new Oa(Ne.target,B,ie,Ne.sequenceNumber);bh(_,tt)}),_.remoteSyncer.applyRemoteEvent(N)}(l,i))}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),yield yc(l,s)}var s}),ci.apply(this,arguments)}function yc(l,n,i){return yd.apply(this,arguments)}function yd(){return(yd=(0,c.A)(function*(l,n,i){if(!Yt(n))throw n;l.L_.add(1),yield ou(l),l.q_.set("Offline"),i||(i=()=>tu(l.localStore)),l.asyncQueue.enqueueRetryable((0,c.A)(function*(){ae("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield ol(l)}))})).apply(this,arguments)}function Sh(l,n){return n().catch(i=>yc(l,i,n))}function Ed(l){return Of.apply(this,arguments)}function Of(){return(Of=(0,c.A)(function*(l){const n=Ze(l),i=Fi(n);let s=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;Av(n);)try{const u=yield Vd(n.localStore,s);if(null===u){0===n.O_.length&&i.o_();break}s=u.batchId,Tv(n,u)}catch(u){yield yc(n,u)}g(n)&&d(n)})).apply(this,arguments)}function Av(l){return su(l)&&l.O_.length<10}function Tv(l,n){l.O_.push(n);const i=Fi(l);i.r_()&&i.V_&&i.m_(n.mutations)}function g(l){return su(l)&&!Fi(l).n_()&&l.O_.length>0}function d(l){Fi(l).start()}function f(l){return y.apply(this,arguments)}function y(){return(y=(0,c.A)(function*(l){Fi(l).p_()})).apply(this,arguments)}function M(l){return K.apply(this,arguments)}function K(){return(K=(0,c.A)(function*(l){const n=Fi(l);for(const i of l.O_)n.m_(i.mutations)})).apply(this,arguments)}function ne(l,n,i){return ue.apply(this,arguments)}function ue(){return(ue=(0,c.A)(function*(l,n,i){const s=l.O_.shift(),u=Q.from(s,n,i);yield Sh(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield Ed(l)})).apply(this,arguments)}function et(l,n){return Dt.apply(this,arguments)}function Dt(){return Dt=(0,c.A)(function*(l,n){var i;n&&Fi(l).V_&&(yield(i=(0,c.A)(function*(u,_){if(qn(N=_.code)&&N!==ee.ABORTED){const C=u.O_.shift();Fi(u).s_(),yield Sh(u,()=>u.remoteSyncer.rejectFailedWrite(C.batchId,_)),yield Ed(u)}var N}),function s(u,_){return i.apply(this,arguments)})(l,n)),g(l)&&d(l)}),Dt.apply(this,arguments)}function wn(l,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.A)(function*(l,n){const i=Ze(l);i.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=su(i);i.L_.add(3),yield ou(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield ol(i)})).apply(this,arguments)}function Un(l,n){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.A)(function*(l,n){const i=Ze(l);n?(i.L_.delete(2),yield ol(i)):n||(i.L_.add(2),yield ou(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Rr(l){return l.K_||(l.K_=function(i,s,u){const _=Ze(i);return _.w_(),new il(s,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,u)}(l.datastore,l.asyncQueue,{Eo:Nf.bind(null,l),Ro:Bd.bind(null,l),mo:jd.bind(null,l),d_:Mu.bind(null,l)}),l.B_.push(function(){var n=(0,c.A)(function*(i){i?(l.K_.s_(),Va(l)?Dh(l):l.q_.set("Unknown")):(yield l.K_.stop(),wh(l))});return function(i){return n.apply(this,arguments)}}())),l.K_}function Fi(l){return l.U_||(l.U_=function(i,s,u){const _=Ze(i);return _.w_(),new vd(s,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:f.bind(null,l),mo:et.bind(null,l),f_:M.bind(null,l),g_:ne.bind(null,l)}),l.B_.push(function(){var n=(0,c.A)(function*(i){i?(l.U_.s_(),yield Ed(l)):(yield l.U_.stop(),l.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return n.apply(this,arguments)}}())),l.U_}class ss{constructor(n,i,s,u,_){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=_,this.deferred=new Se,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,_){const C=Date.now()+s,N=new ss(n,i,C,u,_);return N.start(s),N}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(l,n){if(Et("AsyncQueue",`${n}: ${l}`),Yt(l))return new de(ee.UNAVAILABLE,`${n}: ${l}`);throw l}class ic{constructor(n){this.comparator=n?(i,s)=>n(i,s)||ln.comparator(i.key,s.key):(i,s)=>ln.comparator(i.key,s.key),this.keyedMap=ts(),this.sortedSet=new Wt(this.comparator)}static emptySet(n){return new ic(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof ic)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,_=s.getNext().key;if(!u.isEqual(_))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new ic;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class Rh{constructor(){this.W_=new Wt(ln.comparator)}track(n){const i=n.doc.key,s=this.W_.get(i);s?0!==n.type&&3===s.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.W_=this.W_.remove(i):1===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Ht():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,s)=>{n.push(s)}),n}}class Ec{constructor(n,i,s,u,_,C,N,B,ie){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=_,this.fromCache=C,this.syncStateChanged=N,this.excludesMetadataChanges=B,this.hasCachedResults=ie}static fromInitialDocuments(n,i,s,u,_){const C=[];return i.forEach(N=>{C.push({type:0,doc:N})}),new Ec(n,i,ic.emptySet(i),C,s,u,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&L(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class bv{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class Dv{constructor(){this.queries=Ua(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=Ze(i),_=u.queries;u.queries=Ua(),_.forEach((C,N)=>{for(const B of N.j_)B.onError(s)})}(this,new de(ee.ABORTED,"Firestore shutting down"))}}function Ua(){return new to(l=>Ee(l),L)}function Nu(l,n){return xf.apply(this,arguments)}function xf(){return(xf=(0,c.A)(function*(l,n){const i=Ze(l);let s=3;const u=n.query;let _=i.queries.get(u);_?!_.H_()&&n.J_()&&(s=2):(_=new bv,s=n.J_()?0:1);try{switch(s){case 0:_.z_=yield i.onListen(u,!0);break;case 1:_.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(C){const N=bl(C,`Initialization of query '${z(n.query)}' failed`);return void n.onError(N)}i.queries.set(u,_),_.j_.push(n),n.Z_(i.onlineState),_.z_&&n.X_(_.z_)&&fg(i)})).apply(this,arguments)}function Ll(l,n){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,c.A)(function*(l,n){const i=Ze(l),s=n.query;let u=3;const _=i.queries.get(s);if(_){const C=_.j_.indexOf(n);C>=0&&(_.j_.splice(C,1),0===_.j_.length?u=n.J_()?0:1:!_.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Xy(l,n){const i=Ze(l);let s=!1;for(const u of n){const C=i.queries.get(u.query);if(C){for(const N of C.j_)N.X_(u)&&(s=!0);C.z_=u}}s&&fg(i)}function wv(l,n,i){const s=Ze(l),u=s.queries.get(n);if(u)for(const _ of u.j_)_.onError(i);s.queries.delete(n)}function fg(l){l.Y_.forEach(n=>{n.next()})}var pg,kf;(kf=pg||(pg={})).ea="default",kf.Cache="cache";class Ph{constructor(n,i,s){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new Ec(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=Ec.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==pg.Cache}}class gg{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class Mh{constructor(n){this.serializer=n}Es(n){return Us(this.serializer,n)}ds(n){return n.metadata.exists?Rs(this.serializer,n.document,!1):Or.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return Lo(n)}}class qy{constructor(n,i,s){this.ca=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mg(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const s=At.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,s=new Mh(this.serializer);for(const u of n)if(u.metadata.queries){const _=s.Es(u.metadata.name);for(const C of u.metadata.queries){const N=(i.get(C)||ti()).add(_);i.set(C,N)}}return i}complete(){var n=this;return(0,c.A)(function*(){const i=yield function vc(l,n,i,s){return _c.apply(this,arguments)}(n.localStore,new Mh(n.serializer),n.documents,n.ca.id),s=n.ha(n.documents);for(const u of n.queries)yield $c(n.localStore,u,s.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function mg(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Lf{constructor(n){this.key=n}}class vg{constructor(n){this.key=n}}class _g{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ti(),this.mutatedKeys=ti(),this.Aa=Er(n),this.Ra=new ic(this.Aa)}get Va(){return this.Ta}ma(n,i){const s=i?i.fa:new Rh,u=i?i.Ra:this.Ra;let _=i?i.mutatedKeys:this.mutatedKeys,C=u,N=!1;const B="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,ie="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((Ne,tt)=>{const Rt=u.get(Ne),an=Ie(this.query,tt)?tt:null,Fn=!!Rt&&this.mutatedKeys.has(Rt.key),Jn=!!an&&(an.hasLocalMutations||this.mutatedKeys.has(an.key)&&an.hasCommittedMutations);let Yn=!1;Rt&&an?Rt.data.isEqual(an.data)?Fn!==Jn&&(s.track({type:3,doc:an}),Yn=!0):this.ga(Rt,an)||(s.track({type:2,doc:an}),Yn=!0,(B&&this.Aa(an,B)>0||ie&&this.Aa(an,ie)<0)&&(N=!0)):!Rt&&an?(s.track({type:0,doc:an}),Yn=!0):Rt&&!an&&(s.track({type:1,doc:Rt}),Yn=!0,(B||ie)&&(N=!0)),Yn&&(an?(C=C.add(an),_=Jn?_.add(Ne):_.delete(Ne)):(C=C.delete(Ne),_=_.delete(Ne)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const Ne="F"===this.query.limitType?C.last():C.first();C=C.delete(Ne.key),_=_.delete(Ne.key),s.track({type:1,doc:Ne})}return{Ra:C,fa:s,ns:N,mutatedKeys:_}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const _=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const C=n.fa.G_();C.sort((Ne,tt)=>function(an,Fn){const Jn=Yn=>{switch(Yn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return Jn(an)-Jn(Fn)}(Ne.type,tt.type)||this.Aa(Ne.doc,tt.doc)),this.pa(s),u=null!=u&&u;const N=i&&!u?this.ya():[],B=0===this.da.size&&this.current&&!u?1:0,ie=B!==this.Ea;return this.Ea=B,0!==C.length||ie?{snapshot:new Ec(this.query,n.Ra,_,C,n.mutatedKeys,0===B,ie,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:N}:{wa:N}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=ti(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return n.forEach(s=>{this.da.has(s)||i.push(new vg(s))}),this.da.forEach(s=>{n.has(s)||i.push(new Lf(s))}),i}ba(n){this.Ta=n.Ts,this.da=ti();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return Ec.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Sv{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class Rv{constructor(n){this.key=n,this.va=!1}}class yg{constructor(n,i,s,u,_,C){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=_,this.maxConcurrentLimboResolutions=C,this.Ca={},this.Fa=new to(N=>Ee(N),L),this.Ma=new Map,this.xa=new Set,this.Oa=new Wt(ln.comparator),this.Na=new Map,this.La=new ii,this.Ba={},this.ka=new Map,this.qa=ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Qy(l,n){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.A)(function*(l,n,i=!0){const s=$h(l);let u;const _=s.Fa.get(n);return _?(s.sharedClientState.addLocalQueryTarget(_.targetId),u=_.view.Da()):u=yield Pv(s,n,i,!0),u})).apply(this,arguments)}function Id(l,n){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.A)(function*(l,n){const i=$h(l);yield Pv(i,n,!0,!1)})).apply(this,arguments)}function Pv(l,n,i,s){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,c.A)(function*(l,n,i,s){const u=yield nu(l.localStore,Ho(n)),_=u.targetId,C=i?l.sharedClientState.addLocalQueryTarget(_):"not-current";let N;return s&&(N=yield Ig(l,n,_,"current"===C,u.resumeToken)),l.isPrimaryClient&&i&&Tl(l.remoteStore,u),N})).apply(this,arguments)}function Ig(l,n,i,s,u){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,c.A)(function*(l,n,i,s,u){l.Ka=(tt,Rt,an)=>{return(Fn=(0,c.A)(function*(Yn,$r,Zr,zr){let Mi=$r.view.ma(Zr);Mi.ns&&(Mi=yield nc(Yn.localStore,$r.query,!1).then(({documents:It})=>$r.view.ma(It,Mi)));const mo=zr&&zr.targetChanges.get($r.targetId),Gi=zr&&null!=zr.targetMismatches.get($r.targetId),Qt=$r.view.applyChanges(Mi,Yn.isPrimaryClient,mo,Gi);return Lh(Yn,$r.targetId,Qt.wa),Qt.snapshot}),function Jn(Yn,$r,Zr,zr){return Fn.apply(this,arguments)})(l,tt,Rt,an);var Fn};const _=yield nc(l.localStore,n,!0),C=new _g(n,_.Ts),N=C.ma(_.documents),B=Xo.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),ie=C.applyChanges(N,l.isPrimaryClient,B);Lh(l,i,ie.wa);const Ne=new Sv(n,i,C);return l.Fa.set(n,Ne),l.Ma.has(i)?l.Ma.get(i).push(n):l.Ma.set(i,[n]),ie.snapshot}),Cg.apply(this,arguments)}function Mv(l,n,i){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,c.A)(function*(l,n,i){const s=Ze(l),u=s.Fa.get(n),_=s.Ma.get(u.targetId);if(_.length>1)return s.Ma.set(u.targetId,_.filter(C=>!L(C,n))),void s.Fa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield ru(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&ps(s.remoteStore,u.targetId),kh(s,u.targetId)}).catch(br))):(kh(s,u.targetId),yield ru(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Nh(l,n){return au.apply(this,arguments)}function au(){return(au=(0,c.A)(function*(l,n){const i=Ze(l),s=i.Fa.get(n),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ps(i.remoteStore,s.targetId))})).apply(this,arguments)}function zd(){return(zd=(0,c.A)(function*(l,n,i){const s=Mg(l);try{const u=yield function(C,N){const B=Ze(C),ie=Bn.now(),Ne=N.reduce((an,Fn)=>an.add(Fn.key),ti());let tt,Rt;return B.persistence.runTransaction("Locally write mutations","readwrite",an=>{let Fn=Ur(),Jn=ti();return B.cs.getEntries(an,Ne).next(Yn=>{Fn=Yn,Fn.forEach(($r,Zr)=>{Zr.isValidDocument()||(Jn=Jn.add($r))})}).next(()=>B.localDocuments.getOverlayedDocuments(an,Fn)).next(Yn=>{tt=Yn;const $r=[];for(const Zr of N){const zr=ju(Zr,tt.get(Zr.key).overlayedDocument);null!=zr&&$r.push(new Cn(Zr.key,zr,hi(zr.value.mapValue),ro.exists(!0)))}return B.mutationQueue.addMutationBatch(an,ie,$r,N)}).next(Yn=>{Rt=Yn;const $r=Yn.applyToLocalDocumentSet(tt,Jn);return B.documentOverlayCache.saveOverlays(an,Yn.batchId,$r)})}).then(()=>({batchId:Rt.batchId,changes:As(tt)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(C,N,B){let ie=C.Ba[C.currentUser.toKey()];ie||(ie=new Wt(Kn)),ie=ie.insert(N,B),C.Ba[C.currentUser.toKey()]=ie}(s,u.batchId,i),yield Fl(s,u.changes),yield Ed(s.remoteStore)}catch(u){const _=bl(u,"Failed to persist write");i.reject(_)}})).apply(this,arguments)}function Oh(l,n){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,c.A)(function*(l,n){const i=Ze(l);try{const s=yield function rl(l,n){const i=Ze(l),s=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const C=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const N=[];n.targetChanges.forEach((Ne,tt)=>{const Rt=u.get(tt);if(!Rt)return;N.push(i.Ur.removeMatchingKeys(_,Ne.removedDocuments,tt).next(()=>i.Ur.addMatchingKeys(_,Ne.addedDocuments,tt)));let an=Rt.withSequenceNumber(_.currentSequenceNumber);var Jn,Yn,$r;null!==n.targetMismatches.get(tt)?an=an.withResumeToken(Ir.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):Ne.resumeToken.approximateByteSize()>0&&(an=an.withResumeToken(Ne.resumeToken,s)),u=u.insert(tt,an),Yn=an,$r=Ne,(0===(Jn=Rt).resumeToken.approximateByteSize()||Yn.snapshotVersion.toMicroseconds()-Jn.snapshotVersion.toMicroseconds()>=3e8||$r.addedDocuments.size+$r.modifiedDocuments.size+$r.removedDocuments.size>0)&&N.push(i.Ur.updateTargetData(_,an))});let B=Ur(),ie=ti();if(n.documentUpdates.forEach(Ne=>{n.resolvedLimboDocuments.has(Ne)&&N.push(i.persistence.referenceDelegate.updateLimboDocument(_,Ne))}),N.push(ga(_,C,n.documentUpdates).next(Ne=>{B=Ne.Ps,ie=Ne.Is})),!s.isEqual(bn.min())){const Ne=i.Ur.getLastRemoteSnapshotVersion(_).next(tt=>i.Ur.setTargetsMetadata(_,_.currentSequenceNumber,s));N.push(Ne)}return Pt.waitFor(N).next(()=>C.apply(_)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,B,ie)).next(()=>B)}).then(_=>(i.os=u,_))}(i.localStore,n);n.targetChanges.forEach((u,_)=>{const C=i.Na.get(_);C&&(Ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?C.va=!0:u.modifiedDocuments.size>0?Ft(C.va):u.removedDocuments.size>0&&(Ft(C.va),C.va=!1))}),yield Fl(i,s,n)}catch(s){yield br(s)}})).apply(this,arguments)}function Vf(l,n,i){const s=Ze(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((_,C)=>{const N=C.view.Z_(n);N.snapshot&&u.push(N.snapshot)}),function(C,N){const B=Ze(C);B.onlineState=N;let ie=!1;B.queries.forEach((Ne,tt)=>{for(const Rt of tt.j_)Rt.Z_(N)&&(ie=!0)}),ie&&fg(B)}(s.eventManager,n),u.length&&s.Ca.d_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function Nv(l,n,i){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,c.A)(function*(l,n,i){const s=Ze(l);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Na.get(n),_=u&&u.key;if(_){let C=new Wt(ln.comparator);C=C.insert(_,Or.newNoDocument(_,bn.min()));const N=ti().add(_),B=new ji(bn.min(),new Map,new Wt(Kn),C,N);yield Oh(s,B),s.Oa=s.Oa.remove(_),s.Na.delete(n),Fh(s)}else yield ru(s.localStore,n,!1).then(()=>kh(s,n,i)).catch(br)})).apply(this,arguments)}function Jy(l,n){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.A)(function*(l,n){const i=Ze(l),s=n.batch.batchId;try{const u=yield function pa(l,n){const i=Ze(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),_=i.cs.newChangeBuffer({trackRemovals:!0});return function(N,B,ie,Ne){const tt=ie.batch,Rt=tt.keys();let an=Pt.resolve();return Rt.forEach(Fn=>{an=an.next(()=>Ne.getEntry(B,Fn)).next(Jn=>{const Yn=ie.docVersions.get(Fn);Ft(null!==Yn),Jn.version.compareTo(Yn)<0&&(tt.applyToRemoteDocument(Jn,ie),Jn.isValidDocument()&&(Jn.setReadTime(ie.commitVersion),Ne.addEntry(Jn)))})}),an.next(()=>N.mutationQueue.removeMutationBatch(B,tt))}(i,s,n,_).next(()=>_.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(N){let B=ti();for(let ie=0;ie<N.mutationResults.length;++ie)N.mutationResults[ie].transformResults.length>0&&(B=B.add(N.batch.mutations[ie].key));return B}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);Dg(i,s,null),bg(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Fl(i,u)}catch(u){yield br(u)}})).apply(this,arguments)}function xh(l,n,i){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,c.A)(function*(l,n,i){const s=Ze(l);try{const u=yield function(C,N){const B=Ze(C);return B.persistence.runTransaction("Reject batch","readwrite-primary",ie=>{let Ne;return B.mutationQueue.lookupMutationBatch(ie,N).next(tt=>(Ft(null!==tt),Ne=tt.keys(),B.mutationQueue.removeMutationBatch(ie,tt))).next(()=>B.mutationQueue.performConsistencyCheck(ie)).next(()=>B.documentOverlayCache.removeOverlaysForBatchId(ie,Ne,N)).next(()=>B.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ie,Ne)).next(()=>B.localDocuments.getDocuments(ie,Ne))})}(s.localStore,n);Dg(s,n,i),bg(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Fl(s,u)}catch(u){yield br(u)}})).apply(this,arguments)}function $f(){return($f=(0,c.A)(function*(l,n){const i=Ze(l);su(i.remoteStore)||ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(C){const N=Ze(C);return N.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>N.mutationQueue.getHighestUnacknowledgedBatchId(B))}(i.localStore);if(-1===s)return void n.resolve();const u=i.ka.get(s)||[];u.push(n),i.ka.set(s,u)}catch(s){const u=bl(s,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function bg(l,n){(l.ka.get(n)||[]).forEach(i=>{i.resolve()}),l.ka.delete(n)}function Dg(l,n,i){const s=Ze(l);let u=s.Ba[s.currentUser.toKey()];if(u){const _=u.get(n);_&&(i?_.reject(i):_.resolve(),u=u.remove(n)),s.Ba[s.currentUser.toKey()]=u}}function kh(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Ma.get(n))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(n),l.isPrimaryClient&&l.La.gr(n).forEach(s=>{l.La.containsKey(s)||Zy(l,s)})}function Zy(l,n){l.xa.delete(n.path.canonicalString());const i=l.Oa.get(n);null!==i&&(ps(l.remoteStore,i),l.Oa=l.Oa.remove(n),l.Na.delete(i),Fh(l))}function Lh(l,n,i){for(const s of i)s instanceof Lf?(l.La.addReference(s.key,n),Cd(l,s)):s instanceof vg?(ae("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,n),l.La.containsKey(s.key)||Zy(l,s.key)):Ht()}function Cd(l,n){const i=n.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(ae("SyncEngine","New document in limbo: "+i),l.xa.add(s),Fh(l))}function Fh(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const n=l.xa.values().next().value;l.xa.delete(n);const i=new ln(At.fromString(n)),s=l.qa.next();l.Na.set(s,new Rv(i)),l.Oa=l.Oa.insert(i,s),Tl(l.remoteStore,new Oa(Ho(Cs(i.path)),s,"TargetPurposeLimboResolution",W.oe))}}function Fl(l,n,i){return wg.apply(this,arguments)}function wg(){return wg=(0,c.A)(function*(l,n,i){const s=Ze(l),u=[],_=[],C=[];var N;s.Fa.isEmpty()||(s.Fa.forEach((N,B)=>{C.push(s.Ka(B,n,i).then(ie=>{var Ne;if((ie||i)&&s.isPrimaryClient){const tt=ie?!ie.fromCache:null===(Ne=null==i?void 0:i.targetChanges.get(B.targetId))||void 0===Ne?void 0:Ne.current;s.sharedClientState.updateQueryState(B.targetId,tt?"current":"not-current")}if(ie){u.push(ie);const tt=eu.Wi(B.targetId,ie);_.push(tt)}}))}),yield Promise.all(C),s.Ca.d_(u),yield(N=(0,c.A)(function*(ie,Ne){const tt=Ze(ie);try{yield tt.persistence.runTransaction("notifyLocalViewChanges","readwrite",Rt=>Pt.forEach(Ne,an=>Pt.forEach(an.$i,Fn=>tt.persistence.referenceDelegate.addReference(Rt,an.targetId,Fn)).next(()=>Pt.forEach(an.Ui,Fn=>tt.persistence.referenceDelegate.removeReference(Rt,an.targetId,Fn)))))}catch(Rt){if(!Yt(Rt))throw Rt;ae("LocalStore","Failed to update sequence numbers: "+Rt)}for(const Rt of Ne){const an=Rt.targetId;if(!Rt.fromCache){const Fn=tt.os.get(an),Yn=Fn.withLastLimboFreeSnapshotVersion(Fn.snapshotVersion);tt.os=tt.os.insert(an,Yn)}}}),function B(ie,Ne){return N.apply(this,arguments)})(s.localStore,_))}),wg.apply(this,arguments)}function Vh(l,n){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,c.A)(function*(l,n){const i=Ze(l);if(!i.currentUser.isEqual(n)){ae("SyncEngine","User change. New user:",n.toKey());const s=yield Bo(i.localStore,n);i.currentUser=n,(_=i).ka.forEach(N=>{N.forEach(B=>{B.reject(new de(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Fl(i,s.hs)}var _})).apply(this,arguments)}function Rg(l,n){const i=Ze(l),s=i.Na.get(n);if(s&&s.va)return ti().add(s.key);{let u=ti();const _=i.Ma.get(n);if(!_)return u;for(const C of _){const N=i.Fa.get(C);u=u.unionWith(N.view.Va)}return u}}function Bf(l,n){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,c.A)(function*(l,n){const i=Ze(l),s=yield nc(i.localStore,n.query,!0),u=n.view.ba(s);return i.isPrimaryClient&&Lh(i,n.targetId,u.wa),u})).apply(this,arguments)}function xv(l,n){return jf.apply(this,arguments)}function jf(){return(jf=(0,c.A)(function*(l,n){const i=Ze(l);return Uc(i.localStore,n).then(s=>Fl(i,s))})).apply(this,arguments)}function e0(l,n,i,s){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.A)(function*(l,n,i,s){const u=Ze(l),_=yield function(N,B){const ie=Ze(N),Ne=Ze(ie.mutationQueue);return ie.persistence.runTransaction("Lookup mutation documents","readonly",tt=>Ne.Mn(tt,B).next(Rt=>Rt?ie.localDocuments.getDocuments(tt,Rt):Pt.resolve(null)))}(u.localStore,n);var B;null!==_?("pending"===i?yield Ed(u.remoteStore):"acknowledged"===i||"rejected"===i?(Dg(u,n,s||null),bg(u,n),B=n,Ze(Ze(u.localStore).mutationQueue).On(B)):Ht(),yield Fl(u,_)):ae("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Wd(){return(Wd=(0,c.A)(function*(l,n){const i=Ze(l);if($h(i),Mg(i),!0===n&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield zf(i,s.toArray());i.Qa=!0,yield Un(i.remoteStore,!0);for(const _ of u)Tl(i.remoteStore,_)}else if(!1===n&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((_,C)=>{i.sharedClientState.isLocalQueryTarget(C)?s.push(C):u=u.then(()=>(kh(i,C),ru(i.localStore,C,!0))),ps(i.remoteStore,C)}),yield u,yield zf(i,s),function(C){const N=Ze(C);N.Na.forEach((B,ie)=>{ps(N.remoteStore,ie)}),N.La.pr(),N.Na=new Map,N.Oa=new Wt(ln.comparator)}(i),i.Qa=!1,yield Un(i.remoteStore,!1)}})).apply(this,arguments)}function zf(l,n,i){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,c.A)(function*(l,n,i){const s=Ze(l),u=[],_=[];for(const C of n){let N;const B=s.Ma.get(C);if(B&&0!==B.length){N=yield nu(s.localStore,Ho(B[0]));for(const ie of B){const Ne=s.Fa.get(ie),tt=yield Bf(s,Ne);tt.snapshot&&_.push(tt.snapshot)}}else{const ie=yield mc(s.localStore,C);N=yield nu(s.localStore,ie),yield Ig(s,Uh(ie),C,!1,N.resumeToken)}u.push(N)}return s.Ca.d_(_),u})).apply(this,arguments)}function Uh(l){return Sa(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Pg(l){return i=Ze(l).localStore,Ze(Ze(i).persistence).Qi();var i}function n0(l,n,i,s){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,c.A)(function*(l,n,i,s){const u=Ze(l);if(u.Qa)return void ae("SyncEngine","Ignoring unexpected query state notification.");const _=u.Ma.get(n);if(_&&_.length>0)switch(i){case"current":case"not-current":{const C=yield Uc(u.localStore,Dn(_[0])),N=ji.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,Ir.EMPTY_BYTE_STRING);yield Fl(u,C,N);break}case"rejected":yield ru(u.localStore,n,!0),kh(u,n,s);break;default:Ht()}})).apply(this,arguments)}function kv(l,n,i){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,c.A)(function*(l,n,i){const s=$h(l);if(s.Qa){for(const u of n){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){ae("SyncEngine","Adding an already active target "+u);continue}const _=yield mc(s.localStore,u),C=yield nu(s.localStore,_);yield Ig(s,Uh(_),C.targetId,!1,C.resumeToken),Tl(s.remoteStore,C)}for(const u of i)s.Ma.has(u)&&(yield ru(s.localStore,u,!1).then(()=>{ps(s.remoteStore,u),kh(s,u)}).catch(br))}})).apply(this,arguments)}function $h(l){const n=Ze(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Oh.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rg.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Nv.bind(null,n),n.Ca.d_=Xy.bind(null,n.eventManager),n.Ca.$a=wv.bind(null,n.eventManager),n}function Mg(l){const n=Ze(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Jy.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=xh.bind(null,n),n}class uu{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,c.A)(function*(){i.serializer=iu(n.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(n),i.persistence=i.createPersistence(n),yield i.persistence.start(),i.localStore=i.createLocalStore(n),i.gcScheduler=i.createGarbageCollectionScheduler(n,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(n,i.localStore)})()}createGarbageCollectionScheduler(n,i){return null}createIndexBackfillerScheduler(n,i){return null}createLocalStore(n){return go(this.persistence,new Wi,n.initialUser,this.serializer)}createPersistence(n){return new tl(nl.Zr,this.serializer)}createSharedClientState(n){return new R}terminate(){var n=this;return(0,c.A)(function*(){var i,s;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(s=n.indexBackfillerScheduler)||void 0===s||s.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Xf extends uu{constructor(n,i,s){super(),this.Wa=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,c.A)(function*(){yield i().call(s,n),yield s.Wa.initialize(s,n),yield Mg(s.Wa.syncEngine),yield Ed(s.Wa.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return go(this.persistence,new Wi,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,i){return new Zu(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}createIndexBackfillerScheduler(n,i){const s=new x(i,this.persistence);return new Z(n.asyncQueue,s)}createPersistence(n){const i=ta(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new xr(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,Ms(),Fa(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new R}}class Ng extends Xf{constructor(n,i){super(n,i,!1),this.Wa=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,c.A)(function*(){yield i().call(s,n);const u=s.Wa.syncEngine;s.sharedClientState instanceof E&&(s.sharedClientState.syncEngine={no:e0.bind(null,u),ro:n0.bind(null,u),io:kv.bind(null,u),Qi:Pg.bind(null,u),eo:xv.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var _=(0,c.A)(function*(C){yield function t0(l,n){return Wd.apply(this,arguments)}(s.Wa.syncEngine,C),s.gcScheduler&&(C&&!s.gcScheduler.started?s.gcScheduler.start():C||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(C&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():C||s.indexBackfillerScheduler.stop())});return function(C){return _.apply(this,arguments)}}())})()}createSharedClientState(n){const i=Ms();if(!E.D(i))throw new de(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ta(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new E(i,n.asyncQueue,s,n.clientId,n.initialUser)}}class xu{initialize(n,i){var s=this;return(0,c.A)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Vf(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Vh.bind(null,s.syncEngine),yield Un(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Dv}createDatastore(n){const i=iu(n.databaseInfo.databaseId),s=new $i(n.databaseInfo);return new zc(n.authCredentials,n.appCheckCredentials,s,i)}createRemoteStore(n){return s=this.localStore,u=this.datastore,_=n.asyncQueue,C=i=>Vf(this.syncEngine,i,0),N=Le.D()?new Le:new se,new Hc(s,u,_,C,N);var s,u,_,C,N}createSyncEngine(n,i){return function(u,_,C,N,B,ie,Ne){const tt=new yg(u,_,C,N,B,ie);return Ne&&(tt.Qa=!0),tt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,c.A)(function*(){var i,s,u;yield(u=(0,c.A)(function*(C){const N=Ze(C);ae("RemoteStore","RemoteStore shutting down."),N.L_.add(5),yield ou(N),N.k_.shutdown(),N.q_.set("Unknown")}),function _(C){return u.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate(),null===(s=n.eventManager)||void 0===s||s.terminate()})()}}function Ad(l,n=10240){let i=0;return{read:()=>(0,c.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class gs{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ga(this.observer.next,n)}error(n){this.observer.error?this.Ga(this.observer.error,n):Et("Uncaught Error in snapshot listener:",n.toString())}za(){this.muted=!0}Ga(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class o0{constructor(n,i){this.ja=n,this.serializer=i,this.metadata=new Se,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.ja.cancel()}getMetadata(){var n=this;return(0,c.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,c.A)(function*(){return yield n.getMetadata(),n.Ja()})()}Ja(){var n=this;return(0,c.A)(function*(){const i=yield n.Ya();if(null===i)return null;const s=n.Ha.decode(i),u=Number(s);isNaN(u)&&n.Za(`length string (${s}) is not valid number`);const _=yield n.Xa(u);return new gg(JSON.parse(_),i.length+u)})()}eu(){return this.buffer.findIndex(n=>123===n)}Ya(){var n=this;return(0,c.A)(function*(){for(;n.eu()<0&&!(yield n.tu()););if(0===n.buffer.length)return null;const i=n.eu();i<0&&n.Za("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}Xa(n){var i=this;return(0,c.A)(function*(){for(;i.buffer.length<n;)(yield i.tu())&&i.Za("Reached the end of bundle when more is expected.");const s=i.Ha.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}Za(n){throw this.ja.cancel(),new Error(`Invalid bundle format: ${n}`)}tu(){var n=this;return(0,c.A)(function*(){const i=yield n.ja.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class Lv{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,c.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new de(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,c.A)(function*(C,N){const B=Ze(C),ie={documents:N.map(an=>Io(B.serializer,an))},Ne=yield B.Lo("BatchGetDocuments",B.serializer.databaseId,At.emptyPath(),ie,N.length),tt=new Map;Ne.forEach(an=>{const Fn=function cd(l,n){return"found"in n?function(s,u){Ft(!!u.found);const _=Us(s,u.found.name),C=Lo(u.found.updateTime),N=u.found.createTime?Lo(u.found.createTime):bn.min(),B=new ur({mapValue:{fields:u.found.fields}});return Or.newFoundDocument(_,C,N,B)}(l,n):"missing"in n?function(s,u){Ft(!!u.missing),Ft(!!u.readTime);const _=Us(s,u.missing),C=Lo(u.readTime);return Or.newNoDocument(_,C)}(l,n):Ht()}(B.serializer,an);tt.set(Fn.key.toString(),Fn)});const Rt=[];return N.forEach(an=>{const Fn=tt.get(an.toString());Ft(!!Fn),Rt.push(Fn)}),Rt}),function _(C,N){return u.apply(this,arguments)})(i.datastore,n);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new Ls(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,c.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const _=ln.fromPath(u);n.mutations.push(new vu(_,n.precondition(_)))}),yield(s=(0,c.A)(function*(_,C){const N=Ze(_),B={writes:C.map(ie=>hl(N.serializer,ie))};yield N.Mo("Commit",N.serializer.databaseId,At.emptyPath(),B)}),function u(_,C){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Ht();i=bn.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new de(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(bn.min())?ro.exists(!1):ro.updateTime(i):ro.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(bn.min()))throw new de(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ro.updateTime(i)}return ro.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Og{constructor(n,i,s,u,_){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=_,this.nu=s.maxAttempts,this.t_=new rc(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var n=this;this.t_.Go((0,c.A)(function*(){const i=new Lv(n.datastore),s=n.su(i);s&&s.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(_=>{n.ou(_)}))}).catch(u=>{n.ou(u)})}))}su(n){try{const i=this.updateFunction(n);return!pe(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ou(n){this.nu>0&&this._u(n)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(n)}_u(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!qn(i)}return!1}}class s0{constructor(n,i,s,u){var _=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Te.UNAUTHENTICATED,this.clientId=gr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var C=(0,c.A)(function*(N){ae("FirestoreClient","Received user=",N.uid),yield _.authCredentialListener(N),_.user=N});return function(N){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(s,C=>(ae("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Se;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=bl(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Bh(l,n){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,c.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,c.A)(function*(_){s.isEqual(_)||(yield Bo(n.localStore,_),s=_)});return function(_){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),Gd.apply(this,arguments)}function xg(l,n){return qf.apply(this,arguments)}function qf(){return(qf=(0,c.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield Kd(l);ae("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>wn(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>wn(n.remoteStore,u)),l._onlineComponents=n})).apply(this,arguments)}function Qf(l){return"FirebaseError"===l.name?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Kd(l){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,c.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bh(l,l._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!Qf(i))throw i;Xt("Error using user provided cache. Falling back to memory cache: "+i),yield Bh(l,new uu)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield Bh(l,new uu);return l._offlineComponents})).apply(this,arguments)}function Jf(l){return kg.apply(this,arguments)}function kg(){return(kg=(0,c.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield xg(l,l._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield xg(l,new xu))),l._onlineComponents})).apply(this,arguments)}function Fv(l){return Kd(l).then(n=>n.persistence)}function Td(l){return Kd(l).then(n=>n.localStore)}function Vv(l){return Jf(l).then(n=>n.remoteStore)}function Zf(l){return Jf(l).then(n=>n.syncEngine)}function Xd(l){return $v.apply(this,arguments)}function $v(){return($v=(0,c.A)(function*(l){const n=yield Jf(l),i=n.eventManager;return i.onListen=Qy.bind(null,n.syncEngine),i.onUnlisten=Mv.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=Id.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=Nh.bind(null,n.syncEngine),i})).apply(this,arguments)}function a0(l,n,i={}){const s=new Se;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(_,C,N,B,ie){const Ne=new gs({next:Rt=>{C.enqueueAndForget(()=>Ll(_,tt));const an=Rt.docs.has(N);!an&&Rt.fromCache?ie.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):an&&Rt.fromCache&&B&&"server"===B.source?ie.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ie.resolve(Rt)},error:Rt=>ie.reject(Rt)}),tt=new Ph(Cs(N.path),Ne,{includeMetadataChanges:!0,_a:!0});return Nu(_,tt)}(yield Xd(l),l.asyncQueue,n,i,s)})),s.promise}function u0(l,n,i={}){const s=new Se;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(_,C,N,B,ie){const Ne=new gs({next:Rt=>{C.enqueueAndForget(()=>Ll(_,tt)),Rt.fromCache&&"server"===B.source?ie.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ie.resolve(Rt)},error:Rt=>ie.reject(Rt)}),tt=new Ph(N,Ne,{includeMetadataChanges:!0,_a:!0});return Nu(_,tt)}(yield Xd(l),l.asyncQueue,n,i,s)})),s.promise}function Xc(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const h0=new Map;function Fg(l,n,i){if(!i)throw new de(ee.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function ku(l,n,i,s){if(!0===n&&!0===s)throw new de(ee.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function zh(l){if(!ln.isDocumentKey(l))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Vg(l){if(ln.isDocumentKey(l))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Hh(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":Ht()}function Xi(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hh(l);throw new de(ee.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function ep(l,n){if(n<=0)throw new de(ee.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class Wh{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}ku("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xc(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Gh{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wh(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new Be;switch(s.type){case"firstParty":return new Vt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=h0.get(i);s&&(ae("ComponentProvider","Removing Datastore"),h0.delete(i),s.terminate())}(this),Promise.resolve()}}function Go(l,n,i,s={}){var u;const _=(l=Xi(l,Gh))._getSettings(),C=`${n}:${i}`;if("firestore.googleapis.com"!==_.host&&_.host!==C&&Xt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},_),{host:C,ssl:!1})),s.mockUserToken){let N,B;if("string"==typeof s.mockUserToken)N=s.mockUserToken,B=Te.MOCK_USER;else{N=(0,ce.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const ie=s.mockUserToken.sub||s.mockUserToken.user_id;if(!ie)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Te(ie)}l._authCredentials=new Ke(new he(N,B))}}class va{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new va(this.firestore,n,this._query)}}class Yo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Yo(this.firestore,n,this._key)}}class oc extends va{constructor(n,i,s){super(n,i,Cs(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Yo(this.firestore,null,new ln(n))}withConverter(n){return new oc(this.firestore,n,this._path)}}function f0(l,n,...i){if(l=(0,ce.Ku)(l),Fg("collection","path",n),l instanceof Gh){const s=At.fromString(n,...i);return Vg(s),new oc(l,null,s)}{if(!(l instanceof Yo||l instanceof oc))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(At.fromString(n,...i));return Vg(s),new oc(l.firestore,null,s)}}function Ug(l,n){if(l=Xi(l,Gh),Fg("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new va(l,null,(s=n,new Yi(At.emptyPath(),s)));var s}function $g(l,n,...i){if(l=(0,ce.Ku)(l),1===arguments.length&&(n=gr.newId()),Fg("doc","path",n),l instanceof Gh){const s=At.fromString(n,...i);return zh(s),new Yo(l,null,new ln(s))}{if(!(l instanceof Yo||l instanceof oc))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(At.fromString(n,...i));return zh(s),new Yo(l.firestore,l instanceof oc?l.converter:null,new ln(s))}}function Wv(l,n){return l=(0,ce.Ku)(l),n=(0,ce.Ku)(n),(l instanceof Yo||l instanceof oc)&&(n instanceof Yo||n instanceof oc)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function Kh(l,n){return l=(0,ce.Ku)(l),n=(0,ce.Ku)(n),l instanceof va&&n instanceof va&&l.firestore===n.firestore&&L(l._query,n._query)&&l.converter===n.converter}class p0{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new rc(this,"async_queue_retry"),this.Eu=()=>{const i=Fa();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()};const n=Fa();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.du(),this.Au(n)}enterRestrictedMode(n){if(!this.cu){this.cu=!0,this.Iu=n||!1;const i=Fa();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Eu)}}enqueue(n){if(this.du(),this.cu)return new Promise(()=>{});const i=new Se;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.uu.push(n),this.Ru()))}Ru(){var n=this;return(0,c.A)(function*(){if(0!==n.uu.length){try{yield n.uu[0](),n.uu.shift(),n.t_.reset()}catch(i){if(!Yt(i))throw i;ae("AsyncQueue","Operation failed with retryable error: "+i)}n.uu.length>0&&n.t_.Go(()=>n.Ru())}})()}Au(n){const i=this.au.then(()=>(this.Pu=!0,n().catch(s=>{throw this.hu=s,this.Pu=!1,Et("INTERNAL UNHANDLED ERROR: ",function(C){let N=C.message||"";return C.stack&&(N=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),N}(s)),s}).then(s=>(this.Pu=!1,s))));return this.au=i,i}enqueueAfterDelay(n,i,s){this.du(),this.Tu.indexOf(n)>-1&&(i=0);const u=ss.createAndSchedule(this,n,i,s,_=>this.Vu(_));return this.lu.push(u),u}du(){this.hu&&Ht()}verifyOperationInProgress(){}mu(){var n=this;return(0,c.A)(function*(){let i;do{i=n.au,yield i}while(i!==n.au)})()}fu(n){for(const i of this.lu)if(i.timerId===n)return!0;return!1}gu(n){return this.mu().then(()=>{this.lu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.lu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.mu()})}pu(n){this.Tu.push(n)}Vu(n){const i=this.lu.indexOf(n);this.lu.splice(i,1)}}function Bg(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const _ of["next","error","complete"])if(_ in u&&"function"==typeof u[_])return!0;return!1}(l)}class Gv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Se,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}const g0=-1;class eo extends Gh{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new p0,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||m0(this),this._firestoreClient.terminate()}}function Kv(l,n){const i="object"==typeof l?l:(0,p.getApp)(),s="string"==typeof l?l:n||"(default)",u=(0,p._getProvider)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const _=(0,ce.yU)("firestore");_&&Go(u,..._)}return u}function as(l){return l._firestoreClient||m0(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function m0(l){var n,i,s;const u=l._freezeSettings(),_=(B=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new _s(l._databaseId,B,l._persistenceKey,(Ne=u).host,Ne.ssl,Ne.experimentalForceLongPolling,Ne.experimentalAutoDetectLongPolling,Xc(Ne.experimentalLongPollingOptions),Ne.useFetchStreams));var B,Ne;l._firestoreClient=new s0(l._authCredentials,l._appCheckCredentials,l._queue,_),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function zI(l,n){qv(l=Xi(l,eo));const i=as(l);if(i._uninitializedComponentsProvider)throw new de(ee.FAILED_PRECONDITION,"SDK cache is already specified.");Xt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),u=new xu;return v0(i,u,new Xf(u,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}function HI(l){qv(l=Xi(l,eo));const n=as(l);if(n._uninitializedComponentsProvider)throw new de(ee.FAILED_PRECONDITION,"SDK cache is already specified.");Xt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings(),s=new xu;return v0(n,s,new Ng(s,i.cacheSizeBytes))}function v0(l,n,i){const s=new Se;return l.asyncQueue.enqueue((0,c.A)(function*(){try{yield Bh(l,i),yield xg(l,n),s.resolve()}catch(u){const _=u;if(!Qf(_))throw _;Xt("Error enabling indexeddb cache. Falling back to memory cache: "+_),s.reject(_)}})).then(()=>s.promise)}function _0(l){if(l._initialized&&!l._terminated)throw new de(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Se;return l._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(i=(0,c.A)(function*(u){if(!mr.D())return Promise.resolve();const _=u+"main";yield mr.delete(_)}),function s(u){return i.apply(this,arguments)})(ta(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}function qd(l){return function(i){const s=new Se;return i.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Tg(l,n){return $f.apply(this,arguments)}(yield Zf(i),s)})),s.promise}(as(l=Xi(l,eo)))}function Xh(l){return function Bv(l){return l.asyncQueue.enqueue((0,c.A)(function*(){const n=yield Fv(l),i=yield Vv(l);return n.setNetworkEnabled(!0),function(u){const _=Ze(u);return _.L_.delete(0),ol(_)}(i)}))}(as(l=Xi(l,eo)))}function Xv(l){return function jv(l){return l.asyncQueue.enqueue((0,c.A)(function*(){const n=yield Fv(l),i=yield Vv(l);return n.setNetworkEnabled(!1),(s=(0,c.A)(function*(_){const C=Ze(_);C.L_.add(0),yield ou(C),C.q_.set("Offline")}),function u(_){return s.apply(this,arguments)})(i);var s}))}(as(l=Xi(l,eo)))}function jg(l,n){const i=as(l=Xi(l,eo)),s=new Gv;return function Lg(l,n,i,s){const u=function(C,N){let B;return B="string"==typeof C?gi().encode(C):C,Ne=function(Ne){if(Ne instanceof Uint8Array)return Ad(Ne,void 0);if(Ne instanceof ArrayBuffer)return Ad(new Uint8Array(Ne),void 0);if(Ne instanceof ReadableStream)return Ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new o0(Ne,N);var Ne}(i,iu(n));l.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function Kf(l,n,i){const s=Ze(l);var u;(u=(0,c.A)(function*(C,N,B){try{const ie=yield N.getMetadata();if(yield function(Fn,Jn){const Yn=Ze(Fn),$r=Lo(Jn.createTime);return Yn.persistence.runTransaction("hasNewerBundle","readonly",Zr=>Yn.Gr.getBundleMetadata(Zr,Jn.id)).then(Zr=>!!Zr&&Zr.createTime.compareTo($r)>=0)}(C.localStore,ie))return yield N.close(),B._completeWith({taskState:"Success",documentsLoaded:(Fn=ie).totalDocuments,bytesLoaded:Fn.totalBytes,totalDocuments:Fn.totalDocuments,totalBytes:Fn.totalBytes}),Promise.resolve(new Set);B._updateProgress(mg(ie));const Ne=new qy(ie,C.localStore,N.serializer);let tt=yield N.Ua();for(;tt;){const an=yield Ne.la(tt);an&&B._updateProgress(an),tt=yield N.Ua()}const Rt=yield Ne.complete();return yield Fl(C,Rt.Ia,void 0),yield function(Fn,Jn){const Yn=Ze(Fn);return Yn.persistence.runTransaction("Save bundle","readwrite",$r=>Yn.Gr.saveBundleMetadata($r,Jn))}(C.localStore,ie),B._completeWith(Rt.progress),Promise.resolve(Rt.Pa)}catch(ie){return Xt("SyncEngine",`Loading bundle failed with ${ie}`),B._failWith(ie),Promise.resolve(new Set)}var Fn}),function _(C,N,B){return u.apply(this,arguments)})(s,n,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Zf(l),u,s)}))}(i,l._databaseId,n,s),s}function qh(l,n){return function Hv(l,n){return l.asyncQueue.enqueue((0,c.A)(function*(){return function(s,u){const _=Ze(s);return _.persistence.runTransaction("Get named query","readonly",C=>_.Gr.getNamedQuery(C,u))}(yield Td(l),n)}))}(as(l=Xi(l,eo)),n).then(i=>i?new va(l,null,i.query):null)}function qv(l){if(l._initialized||l._terminated)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new cu(Ir.fromBase64String(n))}catch(i){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new cu(Ir.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class du{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Ic{constructor(n){this._methodName=n}}class tp{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Kn(this._lat,n._lat)||Kn(this._long,n._long)}}class np{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let _=0;_<s.length;++_)if(s[_]!==u[_])return!1;return!0}(this._values,n._values)}}const E0=/^__.*__$/;class Yv{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Cn(n,this.data,this.fieldMask,i,this.fieldTransforms):new rs(n,this.data,i,this.fieldTransforms)}}class rp{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Cn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function Jv(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class _a{constructor(n,i,s,u,_,C){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===_&&this.yu(),this.fieldTransforms=_||[],this.fieldMask=C||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(n){return new _a(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:s,Du:!1});return u.vu(n),u}Cu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:s,Du:!1});return u.yu(),u}Fu(n){return this.Su({path:void 0,Du:!0})}Mu(n){return Yh(n,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}yu(){if(this.path)for(let n=0;n<this.path.length;n++)this.vu(this.path.get(n))}vu(n){if(0===n.length)throw this.Mu("Document fields must not be empty");if(Jv(this.wu)&&E0.test(n))throw this.Mu('Document fields cannot begin and end with "__"')}}class zg{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||iu(n)}Nu(n,i,s,u=!1){return new _a({wu:n,methodName:i,Ou:s,path:vn.emptyPath(),Du:!1,xu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qc(l){const n=l._freezeSettings(),i=iu(l._databaseId);return new zg(l._databaseId,!!n.ignoreUndefinedProperties,i)}function Dd(l,n,i,s,u,_={}){const C=l.Nu(_.merge||_.mergeFields?2:0,n,i,u);Gg("Data must be an object, but it was:",C,s);const N=e_(s,C);let B,ie;if(_.merge)B=new nr(C.fieldMask),ie=C.fieldTransforms;else if(_.mergeFields){const Ne=[];for(const tt of _.mergeFields){const Rt=Qh(n,tt,i);if(!C.contains(Rt))throw new de(ee.INVALID_ARGUMENT,`Field '${Rt}' is specified in your field mask but missing from your input data.`);Kg(Ne,Rt)||Ne.push(Rt)}B=new nr(Ne),ie=C.fieldTransforms.filter(tt=>B.covers(tt.field))}else B=null,ie=C.fieldTransforms;return new Yv(new ur(N),B,ie)}class ip extends Ic{_toFieldTransform(n){if(2!==n.wu)throw n.Mu(1===n.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof ip}}function I0(l,n,i){return new _a({wu:3,Ou:n.settings.Ou,methodName:l._methodName,Du:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class na extends Ic{_toFieldTransform(n){return new Ks(n.path,new Ka)}isEqual(n){return n instanceof na}}class Qc extends Ic{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=I0(this,n,!0),s=this.Lu.map(_=>Yc(_,i)),u=new Ts(s);return new Ks(n.path,u)}isEqual(n){return n instanceof Qc&&(0,ce.bD)(this.Lu,n.Lu)}}class op extends Ic{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=I0(this,n,!0),s=this.Lu.map(_=>Yc(_,i)),u=new ca(s);return new Ks(n.path,u)}isEqual(n){return n instanceof op&&(0,ce.bD)(this.Lu,n.Lu)}}class sp extends Ic{constructor(n,i){super(n),this.Bu=i}_toFieldTransform(n){const i=new ks(n.serializer,Ml(n.serializer,this.Bu));return new Ks(n.path,i)}isEqual(n){return n instanceof sp&&this.Bu===n.Bu}}function Hg(l,n,i,s){const u=l.Nu(1,n,i);Gg("Data must be an object, but it was:",u,s);const _=[],C=ur.empty();dt(s,(B,ie)=>{const Ne=lp(n,B,i);ie=(0,ce.Ku)(ie);const tt=u.Cu(Ne);if(ie instanceof ip)_.push(Ne);else{const Rt=Yc(ie,tt);null!=Rt&&(_.push(Ne),C.set(Ne,Rt))}});const N=new nr(_);return new rp(C,N,u.fieldTransforms)}function ap(l,n,i,s,u,_){const C=l.Nu(1,n,i),N=[Qh(n,s,i)],B=[u];if(_.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Rt=0;Rt<_.length;Rt+=2)N.push(Qh(n,_[Rt])),B.push(_[Rt+1]);const ie=[],Ne=ur.empty();for(let Rt=N.length-1;Rt>=0;--Rt)if(!Kg(ie,N[Rt])){const an=N[Rt];let Fn=B[Rt];Fn=(0,ce.Ku)(Fn);const Jn=C.Cu(an);if(Fn instanceof ip)ie.push(an);else{const Yn=Yc(Fn,Jn);null!=Yn&&(ie.push(an),Ne.set(an,Yn))}}const tt=new nr(ie);return new rp(Ne,tt,C.fieldTransforms)}function Zv(l,n,i,s=!1){return Yc(i,l.Nu(s?4:3,n))}function Yc(l,n){if(Wg(l=(0,ce.Ku)(l)))return Gg("Unsupported field value:",n,l),e_(l,n);if(l instanceof Ic)return function(s,u){if(!Jv(u.wu))throw u.Mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Mu(`${s._methodName}() is not currently supported inside arrays`);const _=s._toFieldTransform(u);_&&u.fieldTransforms.push(_)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.Du&&4!==n.wu)throw n.Mu("Nested arrays are not supported");return function(s,u){const _=[];let C=0;for(const N of s){let B=Yc(N,u.Fu(C));null==B&&(B={nullValue:"NULL_VALUE"}),_.push(B),C++}return{arrayValue:{values:_}}}(l,n)}return function(s,u){if(null===(s=(0,ce.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ml(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const _=Bn.fromDate(s);return{timestampValue:is(u.serializer,_)}}if(s instanceof Bn){const _=new Bn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:is(u.serializer,_)}}if(s instanceof tp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof cu)return{bytesValue:Hu(u.serializer,s._byteString)};if(s instanceof Yo){const _=u.databaseId,C=s.firestore._databaseId;if(!C.isEqual(_))throw u.Mu(`Document reference is for database ${C.projectId}/${C.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:yu(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof np)return N=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(B=>{if("number"!=typeof B)throw N.Mu("VectorValues must only contain numeric values.");return Lr(N.serializer,B)})}}}}};var N;throw u.Mu(`Unsupported field value: ${Hh(s)}`)}(l,n)}function e_(l,n){const i={};return rn(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):dt(l,(s,u)=>{const _=Yc(u,n.bu(s));null!=_&&(i[s]=_)}),{mapValue:{fields:i}}}function Wg(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Bn||l instanceof tp||l instanceof cu||l instanceof Yo||l instanceof Ic||l instanceof np)}function Gg(l,n,i){if(!Wg(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Hh(i);throw n.Mu("an object"===s?l+" a custom object":l+" "+s)}var u}function Qh(l,n,i){if((n=(0,ce.Ku)(n))instanceof du)return n._internalPath;if("string"==typeof n)return lp(l,n);throw Yh("Field path arguments must be of type string or ",l,!1,void 0,i)}const C0=new RegExp("[~\\*/\\[\\]]");function lp(l,n,i){if(n.search(C0)>=0)throw Yh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new du(...n.split("."))._internalPath}catch{throw Yh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Yh(l,n,i,s,u){const _=s&&!s.isEmpty(),C=void 0!==u;let N=`Function ${n}() called with invalid data`;i&&(N+=" (via `toFirestore()`)"),N+=". ";let B="";return(_||C)&&(B+=" (found",_&&(B+=` in field ${s}`),C&&(B+=` in document ${u}`),B+=")"),new de(ee.INVALID_ARGUMENT,N+l+B)}function Kg(l,n){return l.some(i=>i.isEqual(n))}class Qd{constructor(n,i,s,u,_){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Yo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new up(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Jh("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class up extends Qd{data(){return super.data()}}function Jh(l,n){return"string"==typeof n?lp(l,n):n instanceof du?n._internalPath:n._delegate._internalPath}function Xg(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class Yd extends cp{}function A0(l,n,...i){let s=[];n instanceof cp&&s.push(n),s=s.concat(i),function(_){const C=_.filter(B=>B instanceof Jd).length,N=_.filter(B=>B instanceof Zh).length;if(C>1||C>0&&N>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class Zh extends Yd{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Zh(n,i,s)}_apply(n){const i=this._parse(n);return M0(n._query,i),new va(n.firestore,n.converter,Ko(n._query,i))}_parse(n){const i=qc(n.firestore);return function(_,C,N,B,ie,Ne,tt){let Rt;if(ie.isKeyField()){if("array-contains"===Ne||"array-contains-any"===Ne)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ne}' queries on documentId().`);if("in"===Ne||"not-in"===Ne){P0(tt,Ne);const an=[];for(const Fn of tt)an.push(tf(B,_,Fn));Rt={arrayValue:{values:an}}}else Rt=tf(B,_,tt)}else"in"!==Ne&&"not-in"!==Ne&&"array-contains-any"!==Ne||P0(tt,Ne),Rt=Zv(N,"where",tt,"in"===Ne||"not-in"===Ne);return pr.create(ie,Ne,Rt)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function T0(l,n,i){const s=n,u=Jh("where",l);return Zh._create(u,s,i)}class Jd extends cp{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Jd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:li.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,_){let C=u;const N=_.getFlattenedFilters();for(const B of N)M0(C,B),C=Ko(C,B)}(n._query,i),new va(n.firestore,n.converter,Ko(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dp extends Yd{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new dp(n,i)}_apply(n){const i=function(u,_,C){if(null!==u.startAt)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jo(_,C)}(n._query,this._field,this._direction);return new va(n.firestore,n.converter,function(u,_){const C=u.explicitOrderBy.concat([_]);return new Yi(u.path,u.collectionGroup,C,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}function D0(l,n="asc"){const i=n,s=Jh("orderBy",l);return dp._create(s,i)}class hp extends Yd{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new hp(n,i,s)}_apply(n){return new va(n.firestore,n.converter,Y(n._query,this._limit,this._limitType))}}function GI(l){return ep("limit",l),hp._create("limit",l,"F")}function w0(l){return ep("limitToLast",l),hp._create("limitToLast",l,"L")}class ef extends Yd{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new ef(n,i,s)}_apply(n){const i=Qg(n,this.type,this._docOrFields,this._inclusive);return new va(n.firestore,n.converter,(_=i,new Yi((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,_,u.endAt)));var u,_}}function qg(...l){return ef._create("startAt",l,!0)}function S0(...l){return ef._create("startAfter",l,!1)}class Lu extends Yd{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Lu(n,i,s)}_apply(n){const i=Qg(n,this.type,this._docOrFields,this._inclusive);return new va(n.firestore,n.converter,(_=i,new Yi((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,_)));var u,_}}function fp(...l){return Lu._create("endBefore",l,!1)}function R0(...l){return Lu._create("endAt",l,!0)}function Qg(l,n,i,s){if(i[0]=(0,ce.Ku)(i[0]),i[0]instanceof Qd)return function(_,C,N,B,ie){if(!B)throw new de(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${N}().`);const Ne=[];for(const tt of oa(_))if(tt.field.isKeyField())Ne.push(ei(C,B.key));else{const Rt=B.data.field(tt.field);if(co(Rt))throw new de(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+tt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Rt){const an=tt.field.canonicalString();throw new de(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${an}' (used as the orderBy) does not exist.`)}Ne.push(Rt)}return new qr(Ne,ie)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const u=qc(l.firestore);return function(C,N,B,ie,Ne,tt){const Rt=C.explicitOrderBy;if(Ne.length>Rt.length)throw new de(ee.INVALID_ARGUMENT,`Too many arguments provided to ${ie}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const an=[];for(let Fn=0;Fn<Ne.length;Fn++){const Jn=Ne[Fn];if(Rt[Fn].field.isKeyField()){if("string"!=typeof Jn)throw new de(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ie}(), but got a ${typeof Jn}`);if(!Po(C)&&-1!==Jn.indexOf("/"))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ie}() must be a plain document ID, but '${Jn}' contains a slash.`);const Yn=C.path.child(At.fromString(Jn));if(!ln.isDocumentKey(Yn))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ie}() must result in a valid document path, but '${Yn}' is not because it contains an odd number of segments.`);const $r=new ln(Yn);an.push(ei(N,$r))}else{const Yn=Zv(B,ie,Jn);an.push(Yn)}}return new qr(an,tt)}(l._query,l.firestore._databaseId,u,n,i,s)}}function tf(l,n,i){if("string"==typeof(i=(0,ce.Ku)(i))){if(""===i)throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Po(n)&&-1!==i.indexOf("/"))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(At.fromString(i));if(!ln.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ei(l,new ln(s))}if(i instanceof Yo)return ei(l,i._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(i)}.`)}function P0(l,n){if(!Array.isArray(l)||0===l.length)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function M0(l,n){const i=function(u,_){for(const C of u)for(const N of C.getFlattenedFilters())if(_.indexOf(N.op)>=0)return N.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new de(ee.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class Yg{convertValue(n,i="none"){switch(Vo(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Ci(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(oo(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Ht()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return dt(n,(u,_)=>{s[u]=this.convertValue(_,i)}),s}convertVectorValue(n){var i,s,u;const _=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(C=>Ci(C.doubleValue));return new np(_)}convertGeoPoint(n){return new tp(Ci(n.latitude),Ci(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=xo(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(vo(n));default:return null}}convertTimestamp(n){const i=Ni(n);return new Bn(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=At.fromString(n);Ft(Oc(s));const u=new ho(s.get(1),s.get(3)),_=new ln(s.popFirst(5));return u.isEqual(i)||Et(`Document ${_} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),_}}function pp(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class KI extends Yg{constructor(n){super(),this.firestore=n}convertBytes(n){return new cu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Yo(this.firestore,null,i)}}class hu{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Fu extends Qd{constructor(n,i,s,u,_,C){super(n,i,s,u,C),this._firestore=n,this._firestoreImpl=n,this.metadata=_}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Jh("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Jc extends Fu{data(n={}){return super.data(n)}}class fu{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new hu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new Jc(this._firestore,this._userDataWriter,s.key,s,new hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,_){if(u._snapshot.oldDocs.isEmpty()){let C=0;return u._snapshot.docChanges.map(N=>({type:"added",doc:new Jc(u._firestore,u._userDataWriter,N.doc.key,N.doc,new hu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:C++}))}{let C=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(N=>_||3!==N.type).map(N=>{const B=new Jc(u._firestore,u._userDataWriter,N.doc.key,N.doc,new hu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter);let ie=-1,Ne=-1;return 0!==N.type&&(ie=C.indexOf(N.doc.key),C=C.delete(N.doc.key)),1!==N.type&&(C=C.add(N.doc),Ne=C.indexOf(N.doc.key)),{type:nf(N.type),doc:B,oldIndex:ie,newIndex:Ne}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function nf(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function Zd(l,n){return l instanceof Fu&&n instanceof Fu?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof fu&&n instanceof fu&&l._firestore===n._firestore&&Kh(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}function Zg(l){l=Xi(l,Yo);const n=Xi(l.firestore,eo);return a0(as(n),l._key).then(i=>nm(n,l,i))}class pu extends Yg{constructor(n){super(),this.firestore=n}convertBytes(n){return new cu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Yo(this.firestore,null,i)}}function eh(l){l=Xi(l,Yo);const n=Xi(l.firestore,eo),i=as(n),s=new pu(n);return function $a(l,n){const i=new Se;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(_,C,N){try{const B=yield function(Ne,tt){const Rt=Ze(Ne);return Rt.persistence.runTransaction("read document","readonly",an=>Rt.localDocuments.getDocument(an,tt))}(_,C);B.isFoundDocument()?N.resolve(B):B.isNoDocument()?N.resolve(null):N.reject(new de(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const ie=bl(B,`Failed to get document '${C} from cache`);N.reject(ie)}}),function u(_,C,N){return s.apply(this,arguments)})(yield Td(l),n,i);var s})),i.promise}(i,l._key).then(u=>new Fu(n,s,l._key,u,new hu(null!==u&&u.hasLocalMutations,!0),l.converter))}function gp(l){l=Xi(l,Yo);const n=Xi(l.firestore,eo);return a0(as(n),l._key,{source:"server"}).then(i=>nm(n,l,i))}function XI(l){l=Xi(l,va);const n=Xi(l.firestore,eo),i=as(n),s=new pu(n);return Xg(l._query),u0(i,l._query).then(u=>new fu(n,s,l,u))}function em(l){l=Xi(l,va);const n=Xi(l.firestore,eo),i=as(n),s=new pu(n);return function l0(l,n){const i=new Se;return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(_,C,N){try{const B=yield nc(_,C,!0),ie=new _g(C,B.Ts),Ne=ie.ma(B.documents),tt=ie.applyChanges(Ne,!1);N.resolve(tt.snapshot)}catch(B){const ie=bl(B,`Failed to execute query '${C} against cache`);N.reject(ie)}}),function u(_,C,N){return s.apply(this,arguments)})(yield Td(l),n,i);var s})),i.promise}(i,l._query).then(u=>new fu(n,s,l,u))}function rf(l){l=Xi(l,va);const n=Xi(l.firestore,eo),i=as(n),s=new pu(n);return u0(i,l._query,{source:"server"}).then(u=>new fu(n,s,l,u))}function O0(l,n,i){l=Xi(l,Yo);const s=Xi(l.firestore,eo),u=pp(l.converter,n,i);return th(s,[Dd(qc(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,ro.none())])}function i_(l,n,i,...s){l=Xi(l,Yo);const u=Xi(l.firestore,eo),_=qc(u);let C;return C="string"==typeof(n=(0,ce.Ku)(n))||n instanceof du?ap(_,"updateDoc",l._key,n,i,s):Hg(_,"updateDoc",l._key,n),th(u,[C.toMutation(l._key,ro.exists(!0))])}function x0(l){return th(Xi(l.firestore,eo),[new Ls(l._key,ro.none())])}function k0(l,n){const i=Xi(l.firestore,eo),s=$g(l),u=pp(l.converter,n);return th(i,[Dd(qc(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,ro.exists(!1))]).then(()=>s)}function tm(l,...n){var i,s,u;l=(0,ce.Ku)(l);let _={includeMetadataChanges:!1,source:"default"},C=0;"object"!=typeof n[C]||Bg(n[C])||(_=n[C],C++);const N={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(Bg(n[C])){const tt=n[C];n[C]=null===(i=tt.next)||void 0===i?void 0:i.bind(tt),n[C+1]=null===(s=tt.error)||void 0===s?void 0:s.bind(tt),n[C+2]=null===(u=tt.complete)||void 0===u?void 0:u.bind(tt)}let B,ie,Ne;if(l instanceof Yo)ie=Xi(l.firestore,eo),Ne=Cs(l._key.path),B={next:tt=>{n[C]&&n[C](nm(ie,l,tt))},error:n[C+1],complete:n[C+2]};else{const tt=Xi(l,va);ie=Xi(tt.firestore,eo),Ne=tt._query;const Rt=new pu(ie);B={next:an=>{n[C]&&n[C](new fu(ie,Rt,tt,an))},error:n[C+1],complete:n[C+2]},Xg(l._query)}return function(Rt,an,Fn,Jn){const Yn=new gs(Jn),$r=new Ph(an,Yn,Fn);return Rt.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Nu(yield Xd(Rt),$r)})),()=>{Yn.za(),Rt.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Ll(yield Xd(Rt),$r)}))}}(as(ie),Ne,N,B)}function o_(l,n){return function BI(l,n){const i=new gs(n);return l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield Xd(l),_=i,Ze(u).Y_.add(_),void _.next();var u,_})),()=>{i.za(),l.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield Xd(l),_=i,void Ze(u).Y_.delete(_);var u,_}))}}(as(l=Xi(l,eo)),Bg(n)?n:{next:n})}function th(l,n){return function(s,u){const _=new Se;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Yy(l,n,i){return zd.apply(this,arguments)}(yield Zf(s),u,_)})),_.promise}(as(l),n)}function nm(l,n,i){const s=i.docs.get(n._key),u=new pu(l);return new Fu(l,u,n._key,s,new hu(i.hasPendingWrites,i.fromCache),n.converter)}const d_={maxAttempts:5};class Zc{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=qc(n)}set(n,i,s){this._verifyNotCommitted();const u=Cc(n,this._firestore),_=pp(u.converter,i,s),C=Dd(this._dataReader,"WriteBatch.set",u._key,_,null!==u.converter,s);return this._mutations.push(C.toMutation(u._key,ro.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const _=Cc(n,this._firestore);let C;return C="string"==typeof(i=(0,ce.Ku)(i))||i instanceof du?ap(this._dataReader,"WriteBatch.update",_._key,i,s,u):Hg(this._dataReader,"WriteBatch.update",_._key,i),this._mutations.push(C.toMutation(_._key,ro.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Cc(n,this._firestore);return this._mutations=this._mutations.concat(new Ls(i._key,ro.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cc(l,n){if((l=(0,ce.Ku)(l)).firestore!==n)throw new de(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class _p extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=qc(i)}get(i){const s=Cc(i,this._firestore),u=new KI(this._firestore);return this._transaction.lookup([s._key]).then(_=>{if(!_||1!==_.length)return Ht();const C=_[0];if(C.isFoundDocument())return new Qd(this._firestore,u,C.key,C,s.converter);if(C.isNoDocument())return new Qd(this._firestore,u,s._key,null,s.converter);throw Ht()})}set(i,s,u){const _=Cc(i,this._firestore),C=pp(_.converter,s,u),N=Dd(this._dataReader,"Transaction.set",_._key,C,null!==_.converter,u);return this._transaction.set(_._key,N),this}update(i,s,u,..._){const C=Cc(i,this._firestore);let N;return N="string"==typeof(s=(0,ce.Ku)(s))||s instanceof du?ap(this._dataReader,"Transaction.update",C._key,s,u,_):Hg(this._dataReader,"Transaction.update",C._key,s),this._transaction.update(C._key,N),this}delete(i){const s=Cc(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Cc(n,this._firestore),s=new pu(this._firestore);return super.get(n).then(u=>new Fu(this._firestore,s,i._key,u._document,new hu(!1,!1),i.converter))}}function h_(l,n,i){l=Xi(l,eo);const s=Object.assign(Object.assign({},d_),i);return function(_){if(_.maxAttempts<1)throw new de(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(_,C,N){const B=new Se;return _.asyncQueue.enqueueAndForget((0,c.A)(function*(){const ie=yield function Uv(l){return Jf(l).then(n=>n.datastore)}(_);new Og(_.asyncQueue,ie,N,C,B).ru()})),B.promise}(as(l),u=>n(new _p(l,u)),s)}function f_(){return new ip("deleteField")}function p_(){return new na("serverTimestamp")}function yp(...l){return new Qc("arrayUnion",l)}function om(...l){return new op("arrayRemove",l)}function g_(l){return new sp("increment",l)}!function(n,i=!0){$e=p.SDK_VERSION,(0,p._registerComponent)(new U.uA("firestore",(s,{instanceIdentifier:u,options:_})=>{const C=s.getProvider("app").getImmediate(),N=new eo(new it(s.getProvider("auth-internal")),new gn(s.getProvider("app-check-internal")),function(ie,Ne){if(!Object.prototype.hasOwnProperty.apply(ie.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(ie.options.projectId,Ne)}(C,u),C);return _=Object.assign({useFetchStreams:i},_),N._setSettings(_),N},"PUBLIC").setMultipleInstances(!0)),(0,p.registerVersion)(Qe,"4.7.1",n),(0,p.registerVersion)(Qe,"4.7.1","esm2017")}()},1076:(Gn,St,k)=>{"use strict";k.d(St,{$L:()=>gn,$g:()=>ee,A4:()=>me,Am:()=>Br,As:()=>ir,Bd:()=>Et,Cv:()=>_r,FA:()=>nt,Fy:()=>ct,HN:()=>br,Hk:()=>U,I9:()=>Tr,Im:()=>sn,K3:()=>Pe,KA:()=>Re,Ku:()=>_t,Ll:()=>ae,OE:()=>Pt,T9:()=>Qe,Tj:()=>Ot,Uj:()=>ot,XA:()=>Te,ZQ:()=>vt,bD:()=>Kt,cY:()=>$e,dI:()=>Pr,eX:()=>he,g:()=>it,gR:()=>Bn,gz:()=>mn,hp:()=>Zn,jZ:()=>Ut,kH:()=>At,kj:()=>_i,lT:()=>Qn,lV:()=>Ht,mS:()=>He,nr:()=>de,oD:()=>rr,od:()=>ri,p7:()=>Xt,qc:()=>Xn,sr:()=>un,tD:()=>kr,u:()=>Ve,vA:()=>p,yU:()=>Tt,yw:()=>bn,zW:()=>Se,zw:()=>We});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},p=function(we,Z){if(!we)throw U(Z)},U=function(we){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+we)},q=function(we){const Z=[];let x=0;for(let W=0;W<we.length;W++){let pe=we.charCodeAt(W);pe<128?Z[x++]=pe:pe<2048?(Z[x++]=pe>>6|192,Z[x++]=63&pe|128):55296==(64512&pe)&&W+1<we.length&&56320==(64512&we.charCodeAt(W+1))?(pe=65536+((1023&pe)<<10)+(1023&we.charCodeAt(++W)),Z[x++]=pe>>18|240,Z[x++]=pe>>12&63|128,Z[x++]=pe>>6&63|128,Z[x++]=63&pe|128):(Z[x++]=pe>>12|224,Z[x++]=pe>>6&63|128,Z[x++]=63&pe|128)}return Z},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,Z){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let pe=0;pe<we.length;pe+=3){const Fe=we[pe],Ct=pe+1<we.length,zt=Ct?we[pe+1]:0,dn=pe+2<we.length,xn=dn?we[pe+2]:0;let Hn=(15&zt)<<2|xn>>6,wr=63&xn;dn||(wr=64,Ct||(Hn=64)),W.push(x[Fe>>2],x[(3&Fe)<<4|zt>>4],x[Hn],x[wr])}return W.join("")},encodeString(we,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(we):this.encodeByteArray(q(we),Z)},decodeString(we,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(we):function(we){const Z=[];let x=0,W=0;for(;x<we.length;){const pe=we[x++];if(pe<128)Z[W++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const Fe=we[x++];Z[W++]=String.fromCharCode((31&pe)<<6|63&Fe)}else if(pe>239&&pe<365){const dn=((7&pe)<<18|(63&we[x++])<<12|(63&we[x++])<<6|63&we[x++])-65536;Z[W++]=String.fromCharCode(55296+(dn>>10)),Z[W++]=String.fromCharCode(56320+(1023&dn))}else{const Fe=we[x++],Ct=we[x++];Z[W++]=String.fromCharCode((15&pe)<<12|(63&Fe)<<6|63&Ct)}}return Z.join("")}(this.decodeStringToByteArray(we,Z))},decodeStringToByteArray(we,Z){this.init_();const x=Z?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let pe=0;pe<we.length;){const Fe=x[we.charAt(pe++)],zt=pe<we.length?x[we.charAt(pe)]:0;++pe;const xn=pe<we.length?x[we.charAt(pe)]:64;++pe;const yn=pe<we.length?x[we.charAt(pe)]:64;if(++pe,null==Fe||null==zt||null==xn||null==yn)throw new ke;W.push(Fe<<2|zt>>4),64!==xn&&(W.push(zt<<4&240|xn>>2),64!==yn&&W.push(xn<<6&192|yn))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(we){const Z=q(we);return Pe.encodeByteArray(Z,!0)},ot=function(we){return Re(we).replace(/\./g,"")},Ve=function(we){try{return Pe.decodeString(we,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function me(we){return We(void 0,we)}function We(we,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return Z}for(const x in Z)!Z.hasOwnProperty(x)||!Ye(x)||(we[x]=We(we[x],Z[x]));return we}function Ye(we){return"__proto__"!==we}function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ft=()=>{try{return He().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if(typeof document>"u")return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=we&&Ve(we[1]);return Z&&JSON.parse(Z)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},Ot=we=>{var Z,x;return null===(x=null===(Z=ft())||void 0===Z?void 0:Z.emulatorHosts)||void 0===x?void 0:x[we]},Tt=we=>{const Z=Ot(we);if(!Z)return;const x=Z.lastIndexOf(":");if(x<=0||x+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const W=parseInt(Z.substring(x+1),10);return"["===Z[0]?[Z.substring(1,x-1),W]:[Z.substring(0,x),W]},Qe=()=>{var we;return null===(we=ft())||void 0===we?void 0:we.config},Te=we=>{var Z;return null===(Z=ft())||void 0===Z?void 0:Z[`_${we}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,x)=>{this.resolve=Z,this.reject=x})}wrapCallback(Z){return(x,W)=>{x?this.reject(x):this.resolve(W),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(x):Z(x,W))}}}function ct(we,Z){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=Z||"demo-project",pe=we.iat||0,Fe=we.sub||we.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:pe,exp:pe+3600,auth_time:pe,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},we);return[ot(JSON.stringify({alg:"none",type:"JWT"})),ot(JSON.stringify(Ct)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function ae(){var we;const Z=null===(we=ft())||void 0===we?void 0:we.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return typeof window<"u"||Xt()}function Xt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function un(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qn(){const we=vt();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function ee(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function de(){return!ae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((we,Z)=>{try{let x=!0;const W="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(W);pe.onsuccess=()=>{pe.result.close(),x||self.indexedDB.deleteDatabase(W),we(!0)},pe.onupgradeneeded=()=>{x=!1},pe.onerror=()=>{var Fe;Z((null===(Fe=pe.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(x){Z(x)}})}class it extends Error{constructor(Z,x,W){super(x),this.code=Z,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(Z,x,W){this.service=Z,this.serviceName=x,this.errors=W}create(Z,...x){const W=x[0]||{},pe=`${this.service}/${Z}`,Fe=this.errors[Z],Ct=Fe?function Vt(we,Z){return we.replace(Ln,(x,W)=>{const pe=Z[W];return null!=pe?String(pe):`<${W}?>`})}(Fe,W):"Error";return new it(pe,`${this.serviceName}: ${Ct} (${pe}).`,W)}}const Ln=/\{\$([^}]+)}/g;function gn(we){return JSON.parse(we)}function ir(we){return JSON.stringify(we)}const zn=function(we){let Z={},x={},W={},pe="";try{const Fe=we.split(".");Z=gn(Ve(Fe[0])||""),x=gn(Ve(Fe[1])||""),pe=Fe[2],W=x.d||{},delete x.d}catch{}return{header:Z,claims:x,data:W,signature:pe}},_r=function(we){const x=zn(we).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},Xn=function(we){const Z=zn(we).claims;return"object"==typeof Z&&!0===Z.admin};function Bn(we,Z){return Object.prototype.hasOwnProperty.call(we,Z)}function bn(we,Z){if(Object.prototype.hasOwnProperty.call(we,Z))return we[Z]}function sn(we){for(const Z in we)if(Object.prototype.hasOwnProperty.call(we,Z))return!1;return!0}function At(we,Z,x){const W={};for(const pe in we)Object.prototype.hasOwnProperty.call(we,pe)&&(W[pe]=Z.call(x,we[pe],pe,we));return W}function Kt(we,Z){if(we===Z)return!0;const x=Object.keys(we),W=Object.keys(Z);for(const pe of x){if(!W.includes(pe))return!1;const Fe=we[pe],Ct=Z[pe];if(vn(Fe)&&vn(Ct)){if(!Kt(Fe,Ct))return!1}else if(Fe!==Ct)return!1}for(const pe of W)if(!x.includes(pe))return!1;return!0}function vn(we){return null!==we&&"object"==typeof we}function Br(we){const Z=[];for(const[x,W]of Object.entries(we))Array.isArray(W)?W.forEach(pe=>{Z.push(encodeURIComponent(x)+"="+encodeURIComponent(pe))}):Z.push(encodeURIComponent(x)+"="+encodeURIComponent(W));return Z.length?"&"+Z.join("&"):""}function Tr(we){const Z={};return we.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[pe,Fe]=W.split("=");Z[decodeURIComponent(pe)]=decodeURIComponent(Fe)}}),Z}function Zn(we){const Z=we.indexOf("?");if(!Z)return"";const x=we.indexOf("#",Z);return we.substring(Z,x>0?x:void 0)}class mn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,x){x||(x=0);const W=this.W_;if("string"==typeof Z)for(let yn=0;yn<16;yn++)W[yn]=Z.charCodeAt(x)<<24|Z.charCodeAt(x+1)<<16|Z.charCodeAt(x+2)<<8|Z.charCodeAt(x+3),x+=4;else for(let yn=0;yn<16;yn++)W[yn]=Z[x]<<24|Z[x+1]<<16|Z[x+2]<<8|Z[x+3],x+=4;for(let yn=16;yn<80;yn++){const Hn=W[yn-3]^W[yn-8]^W[yn-14]^W[yn-16];W[yn]=4294967295&(Hn<<1|Hn>>>31)}let xn,An,pe=this.chain_[0],Fe=this.chain_[1],Ct=this.chain_[2],zt=this.chain_[3],dn=this.chain_[4];for(let yn=0;yn<80;yn++){yn<40?yn<20?(xn=zt^Fe&(Ct^zt),An=1518500249):(xn=Fe^Ct^zt,An=1859775393):yn<60?(xn=Fe&Ct|zt&(Fe|Ct),An=2400959708):(xn=Fe^Ct^zt,An=3395469782);const Hn=(pe<<5|pe>>>27)+xn+dn+An+W[yn]&4294967295;dn=zt,zt=Ct,Ct=4294967295&(Fe<<30|Fe>>>2),Fe=pe,pe=Hn}this.chain_[0]=this.chain_[0]+pe&4294967295,this.chain_[1]=this.chain_[1]+Fe&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+zt&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295}update(Z,x){if(null==Z)return;void 0===x&&(x=Z.length);const W=x-this.blockSize;let pe=0;const Fe=this.buf_;let Ct=this.inbuf_;for(;pe<x;){if(0===Ct)for(;pe<=W;)this.compress_(Z,pe),pe+=this.blockSize;if("string"==typeof Z){for(;pe<x;)if(Fe[Ct]=Z.charCodeAt(pe),++Ct,++pe,Ct===this.blockSize){this.compress_(Fe),Ct=0;break}}else for(;pe<x;)if(Fe[Ct]=Z[pe],++Ct,++pe,Ct===this.blockSize){this.compress_(Fe),Ct=0;break}}this.inbuf_=Ct,this.total_+=x}digest(){const Z=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let pe=this.blockSize-1;pe>=56;pe--)this.buf_[pe]=255&x,x/=256;this.compress_(this.buf_);let W=0;for(let pe=0;pe<5;pe++)for(let Fe=24;Fe>=0;Fe-=8)Z[W]=this.chain_[pe]>>Fe&255,++W;return Z}}function kr(we,Z){const x=new Xr(we,Z);return x.subscribe.bind(x)}class Xr{constructor(Z,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{Z(this)}).catch(W=>{this.error(W)})}next(Z){this.forEachObserver(x=>{x.next(Z)})}error(Z){this.forEachObserver(x=>{x.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,x,W){let pe;if(void 0===Z&&void 0===x&&void 0===W)throw new Error("Missing Observer.");pe=function yr(we,Z){if("object"!=typeof we||null===we)return!1;for(const x of Z)if(x in we&&"function"==typeof we[x])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:x,complete:W},void 0===pe.next&&(pe.next=Hr),void 0===pe.error&&(pe.error=Hr),void 0===pe.complete&&(pe.complete=Hr);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),Fe}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,Z)}sendOne(Z,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{x(this.observers[Z])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hr(){}const ri=function(we,Z,x,W){let pe;if(W<Z?pe="at least "+Z:W>x&&(pe=0===x?"none":"no more than "+x),pe)throw new Error(we+" failed: Was called with "+W+(1===W?" argument.":" arguments.")+" Expects "+pe+".")};function Pr(we,Z){return`${we} failed: ${Z} argument `}function rr(we,Z,x,W){if((!W||x)&&"function"!=typeof x)throw new Error(Pr(we,Z)+"must be a valid function.")}function br(we,Z,x,W){if((!W||x)&&("object"!=typeof x||null===x))throw new Error(Pr(we,Z)+"must be a valid context object.")}const _i=function(we){const Z=[];let x=0;for(let W=0;W<we.length;W++){let pe=we.charCodeAt(W);if(pe>=55296&&pe<=56319){const Fe=pe-55296;W++,p(W<we.length,"Surrogate pair missing trail surrogate."),pe=65536+(Fe<<10)+(we.charCodeAt(W)-56320)}pe<128?Z[x++]=pe:pe<2048?(Z[x++]=pe>>6|192,Z[x++]=63&pe|128):pe<65536?(Z[x++]=pe>>12|224,Z[x++]=pe>>6&63|128,Z[x++]=63&pe|128):(Z[x++]=pe>>18|240,Z[x++]=pe>>12&63|128,Z[x++]=pe>>6&63|128,Z[x++]=63&pe|128)}return Z},Pt=function(we){let Z=0;for(let x=0;x<we.length;x++){const W=we.charCodeAt(x);W<128?Z++:W<2048?Z+=2:W>=55296&&W<=56319?(Z+=4,x++):Z+=3}return Z};function _t(we){return we&&we._delegate?we._delegate:we}},4442:(Gn,St,k)=>{"use strict";k.d(St,{L:()=>ce,a:()=>Pe,b:()=>ke,c:()=>Re,d:()=>ot,g:()=>Ze}),k(5531);const ce="ionViewWillEnter",Pe="ionViewDidEnter",ke="ionViewWillLeave",Re="ionViewDidLeave",ot="ionViewWillUnload",Ze=ee=>ee.classList.contains("ion-page")?ee:ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ee},5531:(Gn,St,k)=>{"use strict";k.d(St,{a:()=>Ve,c:()=>p,g:()=>ot});class c{constructor(){this.m=new Map}reset(ee){this.m=new Map(Object.entries(ee))}get(ee,de){const Se=this.m.get(ee);return void 0!==Se?Se:de}getBoolean(ee,de=!1){const Se=this.m.get(ee);return void 0===Se?de:"string"==typeof Se?"true"===Se:!!Se}getNumber(ee,de){const Se=parseFloat(this.m.get(ee));return isNaN(Se)?void 0!==de?de:NaN:Se}set(ee,de){this.m.set(ee,de)}}const p=new c,ot=Ze=>me(Ze),Ve=(Ze,ee)=>("string"==typeof Ze&&(ee=Ze,Ze=void 0),ot(Ze).includes(ee)),me=(Ze=window)=>{if(typeof Ze>"u")return[];Ze.Ionic=Ze.Ionic||{};let ee=Ze.Ionic.platforms;return null==ee&&(ee=Ze.Ionic.platforms=We(Ze),ee.forEach(de=>Ze.document.documentElement.classList.add(`plt-${de}`))),ee},We=Ze=>{const ee=p.get("platform");return Object.keys(un).filter(de=>{const Se=null==ee?void 0:ee[de];return"function"==typeof Se?Se(Ze):un[de](Ze)})},He=Ze=>!!(Et(Ze,/iPad/i)||Et(Ze,/Macintosh/i)&&Qe(Ze)),mt=Ze=>Et(Ze,/android|sink/i),Qe=Ze=>Xt(Ze,"(any-pointer:coarse)"),$e=Ze=>ct(Ze)||vt(Ze),ct=Ze=>!!(Ze.cordova||Ze.phonegap||Ze.PhoneGap),vt=Ze=>{const ee=Ze.Capacitor;return!(null==ee||!ee.isNative)},Et=(Ze,ee)=>ee.test(Ze.navigator.userAgent),Xt=(Ze,ee)=>{var de;return null===(de=Ze.matchMedia)||void 0===de?void 0:de.call(Ze,ee).matches},un={ipad:He,iphone:Ze=>Et(Ze,/iPhone/i),ios:Ze=>Et(Ze,/iPhone|iPod/i)||He(Ze),android:mt,phablet:Ze=>{const ee=Ze.innerWidth,de=Ze.innerHeight,Se=Math.min(ee,de),he=Math.max(ee,de);return Se>390&&Se<520&&he>620&&he<800},tablet:Ze=>{const ee=Ze.innerWidth,de=Ze.innerHeight,Se=Math.min(ee,de),he=Math.max(ee,de);return He(Ze)||(Ze=>mt(Ze)&&!Et(Ze,/mobile/i))(Ze)||Se>460&&Se<820&&he>780&&he<1400},cordova:ct,capacitor:vt,electron:Ze=>Et(Ze,/electron/i),pwa:Ze=>{var ee;return!!(null!==(ee=Ze.matchMedia)&&void 0!==ee&&ee.call(Ze,"(display-mode: standalone)").matches||Ze.navigator.standalone)},mobile:Qe,mobileweb:Ze=>Qe(Ze)&&!$e(Ze),desktop:Ze=>!Qe(Ze),hybrid:$e}},9986:(Gn,St,k)=>{"use strict";k.d(St,{c:()=>Pe});var c=k(8476);let p;const q=(ke,Re,ot)=>{const Ve=Re.startsWith("animation")?(ke=>(void 0===p&&(p=void 0===ke.style.animationName&&void 0!==ke.style.webkitAnimationName?"-webkit-":""),p))(ke):"";ke.style.setProperty(Ve+Re,ot)},ce=(ke=[],Re)=>{if(void 0!==Re){const ot=Array.isArray(Re)?Re:[Re];return[...ke,...ot]}return ke},Pe=ke=>{let Re,ot,Ve,me,We,Ye,ft,Ut,ae,Et,Ft,He=[],ut=[],gt=[],mt=!1,Ot={},Tt=[],Qe=[],Te={},$e=0,ct=!1,vt=!1,Xt=!0,un=!1,Ht=!0,Qn=!1;const Ze=ke,ee=[],de=[],Se=[],he=[],Be=[],Ke=[],it=[],nt=[],Vt=[],Ln=[],gn=[],ir="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,zn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ir,gr=()=>gn,bn=(ge,Ge)=>{const jt=Ge.findIndex(pn=>pn.c===ge);jt>-1&&Ge.splice(jt,1)},At=(ge,Ge)=>((null!=Ge&&Ge.oneTimeCallback?de:ee).push({c:ge,o:Ge}),Ft),vn=()=>{zn&&(gn.forEach(ge=>{ge.cancel()}),gn.length=0)},ln=()=>{Ke.forEach(ge=>{null!=ge&&ge.parentNode&&ge.parentNode.removeChild(ge)}),Ke.length=0},rr=()=>void 0!==We?We:ft?ft.getFill():"both",br=()=>void 0!==Ut?Ut:void 0!==Ye?Ye:ft?ft.getDirection():"normal",_i=()=>ct?"linear":void 0!==Ve?Ve:ft?ft.getEasing():"linear",Pt=()=>vt?0:void 0!==ae?ae:void 0!==ot?ot:ft?ft.getDuration():0,Vr=()=>void 0!==me?me:ft?ft.getIterations():1,mr=()=>void 0!==Et?Et:void 0!==Re?Re:ft?ft.getDelay():0,zt=()=>{0!==$e&&($e--,0===$e&&((()=>{Vt.forEach(jn=>jn()),Ln.forEach(jn=>jn());const ge=Xt?1:0,Ge=Tt,jt=Qe,pn=Te;he.forEach(jn=>{const ye=jn.classList;Ge.forEach(je=>ye.add(je)),jt.forEach(je=>ye.remove(je));for(const je in pn)pn.hasOwnProperty(je)&&q(jn,je,pn[je])}),ae=void 0,Ut=void 0,Et=void 0,ee.forEach(jn=>jn.c(ge,Ft)),de.forEach(jn=>jn.c(ge,Ft)),de.length=0,Ht=!0,Xt&&(un=!0),Xt=!0})(),ft&&ft.animationFinish()))},xn=()=>{(()=>{it.forEach(pn=>pn()),nt.forEach(pn=>pn());const ge=ut,Ge=gt,jt=Ot;he.forEach(pn=>{const jn=pn.classList;ge.forEach(ye=>jn.add(ye)),Ge.forEach(ye=>jn.remove(ye));for(const ye in jt)jt.hasOwnProperty(ye)&&q(pn,ye,jt[ye])})})(),He.length>0&&zn&&(he.forEach(ge=>{const Ge=ge.animate(He,{id:Ze,delay:mr(),duration:Pt(),easing:_i(),iterations:Vr(),fill:rr(),direction:br()});Ge.pause(),gn.push(Ge)}),gn.length>0&&(gn[0].onfinish=()=>{zt()})),mt=!0},An=ge=>{ge=Math.min(Math.max(ge,0),.9999),zn&&gn.forEach(Ge=>{Ge.currentTime=Ge.effect.getComputedTiming().delay+Pt()*ge,Ge.pause()})},yn=ge=>{gn.forEach(Ge=>{Ge.effect.updateTiming({delay:mr(),duration:Pt(),easing:_i(),iterations:Vr(),fill:rr(),direction:br()})}),void 0!==ge&&An(ge)},Hn=(ge=!1,Ge=!0,jt)=>(ge&&Be.forEach(pn=>{pn.update(ge,Ge,jt)}),zn&&yn(jt),Ft),si=()=>{mt&&(zn?gn.forEach(ge=>{ge.pause()}):he.forEach(ge=>{q(ge,"animation-play-state","paused")}),Qn=!0)},tn=ge=>new Promise(Ge=>{null!=ge&&ge.sync&&(vt=!0,At(()=>vt=!1,{oneTimeCallback:!0})),mt||xn(),un&&(zn&&(An(0),yn()),un=!1),Ht&&($e=Be.length+1,Ht=!1);const jt=()=>{bn(pn,de),Ge()},pn=()=>{bn(jt,Se),Ge()};At(pn,{oneTimeCallback:!0}),(ge=>{Se.push({c:ge,o:{oneTimeCallback:!0}})})(jt),Be.forEach(jn=>{jn.play()}),zn?(gn.forEach(ge=>{ge.play()}),(0===He.length||0===he.length)&&zt()):zt(),Qn=!1}),le=(ge,Ge)=>{const jt=He[0];return void 0===jt||void 0!==jt.offset&&0!==jt.offset?He=[{offset:0,[ge]:Ge},...He]:jt[ge]=Ge,Ft};return Ft={parentAnimation:ft,elements:he,childAnimations:Be,id:Ze,animationFinish:zt,from:le,to:(ge,Ge)=>{const jt=He[He.length-1];return void 0===jt||void 0!==jt.offset&&1!==jt.offset?He=[...He,{offset:1,[ge]:Ge}]:jt[ge]=Ge,Ft},fromTo:(ge,Ge,jt)=>le(ge,Ge).to(ge,jt),parent:ge=>(ft=ge,Ft),play:tn,pause:()=>(Be.forEach(ge=>{ge.pause()}),si(),Ft),stop:()=>{Be.forEach(ge=>{ge.stop()}),mt&&(vn(),mt=!1),ct=!1,vt=!1,Ht=!0,Ut=void 0,ae=void 0,Et=void 0,$e=0,un=!1,Xt=!0,Qn=!1,Se.forEach(ge=>ge.c(0,Ft)),Se.length=0},destroy:ge=>(Be.forEach(Ge=>{Ge.destroy(ge)}),(ge=>{vn(),ge&&ln()})(ge),he.length=0,Be.length=0,He.length=0,ee.length=0,de.length=0,mt=!1,Ht=!0,Ft),keyframes:ge=>{const Ge=He!==ge;return He=ge,Ge&&(ge=>{zn&&gr().forEach(Ge=>{const jt=Ge.effect;if(jt.setKeyframes)jt.setKeyframes(ge);else{const pn=new KeyframeEffect(jt.target,ge,jt.getTiming());Ge.effect=pn}})})(He),Ft},addAnimation:ge=>{if(null!=ge)if(Array.isArray(ge))for(const Ge of ge)Ge.parent(Ft),Be.push(Ge);else ge.parent(Ft),Be.push(ge);return Ft},addElement:ge=>{if(null!=ge)if(1===ge.nodeType)he.push(ge);else if(ge.length>=0)for(let Ge=0;Ge<ge.length;Ge++)he.push(ge[Ge]);else console.error("Invalid addElement value");return Ft},update:Hn,fill:ge=>(We=ge,Hn(!0),Ft),direction:ge=>(Ye=ge,Hn(!0),Ft),iterations:ge=>(me=ge,Hn(!0),Ft),duration:ge=>(!zn&&0===ge&&(ge=1),ot=ge,Hn(!0),Ft),easing:ge=>(Ve=ge,Hn(!0),Ft),delay:ge=>(Re=ge,Hn(!0),Ft),getWebAnimations:gr,getKeyframes:()=>He,getFill:rr,getDirection:br,getDelay:mr,getIterations:Vr,getEasing:_i,getDuration:Pt,afterAddRead:ge=>(Vt.push(ge),Ft),afterAddWrite:ge=>(Ln.push(ge),Ft),afterClearStyles:(ge=[])=>{for(const Ge of ge)Te[Ge]="";return Ft},afterStyles:(ge={})=>(Te=ge,Ft),afterRemoveClass:ge=>(Qe=ce(Qe,ge),Ft),afterAddClass:ge=>(Tt=ce(Tt,ge),Ft),beforeAddRead:ge=>(it.push(ge),Ft),beforeAddWrite:ge=>(nt.push(ge),Ft),beforeClearStyles:(ge=[])=>{for(const Ge of ge)Ot[Ge]="";return Ft},beforeStyles:(ge={})=>(Ot=ge,Ft),beforeRemoveClass:ge=>(gt=ce(gt,ge),Ft),beforeAddClass:ge=>(ut=ce(ut,ge),Ft),onFinish:At,isRunning:()=>0!==$e&&!Qn,progressStart:(ge=!1,Ge)=>(Be.forEach(jt=>{jt.progressStart(ge,Ge)}),si(),ct=ge,mt||xn(),Hn(!1,!0,Ge),Ft),progressStep:ge=>(Be.forEach(Ge=>{Ge.progressStep(ge)}),An(ge),Ft),progressEnd:(ge,Ge,jt)=>(ct=!1,Be.forEach(pn=>{pn.progressEnd(ge,Ge,jt)}),void 0!==jt&&(ae=jt),un=!1,Xt=!0,0===ge?(Ut="reverse"===br()?"normal":"reverse","reverse"===Ut&&(Xt=!1),zn?(Hn(),An(1-Ge)):(Et=(1-Ge)*Pt()*-1,Hn(!1,!1))):1===ge&&(zn?(Hn(),An(Ge)):(Et=Ge*Pt()*-1,Hn(!1,!1))),void 0!==ge&&!ft&&tn(),Ft)}}},464:(Gn,St,k)=>{"use strict";k.d(St,{E:()=>Ve,a:()=>c,s:()=>Re});const c=me=>{try{if(me instanceof ke)return me.value;if(!q()||"string"!=typeof me||""===me)return me;if(me.includes("onload="))return"";const We=document.createDocumentFragment(),Ye=document.createElement("div");We.appendChild(Ye),Ye.innerHTML=me,Pe.forEach(mt=>{const ft=We.querySelectorAll(mt);for(let Ot=ft.length-1;Ot>=0;Ot--){const Tt=ft[Ot];Tt.parentNode?Tt.parentNode.removeChild(Tt):We.removeChild(Tt);const Qe=U(Tt);for(let Te=0;Te<Qe.length;Te++)p(Qe[Te])}});const He=U(We);for(let mt=0;mt<He.length;mt++)p(He[mt]);const ut=document.createElement("div");ut.appendChild(We);const gt=ut.querySelector("div");return null!==gt?gt.innerHTML:ut.innerHTML}catch(We){return console.error(We),""}},p=me=>{if(me.nodeType&&1!==me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(me.attributes instanceof NamedNodeMap))return void me.remove();for(let Ye=me.attributes.length-1;Ye>=0;Ye--){const He=me.attributes.item(Ye),ut=He.name;if(!ce.includes(ut.toLowerCase())){me.removeAttribute(ut);continue}const gt=He.value,mt=me[ut];(null!=gt&&gt.toLowerCase().includes("javascript:")||null!=mt&&mt.toLowerCase().includes("javascript:"))&&me.removeAttribute(ut)}const We=U(me);for(let Ye=0;Ye<We.length;Ye++)p(We[Ye])},U=me=>null!=me.children?me.children:me.childNodes,q=()=>{var me;const We=window,Ye=null===(me=null==We?void 0:We.Ionic)||void 0===me?void 0:me.config;return!Ye||(Ye.get?Ye.get("sanitizerEnabled",!0):!0===Ye.sanitizerEnabled||void 0===Ye.sanitizerEnabled)},ce=["class","id","href","src","name","slot"],Pe=["script","style","iframe","meta","link","object","embed"];class ke{constructor(We){this.value=We}}const Re=me=>{const We=window,Ye=We.Ionic;if(!Ye||!Ye.config||"Object"===Ye.config.constructor.name)return We.Ionic=We.Ionic||{},We.Ionic.config=Object.assign(Object.assign({},We.Ionic.config),me),We.Ionic.config},Ve=!1},8621:(Gn,St,k)=>{"use strict";k.d(St,{C:()=>ce,a:()=>U,d:()=>q});var c=k(467),p=k(4920);const U=function(){var Pe=(0,c.A)(function*(ke,Re,ot,Ve,me,We){var Ye;if(ke)return ke.attachViewToDom(Re,ot,me,Ve);if(!(We||"string"==typeof ot||ot instanceof HTMLElement))throw new Error("framework delegate is missing");const He="string"==typeof ot?null===(Ye=Re.ownerDocument)||void 0===Ye?void 0:Ye.createElement(ot):ot;return Ve&&Ve.forEach(ut=>He.classList.add(ut)),me&&Object.assign(He,me),Re.appendChild(He),yield new Promise(ut=>(0,p.c)(He,ut)),He});return function(Re,ot,Ve,me,We,Ye){return Pe.apply(this,arguments)}}(),q=(Pe,ke)=>{if(ke){if(Pe)return Pe.removeViewFromDom(ke.parentElement,ke);ke.remove()}return Promise.resolve()},ce=()=>{let Pe,ke;return{attachViewToDom:function(){var Ve=(0,c.A)(function*(me,We,Ye={},He=[]){var ut,gt;let mt;if(Pe=me,We){const Ot="string"==typeof We?null===(ut=Pe.ownerDocument)||void 0===ut?void 0:ut.createElement(We):We;He.forEach(Tt=>Ot.classList.add(Tt)),Object.assign(Ot,Ye),Pe.appendChild(Ot),mt=Ot,yield new Promise(Tt=>(0,p.c)(Ot,Tt))}else if(Pe.children.length>0&&("ION-MODAL"===Pe.tagName||"ION-POPOVER"===Pe.tagName)&&!(mt=Pe.children[0]).classList.contains("ion-delegate-host")){const Tt=null===(gt=Pe.ownerDocument)||void 0===gt?void 0:gt.createElement("div");Tt.classList.add("ion-delegate-host"),He.forEach(Qe=>Tt.classList.add(Qe)),Tt.append(...Pe.children),Pe.appendChild(Tt),mt=Tt}const ft=document.querySelector("ion-app")||document.body;return ke=document.createComment("ionic teleport"),Pe.parentNode.insertBefore(ke,Pe),ft.appendChild(Pe),null!=mt?mt:Pe});return function(We,Ye){return Ve.apply(this,arguments)}}(),removeViewFromDom:()=>(Pe&&ke&&(ke.parentNode.insertBefore(Pe,ke),ke.remove()),Promise.resolve())}}},1970:(Gn,St,k)=>{"use strict";k.d(St,{B:()=>q,G:()=>ce});class p{constructor(ke,Re,ot,Ve,me){this.id=Re,this.name=ot,this.disableScroll=me,this.priority=1e6*Ve+Re,this.ctrl=ke}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ke=this.ctrl.capture(this.name,this.id,this.priority);return ke&&this.disableScroll&&this.ctrl.disableScroll(this.id),ke}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class U{constructor(ke,Re,ot,Ve){this.id=Re,this.disable=ot,this.disableScroll=Ve,this.ctrl=ke}block(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.disableGesture(ke,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.enableGesture(ke,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const q="backdrop-no-scroll",ce=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ke){var Re;return new p(this,this.newID(),ke.name,null!==(Re=ke.priority)&&void 0!==Re?Re:0,!!ke.disableScroll)}createBlocker(ke={}){return new U(this,this.newID(),ke.disable,!!ke.disableScroll)}start(ke,Re,ot){return this.canStart(ke)?(this.requestedStart.set(Re,ot),!0):(this.requestedStart.delete(Re),!1)}capture(ke,Re,ot){if(!this.start(ke,Re,ot))return!1;const Ve=this.requestedStart;let me=-1e4;if(Ve.forEach(We=>{me=Math.max(me,We)}),me===ot){this.capturedId=Re,Ve.clear();const We=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ke}});return document.dispatchEvent(We),!0}return Ve.delete(Re),!1}release(ke){this.requestedStart.delete(ke),this.capturedId===ke&&(this.capturedId=void 0)}disableGesture(ke,Re){let ot=this.disabledGestures.get(ke);void 0===ot&&(ot=new Set,this.disabledGestures.set(ke,ot)),ot.add(Re)}enableGesture(ke,Re){const ot=this.disabledGestures.get(ke);void 0!==ot&&ot.delete(Re)}disableScroll(ke){this.disabledScroll.add(ke),1===this.disabledScroll.size&&document.body.classList.add(q)}enableScroll(ke){this.disabledScroll.delete(ke),0===this.disabledScroll.size&&document.body.classList.remove(q)}canStart(ke){return!(void 0!==this.capturedId||this.isDisabled(ke))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ke){const Re=this.disabledGestures.get(ke);return!!(Re&&Re.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Gn,St,k)=>{"use strict";k.r(St),k.d(St,{MENU_BACK_BUTTON_PRIORITY:()=>ot,OVERLAY_BACK_BUTTON_PRIORITY:()=>Re,blockHardwareBackButton:()=>Pe,shouldUseCloseWatcher:()=>ce,startHardwareBackButton:()=>ke});var c=k(467),p=k(8476),U=k(9483);k(4261);const ce=()=>U.c.get("experimentalCloseWatcher",!1)&&void 0!==p.w&&"CloseWatcher"in p.w,Pe=()=>{document.addEventListener("backbutton",()=>{})},ke=()=>{const Ve=document;let me=!1;const We=()=>{if(me)return;let Ye=0,He=[];const ut=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ft,Ot){He.push({priority:ft,handler:Ot,id:Ye++})}}});Ve.dispatchEvent(ut);const gt=function(){var ft=(0,c.A)(function*(Ot){try{if(null!=Ot&&Ot.handler){const Tt=Ot.handler(mt);null!=Tt&&(yield Tt)}}catch(Tt){console.error(Tt)}});return function(Tt){return ft.apply(this,arguments)}}(),mt=()=>{if(He.length>0){let ft={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};He.forEach(Ot=>{Ot.priority>=ft.priority&&(ft=Ot)}),me=!0,He=He.filter(Ot=>Ot.id!==ft.id),gt(ft).then(()=>me=!1)}};mt()};if(ce()){let Ye;const He=()=>{null==Ye||Ye.destroy(),Ye=new p.w.CloseWatcher,Ye.onclose=()=>{We(),He()}};He()}else Ve.addEventListener("backbutton",We)},Re=100,ot=99},4920:(Gn,St,k)=>{"use strict";k.d(St,{a:()=>Re,b:()=>ot,c:()=>U,d:()=>He,e:()=>Ot,f:()=>Ye,g:()=>Ve,h:()=>ce,i:()=>ke,j:()=>ut,k:()=>q,l:()=>We,m:()=>gt,n:()=>ft,o:()=>Tt,p:()=>mt,r:()=>me,s:()=>Qe,t:()=>c});const c=(Te,$e=0)=>new Promise(ct=>{p(Te,$e,ct)}),p=(Te,$e=0,ct)=>{let vt,Ut;const ae={passive:!0},Xt=()=>{vt&&vt()},un=Ht=>{(void 0===Ht||Te===Ht.target)&&(Xt(),ct(Ht))};return Te&&(Te.addEventListener("webkitTransitionEnd",un,ae),Te.addEventListener("transitionend",un,ae),Ut=setTimeout(un,$e+500),vt=()=>{void 0!==Ut&&(clearTimeout(Ut),Ut=void 0),Te.removeEventListener("webkitTransitionEnd",un,ae),Te.removeEventListener("transitionend",un,ae)}),Xt},U=(Te,$e)=>{Te.componentOnReady?Te.componentOnReady().then(ct=>$e(ct)):me(()=>$e(Te))},q=Te=>void 0!==Te.componentOnReady,ce=(Te,$e=[])=>{const ct={};return $e.forEach(vt=>{Te.hasAttribute(vt)&&(null!==Te.getAttribute(vt)&&(ct[vt]=Te.getAttribute(vt)),Te.removeAttribute(vt))}),ct},Pe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ke=(Te,$e)=>{let ct=Pe;return $e&&$e.length>0&&(ct=ct.filter(vt=>!$e.includes(vt))),ce(Te,ct)},Re=(Te,$e,ct,vt)=>{var Ut;if(typeof window<"u"){const ae=window,Et=null===(Ut=null==ae?void 0:ae.Ionic)||void 0===Ut?void 0:Ut.config;if(Et){const Xt=Et.get("_ael");if(Xt)return Xt(Te,$e,ct,vt);if(Et._ael)return Et._ael(Te,$e,ct,vt)}}return Te.addEventListener($e,ct,vt)},ot=(Te,$e,ct,vt)=>{var Ut;if(typeof window<"u"){const ae=window,Et=null===(Ut=null==ae?void 0:ae.Ionic)||void 0===Ut?void 0:Ut.config;if(Et){const Xt=Et.get("_rel");if(Xt)return Xt(Te,$e,ct,vt);if(Et._rel)return Et._rel(Te,$e,ct,vt)}}return Te.removeEventListener($e,ct,vt)},Ve=(Te,$e=Te)=>Te.shadowRoot||$e,me=Te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Te):"function"==typeof requestAnimationFrame?requestAnimationFrame(Te):setTimeout(Te),We=Te=>!!Te.shadowRoot&&!!Te.attachShadow,Ye=Te=>{if(Te.focus(),Te.classList.contains("ion-focusable")){const $e=Te.closest("ion-app");$e&&$e.setFocus([Te])}},He=(Te,$e,ct,vt,Ut)=>{if(Te||We($e)){let ae=$e.querySelector("input.aux-input");ae||(ae=$e.ownerDocument.createElement("input"),ae.type="hidden",ae.classList.add("aux-input"),$e.appendChild(ae)),ae.disabled=Ut,ae.name=ct,ae.value=vt||""}},ut=(Te,$e,ct)=>Math.max(Te,Math.min($e,ct)),gt=(Te,$e)=>{if(!Te){const ct="ASSERT: "+$e;throw console.error(ct),new Error(ct)}},mt=Te=>{if(Te){const $e=Te.changedTouches;if($e&&$e.length>0){const ct=$e[0];return{x:ct.clientX,y:ct.clientY}}if(void 0!==Te.pageX)return{x:Te.pageX,y:Te.pageY}}return{x:0,y:0}},ft=Te=>{const $e="rtl"===document.dir;switch(Te){case"start":return $e;case"end":return!$e;default:throw new Error(`"${Te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ot=(Te,$e)=>{const ct=Te._original||Te;return{_original:Te,emit:Tt(ct.emit.bind(ct),$e)}},Tt=(Te,$e=0)=>{let ct;return(...vt)=>{clearTimeout(ct),ct=setTimeout(Te,$e,...vt)}},Qe=(Te,$e)=>{if(null!=Te||(Te={}),null!=$e||($e={}),Te===$e)return!0;const ct=Object.keys(Te);if(ct.length!==Object.keys($e).length)return!1;for(const vt of ct)if(!(vt in $e)||Te[vt]!==$e[vt])return!1;return!0}},4261:(Gn,St,k)=>{"use strict";k.d(St,{B:()=>Pe,a:()=>Ht,b:()=>re,c:()=>rr,d:()=>Vr,e:()=>Vt,f:()=>mn,g:()=>br,h:()=>Tr,i:()=>Pt,j:()=>dt,k:()=>gn,r:()=>ot,w:()=>Ln});var c=k(467);var q=Object.defineProperty,Pe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ke=new WeakMap,Re=J=>ke.get(J),ot=(J,Ae)=>ke.set(Ae.$lazyInstance$=J,Ae),me=(J,Ae)=>Ae in J,We=(J,Ae)=>(0,console.error)(J,Ae),Ye=new Map,ut=new Map,gt=[],Qe="s-id",vt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ut="http://www.w3.org/1999/xlink",ae=typeof window<"u"?window:{},Et=ae.document||{head:{}},un={$flags$:0,$resourcesUrl$:"",jmp:J=>J(),raf:J=>requestAnimationFrame(J),ael:(J,Ae,st,ht)=>J.addEventListener(Ae,st,ht),rel:(J,Ae,st,ht)=>J.removeEventListener(Ae,st,ht),ce:(J,Ae)=>new CustomEvent(J,Ae)},Ht=J=>{Object.assign(un,J)},Qn=(()=>{let J=!1;try{Et.addEventListener("e",null,Object.defineProperty({},"passive",{get(){J=!0}}))}catch{}return J})(),ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),de=!1,Se=[],he=[],Be=(J,Ae)=>st=>{J.push(st),de||(de=!0,Ae&&4&un.$flags$?nt(it):un.raf(it))},Ke=J=>{for(let Ae=0;Ae<J.length;Ae++)try{J[Ae](performance.now())}catch(st){We(st)}J.length=0},it=()=>{Ke(Se),Ke(he),(de=Se.length>0)&&un.raf(it)},nt=J=>Promise.resolve(void 0).then(J),Vt=Be(Se,!1),Ln=Be(he,!0),gn=J=>{const Ae=new URL(J,un.$resourcesUrl$);return Ae.origin!==ae.location.origin?Ae.href:Ae.pathname},ir={},_r=J=>"object"==(J=typeof J)||"function"===J;function Xn(J){var Ae,st,ht;return null!=(ht=null==(st=null==(Ae=J.head)?void 0:Ae.querySelector('meta[name="csp-nonce"]'))?void 0:st.getAttribute("content"))?ht:void 0}((J,Ae)=>{for(var st in Ae)q(J,st,{get:Ae[st],enumerable:!0})})({},{err:()=>sn,map:()=>At,ok:()=>bn,unwrap:()=>Kt,unwrapErr:()=>vn});var bn=J=>({isOk:!0,isErr:!1,value:J}),sn=J=>({isOk:!1,isErr:!0,value:J});function At(J,Ae){if(J.isOk){const st=Ae(J.value);return st instanceof Promise?st.then(ht=>bn(ht)):bn(st)}if(J.isErr)return sn(J.value);throw"should never get here"}var Kt=J=>{if(J.isOk)return J.value;throw J.value},vn=J=>{if(J.isErr)return J.value;throw J.value},Tr=(J,Ae,...st)=>{let ht=null,Nt=null,wt=null,En=!1,On=!1;const In=[],Nn=sr=>{for(let fr=0;fr<sr.length;fr++)ht=sr[fr],Array.isArray(ht)?Nn(ht):null!=ht&&"boolean"!=typeof ht&&((En="function"!=typeof J&&!_r(ht))&&(ht=String(ht)),En&&On?In[In.length-1].$text$+=ht:In.push(En?Zn(null,ht):ht),On=En)};if(Nn(st),Ae){Ae.key&&(Nt=Ae.key),Ae.name&&(wt=Ae.name);{const sr=Ae.className||Ae.class;sr&&(Ae.class="object"!=typeof sr?sr:Object.keys(sr).filter(fr=>sr[fr]).join(" "))}}if("function"==typeof J)return J(null===Ae?{}:Ae,In,Xr);const Vn=Zn(J,null);return Vn.$attrs$=Ae,In.length>0&&(Vn.$children$=In),Vn.$key$=Nt,Vn.$name$=wt,Vn},Zn=(J,Ae)=>({$flags$:0,$tag$:J,$text$:Ae,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),mn={},Xr={forEach:(J,Ae)=>J.map(Dr).forEach(Ae),map:(J,Ae)=>J.map(Dr).map(Ae).map(yr)},Dr=J=>({vattrs:J.$attrs$,vchildren:J.$children$,vkey:J.$key$,vname:J.$name$,vtag:J.$tag$,vtext:J.$text$}),yr=J=>{if("function"==typeof J.vtag){const st={...J.vattrs};return J.vkey&&(st.key=J.vkey),J.vname&&(st.name=J.vname),Tr(J.vtag,st,...J.vchildren||[])}const Ae=Zn(J.vtag,J.vtext);return Ae.$attrs$=J.vattrs,Ae.$children$=J.vchildren,Ae.$key$=J.vkey,Ae.$name$=J.vname,Ae},ri=(J,Ae,st,ht,Nt,wt,En)=>{let On,In,Nn,Vn;if(1===wt.nodeType){if(On=wt.getAttribute("c-id"),On&&(In=On.split("."),(In[0]===En||"0"===In[0])&&(Nn={$flags$:0,$hostId$:In[0],$nodeId$:In[1],$depth$:In[2],$index$:In[3],$tag$:wt.tagName.toLowerCase(),$elm$:wt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ae.push(Nn),wt.removeAttribute("c-id"),J.$children$||(J.$children$=[]),J.$children$[Nn.$index$]=Nn,J=Nn,ht&&"0"===Nn.$depth$&&(ht[Nn.$index$]=Nn.$elm$))),wt.shadowRoot)for(Vn=wt.shadowRoot.childNodes.length-1;Vn>=0;Vn--)ri(J,Ae,st,ht,Nt,wt.shadowRoot.childNodes[Vn],En);for(Vn=wt.childNodes.length-1;Vn>=0;Vn--)ri(J,Ae,st,ht,Nt,wt.childNodes[Vn],En)}else if(8===wt.nodeType)In=wt.nodeValue.split("."),(In[1]===En||"0"===In[1])&&(On=In[0],Nn={$flags$:0,$hostId$:In[1],$nodeId$:In[2],$depth$:In[3],$index$:In[4],$elm$:wt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===On?(Nn.$elm$=wt.nextSibling,Nn.$elm$&&3===Nn.$elm$.nodeType&&(Nn.$text$=Nn.$elm$.textContent,Ae.push(Nn),wt.remove(),J.$children$||(J.$children$=[]),J.$children$[Nn.$index$]=Nn,ht&&"0"===Nn.$depth$&&(ht[Nn.$index$]=Nn.$elm$))):Nn.$hostId$===En&&("s"===On?(Nn.$tag$="slot",wt["s-sn"]=In[5]?Nn.$name$=In[5]:"",wt["s-sr"]=!0,ht&&(Nn.$elm$=Et.createElement(Nn.$tag$),Nn.$name$&&Nn.$elm$.setAttribute("name",Nn.$name$),wt.parentNode.insertBefore(Nn.$elm$,wt),wt.remove(),"0"===Nn.$depth$&&(ht[Nn.$index$]=Nn.$elm$)),st.push(Nn),J.$children$||(J.$children$=[]),J.$children$[Nn.$index$]=Nn):"r"===On&&(ht?wt.remove():(Nt["s-cr"]=wt,wt["s-cn"]=!0))));else if(J&&"style"===J.$tag$){const sr=Zn(null,wt.textContent);sr.$elm$=wt,sr.$index$="0",J.$children$=[sr]}},Pr=(J,Ae)=>{if(1===J.nodeType){let st=0;if(J.shadowRoot)for(;st<J.shadowRoot.childNodes.length;st++)Pr(J.shadowRoot.childNodes[st],Ae);for(st=0;st<J.childNodes.length;st++)Pr(J.childNodes[st],Ae)}else if(8===J.nodeType){const st=J.nodeValue.split(".");"o"===st[0]&&(Ae.set(st[1]+"."+st[2],J),J.nodeValue="",J["s-en"]=st[3])}},rr=J=>gt.push(J),br=J=>Re(J).$modeName$,Pt=J=>Re(J).$hostElement$,Vr=(J,Ae,st)=>{const ht=Pt(J);return{emit:Nt=>mr(ht,Ae,{bubbles:!!(4&st),composed:!!(2&st),cancelable:!!(1&st),detail:Nt})}},mr=(J,Ae,st)=>{const ht=un.ce(Ae,st);return J.dispatchEvent(ht),ht},yi=new WeakMap,mi=(J,Ae,st)=>{var ht;const Nt=Mt(Ae,st),wt=ut.get(Nt);if(J=11===J.nodeType?J:Et,wt)if("string"==typeof wt){let On,En=yi.get(J=J.head||J);if(En||yi.set(J,En=new Set),!En.has(Nt)){if(J.host&&(On=J.querySelector(`[sty-id="${Nt}"]`)))On.innerHTML=wt;else{On=Et.createElement("style"),On.innerHTML=wt;const In=null!=(ht=un.$nonce$)?ht:Xn(Et);null!=In&&On.setAttribute("nonce",In),(!(1&Ae.$flags$)||1&Ae.$flags$&&"HEAD"!==J.nodeName)&&J.insertBefore(On,J.querySelector("link"))}4&Ae.$flags$&&(On.innerHTML+=vt),En&&En.add(Nt)}}else J.adoptedStyleSheets.includes(wt)||(J.adoptedStyleSheets=[...J.adoptedStyleSheets,wt]);return Nt},Mt=(J,Ae)=>"sc-"+(Ae&&32&J.$flags$?J.$tagName$+"-"+Ae:J.$tagName$),qt=(J,Ae,st,ht,Nt,wt)=>{if(st!==ht){let En=me(J,Ae),On=Ae.toLowerCase();if("class"===Ae){const In=J.classList,Nn=we(st),Vn=we(ht);In.remove(...Nn.filter(sr=>sr&&!Vn.includes(sr))),In.add(...Vn.filter(sr=>sr&&!Nn.includes(sr)))}else if("style"===Ae){for(const In in st)(!ht||null==ht[In])&&(In.includes("-")?J.style.removeProperty(In):J.style[In]="");for(const In in ht)(!st||ht[In]!==st[In])&&(In.includes("-")?J.style.setProperty(In,ht[In]):J.style[In]=ht[In])}else if("key"!==Ae)if("ref"===Ae)ht&&ht(J);else if(En||"o"!==Ae[0]||"n"!==Ae[1]){const In=_r(ht);if((En||In&&null!==ht)&&!Nt)try{if(J.tagName.includes("-"))J[Ae]=ht;else{const Vn=null==ht?"":ht;"list"===Ae?En=!1:(null==st||J[Ae]!=Vn)&&(J[Ae]=Vn)}}catch{}let Nn=!1;On!==(On=On.replace(/^xlink\:?/,""))&&(Ae=On,Nn=!0),null==ht||!1===ht?(!1!==ht||""===J.getAttribute(Ae))&&(Nn?J.removeAttributeNS(Ut,Ae):J.removeAttribute(Ae)):(!En||4&wt||Nt)&&!In&&(ht=!0===ht?"":ht,Nn?J.setAttributeNS(Ut,Ae,ht):J.setAttribute(Ae,ht))}else if(Ae="-"===Ae[2]?Ae.slice(3):me(ae,On)?On.slice(2):On[2]+Ae.slice(3),st||ht){const In=Ae.endsWith(Z);Ae=Ae.replace(x,""),st&&un.rel(J,Ae,st,In),ht&&un.ael(J,Ae,ht,In)}}},_t=/\s/,we=J=>J?J.split(_t):[],Z="Capture",x=new RegExp(Z+"$"),W=(J,Ae,st)=>{const ht=11===Ae.$elm$.nodeType&&Ae.$elm$.host?Ae.$elm$.host:Ae.$elm$,Nt=J&&J.$attrs$||ir,wt=Ae.$attrs$||ir;for(const En of pe(Object.keys(Nt)))En in wt||qt(ht,En,Nt[En],void 0,st,Ae.$flags$);for(const En of pe(Object.keys(wt)))qt(ht,En,Nt[En],wt[En],st,Ae.$flags$)};function pe(J){return J.includes("ref")?[...J.filter(Ae=>"ref"!==Ae),"ref"]:J}var Fe,Ct,zt,dn=!1,xn=!1,An=!1,yn=!1,Hn=(J,Ae,st,ht)=>{var Nt;const wt=Ae.$children$[st];let On,In,Nn,En=0;if(dn||(An=!0,"slot"===wt.$tag$&&(Fe&&ht.classList.add(Fe+"-s"),wt.$flags$|=wt.$children$?2:1)),null!==wt.$text$)On=wt.$elm$=Et.createTextNode(wt.$text$);else if(1&wt.$flags$)On=wt.$elm$=Et.createTextNode("");else{if(yn||(yn="svg"===wt.$tag$),On=wt.$elm$=Et.createElementNS(yn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!dn&&2&wt.$flags$?"slot-fb":wt.$tag$),yn&&"foreignObject"===wt.$tag$&&(yn=!1),W(null,wt,yn),!!On.getRootNode().querySelector("body")&&(J=>null!=J)(Fe)&&On["s-si"]!==Fe&&On.classList.add(On["s-si"]=Fe),pn(On,ht),wt.$children$)for(En=0;En<wt.$children$.length;++En)In=Hn(J,wt,En,On),In&&On.appendChild(In);"svg"===wt.$tag$?yn=!1:"foreignObject"===On.tagName&&(yn=!0)}return On["s-hn"]=zt,3&wt.$flags$&&(On["s-sr"]=!0,On["s-cr"]=Ct,On["s-sn"]=wt.$name$||"",On["s-rf"]=null==(Nt=wt.$attrs$)?void 0:Nt.ref,Nn=J&&J.$children$&&J.$children$[st],Nn&&Nn.$tag$===wt.$tag$&&J.$elm$&&wr(J.$elm$)),On},wr=J=>{un.$flags$|=1;const Ae=J.closest(zt.toLowerCase());if(null!=Ae){const st=Array.from(Ae.childNodes).find(Nt=>Nt["s-cr"]),ht=Array.from(J.childNodes);for(const Nt of st?ht.reverse():ht)null!=Nt["s-sh"]&&(Ge(Ae,Nt,null!=st?st:null),Nt["s-sh"]=void 0,An=!0)}un.$flags$&=-2},Ai=(J,Ae)=>{un.$flags$|=1;const st=Array.from(J.childNodes);if(J["s-sr"]){let ht=J;for(;ht=ht.nextSibling;)ht&&ht["s-sn"]===J["s-sn"]&&ht["s-sh"]===zt&&st.push(ht)}for(let ht=st.length-1;ht>=0;ht--){const Nt=st[ht];Nt["s-hn"]!==zt&&Nt["s-ol"]&&(Ge(qi(Nt),Nt,Bi(Nt)),Nt["s-ol"].remove(),Nt["s-ol"]=void 0,Nt["s-sh"]=void 0,An=!0),Ae&&Ai(Nt,Ae)}un.$flags$&=-2},Ui=(J,Ae,st,ht,Nt,wt)=>{let On,En=J["s-cr"]&&J["s-cr"].parentNode||J;for(En.shadowRoot&&En.tagName===zt&&(En=En.shadowRoot);Nt<=wt;++Nt)ht[Nt]&&(On=Hn(null,st,Nt,J),On&&(ht[Nt].$elm$=On,Ge(En,On,Bi(Ae))))},si=(J,Ae,st)=>{for(let ht=Ae;ht<=st;++ht){const Nt=J[ht];if(Nt){const wt=Nt.$elm$;ge(Nt),wt&&(xn=!0,wt["s-ol"]?wt["s-ol"].remove():Ai(wt,!0),wt.remove())}}},ki=(J,Ae,st=!1)=>!(J.$tag$!==Ae.$tag$||("slot"===J.$tag$?"$nodeId$"in J&&st&&8!==J.$elm$.nodeType||J.$name$!==Ae.$name$:!st&&J.$key$!==Ae.$key$)),Bi=J=>J&&J["s-ol"]||J,qi=J=>(J["s-ol"]?J["s-ol"]:J).parentNode,tn=(J,Ae,st=!1)=>{const ht=Ae.$elm$=J.$elm$,Nt=J.$children$,wt=Ae.$children$,En=Ae.$tag$,On=Ae.$text$;let In;null===On?(yn="svg"===En||"foreignObject"!==En&&yn,"slot"!==En||dn?W(J,Ae,yn):J.$name$!==Ae.$name$&&(Ae.$elm$["s-sn"]=Ae.$name$||"",wr(Ae.$elm$.parentElement)),null!==Nt&&null!==wt?((J,Ae,st,ht,Nt=!1)=>{let Or,qr,wt=0,En=0,On=0,In=0,Nn=Ae.length-1,Vn=Ae[0],sr=Ae[Nn],fr=ht.length-1,ur=ht[0],hi=ht[fr];for(;wt<=Nn&&En<=fr;)if(null==Vn)Vn=Ae[++wt];else if(null==sr)sr=Ae[--Nn];else if(null==ur)ur=ht[++En];else if(null==hi)hi=ht[--fr];else if(ki(Vn,ur,Nt))tn(Vn,ur,Nt),Vn=Ae[++wt],ur=ht[++En];else if(ki(sr,hi,Nt))tn(sr,hi,Nt),sr=Ae[--Nn],hi=ht[--fr];else if(ki(Vn,hi,Nt))("slot"===Vn.$tag$||"slot"===hi.$tag$)&&Ai(Vn.$elm$.parentNode,!1),tn(Vn,hi,Nt),Ge(J,Vn.$elm$,sr.$elm$.nextSibling),Vn=Ae[++wt],hi=ht[--fr];else if(ki(sr,ur,Nt))("slot"===Vn.$tag$||"slot"===hi.$tag$)&&Ai(sr.$elm$.parentNode,!1),tn(sr,ur,Nt),Ge(J,sr.$elm$,Vn.$elm$),sr=Ae[--Nn],ur=ht[++En];else{for(On=-1,In=wt;In<=Nn;++In)if(Ae[In]&&null!==Ae[In].$key$&&Ae[In].$key$===ur.$key$){On=In;break}On>=0?(qr=Ae[On],qr.$tag$!==ur.$tag$?Or=Hn(Ae&&Ae[En],st,On,J):(tn(qr,ur,Nt),Ae[On]=void 0,Or=qr.$elm$),ur=ht[++En]):(Or=Hn(Ae&&Ae[En],st,En,J),ur=ht[++En]),Or&&Ge(qi(Vn.$elm$),Or,Bi(Vn.$elm$))}wt>Nn?Ui(J,null==ht[fr+1]?null:ht[fr+1].$elm$,st,ht,En,fr):En>fr&&si(Ae,wt,Nn)})(ht,Nt,Ae,wt,st):null!==wt?(null!==J.$text$&&(ht.textContent=""),Ui(ht,null,Ae,wt,0,wt.length-1)):!st&&null!==Nt&&si(Nt,0,Nt.length-1),yn&&"svg"===En&&(yn=!1)):(In=ht["s-cr"])?In.parentNode.textContent=On:J.$text$!==On&&(ht.data=On)},fe=J=>{const Ae=J.childNodes;for(const st of Ae)if(1===st.nodeType){if(st["s-sr"]){const ht=st["s-sn"];st.hidden=!1;for(const Nt of Ae)if(Nt!==st)if(Nt["s-hn"]!==st["s-hn"]||""!==ht){if(1===Nt.nodeType&&(ht===Nt.getAttribute("slot")||ht===Nt["s-sn"])||3===Nt.nodeType&&ht===Nt["s-sn"]){st.hidden=!0;break}}else if(1===Nt.nodeType||3===Nt.nodeType&&""!==Nt.textContent.trim()){st.hidden=!0;break}}fe(st)}},le=[],Je=J=>{let Ae,st,ht;for(const Nt of J.childNodes){if(Nt["s-sr"]&&(Ae=Nt["s-cr"])&&Ae.parentNode){st=Ae.parentNode.childNodes;const wt=Nt["s-sn"];for(ht=st.length-1;ht>=0;ht--)if(Ae=st[ht],!(Ae["s-cn"]||Ae["s-nr"]||Ae["s-hn"]===Nt["s-hn"]||Ae["s-sh"]&&Ae["s-sh"]===Nt["s-hn"]))if(_e(Ae,wt)){let En=le.find(On=>On.$nodeToRelocate$===Ae);xn=!0,Ae["s-sn"]=Ae["s-sn"]||wt,En?(En.$nodeToRelocate$["s-sh"]=Nt["s-hn"],En.$slotRefNode$=Nt):(Ae["s-sh"]=Nt["s-hn"],le.push({$slotRefNode$:Nt,$nodeToRelocate$:Ae})),Ae["s-sr"]&&le.map(On=>{_e(On.$nodeToRelocate$,Ae["s-sn"])&&(En=le.find(In=>In.$nodeToRelocate$===Ae),En&&!On.$slotRefNode$&&(On.$slotRefNode$=En.$slotRefNode$))})}else le.some(En=>En.$nodeToRelocate$===Ae)||le.push({$nodeToRelocate$:Ae})}1===Nt.nodeType&&Je(Nt)}},_e=(J,Ae)=>1===J.nodeType?null===J.getAttribute("slot")&&""===Ae||J.getAttribute("slot")===Ae:J["s-sn"]===Ae||""===Ae,ge=J=>{J.$attrs$&&J.$attrs$.ref&&J.$attrs$.ref(null),J.$children$&&J.$children$.map(ge)},Ge=(J,Ae,st)=>{const ht=null==J?void 0:J.insertBefore(Ae,st);return pn(Ae,J),ht},jt=J=>{const Ae=[];return J&&Ae.push(...J["s-scs"]||[],J["s-si"],J["s-sc"],...jt(J.parentElement)),Ae},pn=(J,Ae,st=!1)=>{var ht;if(J&&Ae&&1===J.nodeType){const Nt=new Set(jt(Ae).filter(Boolean));if(Nt.size&&(null==(ht=J.classList)||ht.add(...J["s-scs"]=[...Nt]),J["s-ol"]||st))for(const wt of Array.from(J.childNodes))pn(wt,J,!0)}},ye=(J,Ae)=>{Ae&&!J.$onRenderResolve$&&Ae["s-p"]&&Ae["s-p"].push(new Promise(st=>J.$onRenderResolve$=st))},je=(J,Ae)=>{if(J.$flags$|=16,!(4&J.$flags$))return ye(J,J.$ancestorComponent$),Ln(()=>bt(J,Ae));J.$flags$|=512},bt=(J,Ae)=>{const Nt=J.$lazyInstance$;if(!Nt)throw new Error(`Can't render component <${J.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let wt;return Ae&&(J.$flags$|=256,J.$queuedListeners$&&(J.$queuedListeners$.map(([En,On])=>rn(Nt,En,On)),J.$queuedListeners$=void 0),wt=rn(Nt,"componentWillLoad")),wt=X(wt,()=>rn(Nt,"componentWillRender")),X(wt,()=>ve(J,Nt,Ae))},X=(J,Ae)=>be(J)?J.then(Ae).catch(st=>{console.error(st),Ae()}):Ae(),be=J=>J instanceof Promise||J&&J.then&&"function"==typeof J.then,ve=function(){var J=(0,c.A)(function*(Ae,st,ht){var Nt;const wt=Ae.$hostElement$,On=wt["s-rc"];ht&&(J=>{const Ae=J.$cmpMeta$,st=J.$hostElement$,ht=Ae.$flags$,wt=mi(st.shadowRoot?st.shadowRoot:st.getRootNode(),Ae,J.$modeName$);10&ht&&2&ht&&(st["s-sc"]=wt,st.classList.add(wt+"-h"),2&ht&&st.classList.add(wt+"-s"))})(Ae);Xe(Ae,st,wt,ht),On&&(On.map(Nn=>Nn()),wt["s-rc"]=void 0);{const Nn=null!=(Nt=wt["s-p"])?Nt:[],Vn=()=>at(Ae);0===Nn.length?Vn():(Promise.all(Nn).then(Vn),Ae.$flags$|=4,Nn.length=0)}});return function(st,ht,Nt){return J.apply(this,arguments)}}(),Xe=(J,Ae,st,ht)=>{try{Ae=Ae.render&&Ae.render(),J.$flags$&=-17,J.$flags$|=2,((J,Ae,st=!1)=>{var ht,Nt,wt,En,On;const In=J.$hostElement$,Nn=J.$cmpMeta$,Vn=J.$vnode$||Zn(null,null),sr=(J=>J&&J.$tag$===mn)(Ae)?Ae:Tr(null,null,Ae);if(zt=In.tagName,Nn.$attrsToReflect$&&(sr.$attrs$=sr.$attrs$||{},Nn.$attrsToReflect$.map(([fr,ur])=>sr.$attrs$[ur]=In[fr])),st&&sr.$attrs$)for(const fr of Object.keys(sr.$attrs$))In.hasAttribute(fr)&&!["key","ref","style","class"].includes(fr)&&(sr.$attrs$[fr]=In[fr]);if(sr.$tag$=null,sr.$flags$|=4,J.$vnode$=sr,sr.$elm$=Vn.$elm$=In.shadowRoot||In,Fe=In["s-sc"],dn=!!(1&Nn.$flags$),Ct=In["s-cr"],xn=!1,tn(Vn,sr,st),un.$flags$|=1,An){Je(sr.$elm$);for(const fr of le){const ur=fr.$nodeToRelocate$;if(!ur["s-ol"]){const hi=Et.createTextNode("");hi["s-nr"]=ur,Ge(ur.parentNode,ur["s-ol"]=hi,ur)}}for(const fr of le){const ur=fr.$nodeToRelocate$,hi=fr.$slotRefNode$;if(hi){const Or=hi.parentNode;let qr=hi.nextSibling;if(qr&&1===qr.nodeType){let Ti=null==(ht=ur["s-ol"])?void 0:ht.previousSibling;for(;Ti;){let hr=null!=(Nt=Ti["s-nr"])?Nt:null;if(hr&&hr["s-sn"]===ur["s-sn"]&&Or===hr.parentNode){for(hr=hr.nextSibling;hr===ur||null!=hr&&hr["s-sr"];)hr=null==hr?void 0:hr.nextSibling;if(!hr||!hr["s-nr"]){qr=hr;break}}Ti=Ti.previousSibling}}(!qr&&Or!==ur.parentNode||ur.nextSibling!==qr)&&ur!==qr&&(Ge(Or,ur,qr),1===ur.nodeType&&(ur.hidden=null!=(wt=ur["s-ih"])&&wt)),ur&&"function"==typeof hi["s-rf"]&&hi["s-rf"](ur)}else 1===ur.nodeType&&(st&&(ur["s-ih"]=null!=(En=ur.hidden)&&En),ur.hidden=!0)}}if(xn&&fe(sr.$elm$),un.$flags$&=-2,le.length=0,2&Nn.$flags$)for(const fr of sr.$elm$.childNodes)fr["s-hn"]!==zt&&!fr["s-sh"]&&(st&&null==fr["s-ih"]&&(fr["s-ih"]=null!=(On=fr.hidden)&&On),fr.hidden=!0);Ct=void 0})(J,Ae,ht)}catch(Nt){We(Nt,J.$hostElement$)}return null},at=J=>{const st=J.$hostElement$,Nt=J.$lazyInstance$,wt=J.$ancestorComponent$;rn(Nt,"componentDidRender"),64&J.$flags$?rn(Nt,"componentDidUpdate"):(J.$flags$|=64,Wt(st),rn(Nt,"componentDidLoad"),J.$onReadyResolve$(st),wt||Bt()),J.$onInstanceResolve$(st),J.$onRenderResolve$&&(J.$onRenderResolve$(),J.$onRenderResolve$=void 0),512&J.$flags$&&nt(()=>je(J,!1)),J.$flags$&=-517},dt=J=>{{const Ae=Re(J),st=Ae.$hostElement$.isConnected;return st&&2==(18&Ae.$flags$)&&je(Ae,!1),st}},Bt=J=>{Wt(Et.documentElement),nt(()=>mr(ae,"appload",{detail:{namespace:"ionic"}}))},rn=(J,Ae,st)=>{if(J&&J[Ae])try{return J[Ae](st)}catch(ht){We(ht)}},Wt=J=>J.classList.add("hydrated"),kn=(J,Ae,st)=>{var ht,Nt;const wt=J.prototype;if(Ae.$members$||Ae.$watchers$||J.watchers){J.watchers&&!Ae.$watchers$&&(Ae.$watchers$=J.watchers);const En=Object.entries(null!=(ht=Ae.$members$)?ht:{});if(En.map(([On,[In]])=>{31&In||2&st&&32&In?Object.defineProperty(wt,On,{get(){return((J,Ae)=>Re(this).$instanceValues$.get(Ae))(0,On)},set(Nn){((J,Ae,st,ht)=>{const Nt=Re(J);if(!Nt)throw new Error(`Couldn't find host element for "${ht.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const wt=Nt.$hostElement$,En=Nt.$instanceValues$.get(Ae),On=Nt.$flags$,In=Nt.$lazyInstance$;st=((J,Ae)=>null==J||_r(J)?J:4&Ae?"false"!==J&&(""===J||!!J):2&Ae?parseFloat(J):1&Ae?String(J):J)(st,ht.$members$[Ae][0]);const Nn=Number.isNaN(En)&&Number.isNaN(st);if((!(8&On)||void 0===En)&&st!==En&&!Nn&&(Nt.$instanceValues$.set(Ae,st),In)){if(ht.$watchers$&&128&On){const sr=ht.$watchers$[Ae];sr&&sr.map(fr=>{try{In[fr](st,En,Ae)}catch(ur){We(ur,wt)}})}2==(18&On)&&je(Nt,!1)}})(this,On,Nn,Ae)},configurable:!0,enumerable:!0}):1&st&&64&In&&Object.defineProperty(wt,On,{value(...Nn){var Vn;const sr=Re(this);return null==(Vn=null==sr?void 0:sr.$onInstancePromise$)?void 0:Vn.then(()=>{var fr;return null==(fr=sr.$lazyInstance$)?void 0:fr[On](...Nn)})}})}),1&st){const On=new Map;wt.attributeChangedCallback=function(In,Nn,Vn){un.jmp(()=>{var sr;const fr=On.get(In);if(this.hasOwnProperty(fr))Vn=this[fr],delete this[fr];else{if(wt.hasOwnProperty(fr)&&"number"==typeof this[fr]&&this[fr]==Vn)return;if(null==fr){const ur=Re(this),hi=null==ur?void 0:ur.$flags$;if(hi&&!(8&hi)&&128&hi&&Vn!==Nn){const Or=ur.$lazyInstance$,qr=null==(sr=Ae.$watchers$)?void 0:sr[In];null==qr||qr.forEach(Ti=>{null!=Or[Ti]&&Or[Ti].call(Or,Vn,Nn,In)})}return}}this[fr]=(null!==Vn||"boolean"!=typeof this[fr])&&Vn})},J.observedAttributes=Array.from(new Set([...Object.keys(null!=(Nt=Ae.$watchers$)?Nt:{}),...En.filter(([In,Nn])=>15&Nn[0]).map(([In,Nn])=>{var Vn;const sr=Nn[1]||In;return On.set(sr,In),512&Nn[0]&&(null==(Vn=Ae.$attrsToReflect$)||Vn.push([In,sr])),sr})]))}}return J},lr=function(){var J=(0,c.A)(function*(Ae,st,ht,Nt){let wt;if(!(32&st.$flags$)){if(st.$flags$|=32,ht.$lazyBundleId$){const Nn=(J=>{const ht=J.$tagName$.replace(/-/g,"_"),Nt=J.$lazyBundleId$;if(!Nt)return;const wt=Ye.get(Nt);return wt?wt[ht]:k(8996)(`./${Nt}.entry.js`).then(En=>(Ye.set(Nt,En),En[ht]),We)})(ht);if(Nn&&"then"in Nn){const sr=()=>{};wt=yield Nn,sr()}else wt=Nn;if(!wt)throw new Error(`Constructor for "${ht.$tagName$}#${st.$modeName$}" was not found`);wt.isProxied||(ht.$watchers$=wt.watchers,kn(wt,ht,2),wt.isProxied=!0);const Vn=()=>{};st.$flags$|=8;try{new wt(st)}catch(sr){We(sr)}st.$flags$&=-9,st.$flags$|=128,Vn(),cr(st.$lazyInstance$)}else wt=Ae.constructor,customElements.whenDefined(Ae.localName).then(()=>st.$flags$|=128);if(wt&&wt.style){let Nn;"string"==typeof wt.style?Nn=wt.style:"string"!=typeof wt.style&&(st.$modeName$=(J=>gt.map(Ae=>Ae(J)).find(Ae=>!!Ae))(Ae),st.$modeName$&&(Nn=wt.style[st.$modeName$]));const Vn=Mt(ht,st.$modeName$);if(!ut.has(Vn)){const sr=()=>{};((J,Ae,st)=>{let ht=ut.get(J);ee&&st?(ht=ht||new CSSStyleSheet,"string"==typeof ht?ht=Ae:ht.replaceSync(Ae)):ht=Ae,ut.set(J,ht)})(Vn,Nn,!!(1&ht.$flags$)),sr()}}}const En=st.$ancestorComponent$,On=()=>je(st,!0);En&&En["s-rc"]?En["s-rc"].push(On):On()});return function(st,ht,Nt,wt){return J.apply(this,arguments)}}(),cr=J=>{rn(J,"connectedCallback")},ai=J=>{const Ae=J["s-cr"]=Et.createComment("");Ae["s-cn"]=!0,Ge(J,Ae,J.firstChild)},Nr=J=>{rn(J,"disconnectedCallback")},Ir=function(){var J=(0,c.A)(function*(Ae){if(!(1&un.$flags$)){const st=Re(Ae);st.$rmListeners$&&(st.$rmListeners$.map(ht=>ht()),st.$rmListeners$=void 0),null!=st&&st.$lazyInstance$?Nr(st.$lazyInstance$):null!=st&&st.$onReadyPromise$&&st.$onReadyPromise$.then(()=>Nr(st.$lazyInstance$))}});return function(st){return J.apply(this,arguments)}}(),Ni=J=>{const Ae=J.cloneNode;J.cloneNode=function(st){const ht=this,Nt=ht.shadowRoot&&true,wt=Ae.call(ht,!!Nt&&st);if(!Nt&&st){let On,In,En=0;const Nn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;En<ht.childNodes.length;En++)On=ht.childNodes[En]["s-nr"],In=Nn.every(Vn=>!ht.childNodes[En][Vn]),On&&(wt.__appendChild?wt.__appendChild(On.cloneNode(!0)):wt.appendChild(On.cloneNode(!0))),In&&wt.appendChild(ht.childNodes[En].cloneNode(!0))}return wt}},Ci=J=>{J.__appendChild=J.appendChild,J.appendChild=function(Ae){const st=Ae["s-sn"]=wo(Ae),ht=ao(this.childNodes,st,this.tagName);if(ht){const Nt=O(ht,st),wt=Nt[Nt.length-1],En=Ge(wt.parentNode,Ae,wt.nextSibling);return fe(this),En}return this.__appendChild(Ae)}},oo=J=>{J.__removeChild=J.removeChild,J.removeChild=function(Ae){if(Ae&&typeof Ae["s-sn"]<"u"){const st=ao(this.childNodes,Ae["s-sn"],this.tagName);if(st){const Nt=O(st,Ae["s-sn"]).find(wt=>wt===Ae);if(Nt)return Nt.remove(),void fe(this)}}return this.__removeChild(Ae)}},co=J=>{const Ae=J.prepend;J.prepend=function(...st){st.forEach(ht=>{"string"==typeof ht&&(ht=this.ownerDocument.createTextNode(ht));const Nt=ht["s-sn"]=wo(ht),wt=ao(this.childNodes,Nt,this.tagName);if(wt){const En=document.createTextNode("");En["s-nr"]=ht,wt["s-cr"].parentNode.__appendChild(En),ht["s-ol"]=En;const In=O(wt,Nt)[0];return Ge(In.parentNode,ht,In.nextSibling)}return 1===ht.nodeType&&ht.getAttribute("slot")&&(ht.hidden=!0),Ae.call(this,ht)})}},xo=J=>{J.append=function(...Ae){Ae.forEach(st=>{"string"==typeof st&&(st=this.ownerDocument.createTextNode(st)),this.appendChild(st)})}},vo=J=>{const Ae=J.insertAdjacentHTML;J.insertAdjacentHTML=function(st,ht){if("afterbegin"!==st&&"beforeend"!==st)return Ae.call(this,st,ht);const Nt=this.ownerDocument.createElement("_");let wt;if(Nt.innerHTML=ht,"afterbegin"===st)for(;wt=Nt.firstChild;)this.prepend(wt);else if("beforeend"===st)for(;wt=Nt.firstChild;)this.append(wt)}},_s=J=>{J.insertAdjacentText=function(Ae,st){this.insertAdjacentHTML(Ae,st)}},ho=J=>{const Ae=J.insertAdjacentElement;J.insertAdjacentElement=function(st,ht){return"afterbegin"!==st&&"beforeend"!==st?Ae.call(this,st,ht):"afterbegin"===st?(this.prepend(ht),ht):("beforeend"===st&&this.append(ht),ht)}},jr=J=>{const Ae=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(J,"__textContent",Ae),Object.defineProperty(J,"textContent",{get(){return" "+Vo(this.childNodes).map(Nt=>{var wt,En;const On=[];let In=Nt.nextSibling;for(;In&&In["s-sn"]===Nt["s-sn"];)(3===In.nodeType||1===In.nodeType)&&On.push(null!=(En=null==(wt=In.textContent)?void 0:wt.trim())?En:""),In=In.nextSibling;return On.filter(Nn=>""!==Nn).join(" ")}).filter(Nt=>""!==Nt).join(" ")+" "},set(st){Vo(this.childNodes).forEach(Nt=>{let wt=Nt.nextSibling;for(;wt&&wt["s-sn"]===Nt["s-sn"];){const En=wt;wt=wt.nextSibling,En.remove()}if(""===Nt["s-sn"]){const En=this.ownerDocument.createTextNode(st);En["s-sn"]="",Ge(Nt.parentElement,En,Nt.nextSibling)}else Nt.remove()})}})},Do=(J,Ae)=>{class st extends Array{item(Nt){return this[Nt]}}if(8&Ae.$flags$){const ht=J.__lookupGetter__("childNodes");Object.defineProperty(J,"children",{get(){return this.childNodes.map(Nt=>1===Nt.nodeType)}}),Object.defineProperty(J,"childElementCount",{get:()=>J.children.length}),Object.defineProperty(J,"childNodes",{get(){const Nt=ht.call(this);if(!(1&un.$flags$)&&2&Re(this).$flags$){const wt=new st;for(let En=0;En<Nt.length;En++){const On=Nt[En]["s-nr"];On&&wt.push(On)}return wt}return st.from(Nt)}})}},Vo=J=>{const Ae=[];for(const st of Array.from(J))st["s-sr"]&&Ae.push(st),Ae.push(...Vo(st.childNodes));return Ae},wo=J=>J["s-sn"]||1===J.nodeType&&J.getAttribute("slot")||"",ao=(J,Ae,st)=>{let Nt,ht=0;for(;ht<J.length;ht++)if(Nt=J[ht],Nt["s-sr"]&&Nt["s-sn"]===Ae&&Nt["s-hn"]===st||(Nt=ao(Nt.childNodes,Ae,st),Nt))return Nt;return null},O=(J,Ae)=>{const st=[J];for(;(J=J.nextSibling)&&J["s-sn"]===Ae;)st.push(J);return st},re=(J,Ae={})=>{var st;const Nt=[],wt=Ae.exclude||[],En=ae.customElements,On=Et.head,In=On.querySelector("meta[charset]"),Nn=Et.createElement("style"),Vn=[];let sr,fr=!0;Object.assign(un,Ae),un.$resourcesUrl$=new URL(Ae.resourcesUrl||"./",Et.baseURI).href,un.$flags$|=2;let ur=!1;if(J.map(hi=>{hi[1].map(Or=>{var qr;const Ti={$flags$:Or[0],$tagName$:Or[1],$members$:Or[2],$listeners$:Or[3]};4&Ti.$flags$&&(ur=!0),Ti.$members$=Or[2],Ti.$listeners$=Or[3],Ti.$attrsToReflect$=[],Ti.$watchers$=null!=(qr=Or[4])?qr:{};const hr=Ti.$tagName$,Jo=class extends HTMLElement{constructor(fo){if(super(fo),this.hasRegisteredEventListeners=!1,((J,Ae)=>{const st={$flags$:0,$hostElement$:J,$cmpMeta$:Ae,$instanceValues$:new Map};st.$onInstancePromise$=new Promise(ht=>st.$onInstanceResolve$=ht),st.$onReadyPromise$=new Promise(ht=>st.$onReadyResolve$=ht),J["s-p"]=[],J["s-rc"]=[],ke.set(J,st)})(fo=this,Ti),1&Ti.$flags$)if(fo.shadowRoot){if("open"!==fo.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Ti.$tagName$}! Mode is set to ${fo.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else fo.attachShadow({mode:"open",delegatesFocus:!!(16&Ti.$flags$)})}connectedCallback(){const fo=Re(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Oe(this,fo,Ti.$listeners$)),sr&&(clearTimeout(sr),sr=null),fr?Vn.push(this):un.jmp(()=>(J=>{if(!(1&un.$flags$)){const Ae=Re(J),st=Ae.$cmpMeta$,ht=()=>{};if(1&Ae.$flags$)Oe(J,Ae,st.$listeners$),null!=Ae&&Ae.$lazyInstance$?cr(Ae.$lazyInstance$):null!=Ae&&Ae.$onReadyPromise$&&Ae.$onReadyPromise$.then(()=>cr(Ae.$lazyInstance$));else{let Nt;if(Ae.$flags$|=1,Nt=J.getAttribute(Qe),Nt){if(1&st.$flags$){const wt=mi(J.shadowRoot,st,J.getAttribute("s-mode"));J.classList.remove(wt+"-h",wt+"-s")}((J,Ae,st,ht)=>{const wt=J.shadowRoot,En=[],In=wt?[]:null,Nn=ht.$vnode$=Zn(Ae,null);un.$orgLocNodes$||Pr(Et.body,un.$orgLocNodes$=new Map),J[Qe]=st,J.removeAttribute(Qe),ri(Nn,En,[],In,J,J,st),En.map(Vn=>{const sr=Vn.$hostId$+"."+Vn.$nodeId$,fr=un.$orgLocNodes$.get(sr),ur=Vn.$elm$;fr&&""===fr["s-en"]&&fr.parentNode.insertBefore(ur,fr.nextSibling),wt||(ur["s-hn"]=Ae,fr&&(ur["s-ol"]=fr,ur["s-ol"]["s-nr"]=ur)),un.$orgLocNodes$.delete(sr)}),wt&&In.map(Vn=>{Vn&&wt.appendChild(Vn)})})(J,st.$tagName$,Nt,Ae)}Nt||12&st.$flags$&&ai(J);{let wt=J;for(;wt=wt.parentNode||wt.host;)if(1===wt.nodeType&&wt.hasAttribute("s-id")&&wt["s-p"]||wt["s-p"]){ye(Ae,Ae.$ancestorComponent$=wt);break}}st.$members$&&Object.entries(st.$members$).map(([wt,[En]])=>{if(31&En&&J.hasOwnProperty(wt)){const On=J[wt];delete J[wt],J[wt]=On}}),lr(J,Ae,st)}ht()}})(this))}disconnectedCallback(){un.jmp(()=>Ir(this))}componentOnReady(){return Re(this).$onReadyPromise$}};2&Ti.$flags$&&((J,Ae)=>{Ni(J),Ci(J),xo(J),co(J),ho(J),vo(J),_s(J),jr(J),Do(J,Ae),oo(J)})(Jo.prototype,Ti),Ti.$lazyBundleId$=hi[0],!wt.includes(hr)&&!En.get(hr)&&(Nt.push(hr),En.define(hr,kn(Jo,Ti,1)))})}),Nt.length>0&&(ur&&(Nn.textContent+=vt),Nn.textContent+=Nt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Nn.innerHTML.length)){Nn.setAttribute("data-styles","");const hi=null!=(st=un.$nonce$)?st:Xn(Et);null!=hi&&Nn.setAttribute("nonce",hi),On.insertBefore(Nn,In?In.nextSibling:On.firstChild)}fr=!1,Vn.length?Vn.map(hi=>hi.connectedCallback()):un.jmp(()=>sr=setTimeout(Bt,30))},Oe=(J,Ae,st,ht)=>{st&&st.map(([Nt,wt,En])=>{const On=Ue(J,Nt),In=F(Ae,En),Nn=xt(Nt);un.ael(On,wt,In,Nn),(Ae.$rmListeners$=Ae.$rmListeners$||[]).push(()=>un.rel(On,wt,In,Nn))})},F=(J,Ae)=>st=>{var ht;try{256&J.$flags$?null==(ht=J.$lazyInstance$)||ht[Ae](st):(J.$queuedListeners$=J.$queuedListeners$||[]).push([Ae,st])}catch(Nt){We(Nt)}},Ue=(J,Ae)=>4&Ae?Et:8&Ae?ae:16&Ae?Et.body:J,xt=J=>Qn?{passive:!!(1&J),capture:!!(2&J)}:!!(2&J)},8607:(Gn,St,k)=>{"use strict";k.r(St),k.d(St,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>ot});var c=k(1970);const p=(Ye,He,ut,gt)=>{const mt=U(Ye)?{capture:!!gt.capture,passive:!!gt.passive}:!!gt.capture;let ft,Ot;return Ye.__zone_symbol__addEventListener?(ft="__zone_symbol__addEventListener",Ot="__zone_symbol__removeEventListener"):(ft="addEventListener",Ot="removeEventListener"),Ye[ft](He,ut,mt),()=>{Ye[Ot](He,ut,mt)}},U=Ye=>{if(void 0===q)try{const He=Object.defineProperty({},"passive",{get:()=>{q=!0}});Ye.addEventListener("optsTest",()=>{},He)}catch{q=!1}return!!q};let q;const ke=Ye=>Ye instanceof Document?Ye:Ye.ownerDocument,ot=Ye=>{let He=!1,ut=!1,gt=!0,mt=!1;const ft=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ye),Ot=ft.canStart,Tt=ft.onWillStart,Qe=ft.onStart,Te=ft.onEnd,$e=ft.notCaptured,ct=ft.onMove,vt=ft.threshold,Ut=ft.passive,ae=ft.blurOnStart,Et={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Xt=((Ye,He,ut)=>{const gt=ut*(Math.PI/180),mt="x"===Ye,ft=Math.cos(gt),Ot=He*He;let Tt=0,Qe=0,Te=!1,$e=0;return{start(ct,vt){Tt=ct,Qe=vt,$e=0,Te=!0},detect(ct,vt){if(!Te)return!1;const Ut=ct-Tt,ae=vt-Qe,Et=Ut*Ut+ae*ae;if(Et<Ot)return!1;const Xt=Math.sqrt(Et),un=(mt?Ut:ae)/Xt;return $e=un>ft?1:un<-ft?-1:0,Te=!1,!0},isGesture:()=>0!==$e,getDirection:()=>$e}})(ft.direction,ft.threshold,ft.maxAngle),un=c.G.createGesture({name:Ye.gestureName,priority:Ye.gesturePriority,disableScroll:Ye.disableScroll}),Qn=()=>{He&&(mt=!1,ct&&ct(Et))},Ze=()=>!!un.capture()&&(He=!0,gt=!1,Et.startX=Et.currentX,Et.startY=Et.currentY,Et.startTime=Et.currentTime,Tt?Tt(Et).then(de):de(),!0),de=()=>{ae&&(()=>{if(typeof document<"u"){const it=document.activeElement;null!=it&&it.blur&&it.blur()}})(),Qe&&Qe(Et),gt=!0},Se=()=>{He=!1,ut=!1,mt=!1,gt=!0,un.release()},he=it=>{const nt=He,Vt=gt;if(Se(),Vt){if(Ve(Et,it),nt)return void(Te&&Te(Et));$e&&$e(Et)}},Be=((Ye,He,ut,gt,mt)=>{let ft,Ot,Tt,Qe,Te,$e,ct,vt=0;const Ut=ee=>{vt=Date.now()+2e3,He(ee)&&(!Ot&&ut&&(Ot=p(Ye,"touchmove",ut,mt)),Tt||(Tt=p(ee.target,"touchend",Et,mt)),Qe||(Qe=p(ee.target,"touchcancel",Et,mt)))},ae=ee=>{vt>Date.now()||He(ee)&&(!$e&&ut&&($e=p(ke(Ye),"mousemove",ut,mt)),ct||(ct=p(ke(Ye),"mouseup",Xt,mt)))},Et=ee=>{un(),gt&&gt(ee)},Xt=ee=>{Ht(),gt&&gt(ee)},un=()=>{Ot&&Ot(),Tt&&Tt(),Qe&&Qe(),Ot=Tt=Qe=void 0},Ht=()=>{$e&&$e(),ct&&ct(),$e=ct=void 0},Ft=()=>{un(),Ht()},Qn=(ee=!0)=>{ee?(ft||(ft=p(Ye,"touchstart",Ut,mt)),Te||(Te=p(Ye,"mousedown",ae,mt))):(ft&&ft(),Te&&Te(),ft=Te=void 0,Ft())};return{enable:Qn,stop:Ft,destroy:()=>{Qn(!1),gt=ut=He=void 0}}})(ft.el,it=>{const nt=We(it);return!(ut||!gt||(me(it,Et),Et.startX=Et.currentX,Et.startY=Et.currentY,Et.startTime=Et.currentTime=nt,Et.velocityX=Et.velocityY=Et.deltaX=Et.deltaY=0,Et.event=it,Ot&&!1===Ot(Et))||(un.release(),!un.start()))&&(ut=!0,0===vt?Ze():(Xt.start(Et.startX,Et.startY),!0))},it=>{He?!mt&&gt&&(mt=!0,Ve(Et,it),requestAnimationFrame(Qn)):(Ve(Et,it),Xt.detect(Et.currentX,Et.currentY)&&(!Xt.isGesture()||!Ze())&&Ke())},he,{capture:!1,passive:Ut}),Ke=()=>{Se(),Be.stop(),$e&&$e(Et)};return{enable(it=!0){it||(He&&he(void 0),Se()),Be.enable(it)},destroy(){un.destroy(),Be.destroy()}}},Ve=(Ye,He)=>{if(!He)return;const ut=Ye.currentX,gt=Ye.currentY,mt=Ye.currentTime;me(He,Ye);const ft=Ye.currentX,Ot=Ye.currentY,Qe=(Ye.currentTime=We(He))-mt;if(Qe>0&&Qe<100){const $e=(Ot-gt)/Qe;Ye.velocityX=(ft-ut)/Qe*.7+.3*Ye.velocityX,Ye.velocityY=.7*$e+.3*Ye.velocityY}Ye.deltaX=ft-Ye.startX,Ye.deltaY=Ot-Ye.startY,Ye.event=He},me=(Ye,He)=>{let ut=0,gt=0;if(Ye){const mt=Ye.changedTouches;if(mt&&mt.length>0){const ft=mt[0];ut=ft.clientX,gt=ft.clientY}else void 0!==Ye.pageX&&(ut=Ye.pageX,gt=Ye.pageY)}He.currentX=ut,He.currentY=gt},We=Ye=>Ye.timeStamp||Date.now()},3604:(Gn,St,k)=>{"use strict";k.d(St,{b:()=>Re,c:()=>ot,d:()=>Ve,e:()=>Ft,g:()=>ee,l:()=>un,s:()=>Qn,t:()=>ft,w:()=>Ht});var c=k(467),p=k(9483),U=k(4261),q=k(4929),ce=k(4920);const Re="ionViewWillLeave",ot="ionViewDidLeave",Ve="ionViewWillUnload",me=de=>{de.tabIndex=-1,de.focus()},We=de=>null!==de.offsetParent,He="ion-last-focus",mt_saveViewFocus=he=>{if(p.c.get("focusManagerPriority",!1)){const Ke=document.activeElement;null!==Ke&&null!=he&&he.contains(Ke)&&Ke.setAttribute(He,"true")}},mt_setViewFocus=he=>{const Be=p.c.get("focusManagerPriority",!1);if(Array.isArray(Be)&&!he.contains(document.activeElement)){const Ke=he.querySelector(`[${He}]`);if(Ke&&We(Ke))return void me(Ke);for(const it of Be)switch(it){case"content":const nt=he.querySelector('main, [role="main"]');if(nt&&We(nt))return void me(nt);break;case"heading":const Vt=he.querySelector('h1, [role="heading"][aria-level="1"]');if(Vt&&We(Vt))return void me(Vt);break;case"banner":const Ln=he.querySelector('header, [role="banner"]');if(Ln&&We(Ln))return void me(Ln);break;default:(0,q.p)(`Unrecognized focus manager priority value ${it}`)}me(he)}},ft=de=>new Promise((Se,he)=>{(0,U.w)(()=>{Ot(de),Tt(de).then(Be=>{Be.animation&&Be.animation.destroy(),Qe(de),Se(Be)},Be=>{Qe(de),he(Be)})})}),Ot=de=>{const Se=de.enteringEl,he=de.leavingEl;mt_saveViewFocus(he),Ze(Se,he,de.direction),de.showGoBack?Se.classList.add("can-go-back"):Se.classList.remove("can-go-back"),Qn(Se,!1),Se.style.setProperty("pointer-events","none"),he&&(Qn(he,!1),he.style.setProperty("pointer-events","none"))},Tt=function(){var de=(0,c.A)(function*(Se){const he=yield Te(Se);return he&&U.B.isBrowser?$e(he,Se):ct(Se)});return function(he){return de.apply(this,arguments)}}(),Qe=de=>{const Se=de.enteringEl,he=de.leavingEl;Se.classList.remove("ion-page-invisible"),Se.style.removeProperty("pointer-events"),void 0!==he&&(he.classList.remove("ion-page-invisible"),he.style.removeProperty("pointer-events")),mt_setViewFocus(Se)},Te=function(){var de=(0,c.A)(function*(Se){return Se.leavingEl&&Se.animated&&0!==Se.duration?Se.animationBuilder?Se.animationBuilder:"ios"===Se.mode?(yield Promise.resolve().then(k.bind(k,5022))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,3615))).mdTransitionAnimation:void 0});return function(he){return de.apply(this,arguments)}}(),$e=function(){var de=(0,c.A)(function*(Se,he){yield vt(he,!0);const Be=Se(he.baseEl,he);Et(he.enteringEl,he.leavingEl);const Ke=yield ae(Be,he);return he.progressCallback&&he.progressCallback(void 0),Ke&&Xt(he.enteringEl,he.leavingEl),{hasCompleted:Ke,animation:Be}});return function(he,Be){return de.apply(this,arguments)}}(),ct=function(){var de=(0,c.A)(function*(Se){const he=Se.enteringEl,Be=Se.leavingEl,Ke=p.c.get("focusManagerPriority",!1);return yield vt(Se,Ke),Et(he,Be),Xt(he,Be),{hasCompleted:!0}});return function(he){return de.apply(this,arguments)}}(),vt=function(){var de=(0,c.A)(function*(Se,he){(void 0!==Se.deepWait?Se.deepWait:he)&&(yield Promise.all([Ft(Se.enteringEl),Ft(Se.leavingEl)])),yield Ut(Se.viewIsReady,Se.enteringEl)});return function(he,Be){return de.apply(this,arguments)}}(),Ut=function(){var de=(0,c.A)(function*(Se,he){Se&&(yield Se(he))});return function(he,Be){return de.apply(this,arguments)}}(),ae=(de,Se)=>{const he=Se.progressCallback,Be=new Promise(Ke=>{de.onFinish(it=>Ke(1===it))});return he?(de.progressStart(!0),he(de)):de.play(),Be},Et=(de,Se)=>{un(Se,Re),un(de,"ionViewWillEnter")},Xt=(de,Se)=>{un(de,"ionViewDidEnter"),un(Se,ot)},un=(de,Se)=>{if(de){const he=new CustomEvent(Se,{bubbles:!1,cancelable:!1});de.dispatchEvent(he)}},Ht=()=>new Promise(de=>(0,ce.r)(()=>(0,ce.r)(()=>de()))),Ft=function(){var de=(0,c.A)(function*(Se){const he=Se;if(he){if(null!=he.componentOnReady){if(null!=(yield he.componentOnReady()))return}else if(null!=he.__registerHost)return void(yield new Promise(Ke=>(0,ce.r)(Ke)));yield Promise.all(Array.from(he.children).map(Ft))}});return function(he){return de.apply(this,arguments)}}(),Qn=(de,Se)=>{Se?(de.setAttribute("aria-hidden","true"),de.classList.add("ion-page-hidden")):(de.hidden=!1,de.removeAttribute("aria-hidden"),de.classList.remove("ion-page-hidden"))},Ze=(de,Se,he)=>{void 0!==de&&(de.style.zIndex="back"===he?"99":"101"),void 0!==Se&&(Se.style.zIndex="100")},ee=de=>de.classList.contains("ion-page")?de:de.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||de},4929:(Gn,St,k)=>{"use strict";k.d(St,{a:()=>p,b:()=>U,p:()=>c});const c=(q,...ce)=>console.warn(`[Ionic Warning]: ${q}`,...ce),p=(q,...ce)=>console.error(`[Ionic Error]: ${q}`,...ce),U=(q,...ce)=>console.error(`<${q.tagName.toLowerCase()}> must be used inside ${ce.join(" or ")}.`)},8476:(Gn,St,k)=>{"use strict";k.d(St,{d:()=>p,w:()=>c});const c=typeof window<"u"?window:void 0,p=typeof document<"u"?document:void 0},9568:(Gn,St,k)=>{"use strict";k.d(St,{m:()=>Ye});var c=k(467),p=k(8476),U=k(7192),q=k(4929),ce=k(4920),Pe=k(9483),ke=k(9986);const Re=He=>(0,ke.c)().duration(He?400:300),ot=He=>{let ut,gt;const mt=He.width+8,ft=(0,ke.c)(),Ot=(0,ke.c)();He.isEndSide?(ut=mt+"px",gt="0px"):(ut=-mt+"px",gt="0px"),ft.addElement(He.menuInnerEl).fromTo("transform",`translateX(${ut})`,`translateX(${gt})`);const Qe="ios"===(0,Pe.b)(He),Te=Qe?.2:.25;return Ot.addElement(He.backdropEl).fromTo("opacity",.01,Te),Re(Qe).addAnimation([ft,Ot])},Ve=He=>{let ut,gt;const mt=(0,Pe.b)(He),ft=He.width;He.isEndSide?(ut=-ft+"px",gt=ft+"px"):(ut=ft+"px",gt=-ft+"px");const Ot=(0,ke.c)().addElement(He.menuInnerEl).fromTo("transform",`translateX(${gt})`,"translateX(0px)"),Tt=(0,ke.c)().addElement(He.contentEl).fromTo("transform","translateX(0px)",`translateX(${ut})`),Qe=(0,ke.c)().addElement(He.backdropEl).fromTo("opacity",.01,.32);return Re("ios"===mt).addAnimation([Ot,Tt,Qe])},me=He=>{const ut=(0,Pe.b)(He),gt=He.width*(He.isEndSide?-1:1)+"px",mt=(0,ke.c)().addElement(He.contentEl).fromTo("transform","translateX(0px)",`translateX(${gt})`);return Re("ios"===ut).addAnimation(mt)},Ye=(()=>{const He=new Map,ut=[],gt=function(){var Se=(0,c.A)(function*(he){const Be=yield $e(he,!0);return!!Be&&Be.open()});return function(Be){return Se.apply(this,arguments)}}(),mt=function(){var Se=(0,c.A)(function*(he){const Be=yield void 0!==he?$e(he,!0):ct();return void 0!==Be&&Be.close()});return function(Be){return Se.apply(this,arguments)}}(),ft=function(){var Se=(0,c.A)(function*(he){const Be=yield $e(he,!0);return!!Be&&Be.toggle()});return function(Be){return Se.apply(this,arguments)}}(),Ot=function(){var Se=(0,c.A)(function*(he,Be){const Ke=yield $e(Be);return Ke&&(Ke.disabled=!he),Ke});return function(Be,Ke){return Se.apply(this,arguments)}}(),Tt=function(){var Se=(0,c.A)(function*(he,Be){const Ke=yield $e(Be);return Ke&&(Ke.swipeGesture=he),Ke});return function(Be,Ke){return Se.apply(this,arguments)}}(),Qe=function(){var Se=(0,c.A)(function*(he){if(null!=he){const Be=yield $e(he);return void 0!==Be&&Be.isOpen()}return void 0!==(yield ct())});return function(Be){return Se.apply(this,arguments)}}(),Te=function(){var Se=(0,c.A)(function*(he){const Be=yield $e(he);return!!Be&&!Be.disabled});return function(Be){return Se.apply(this,arguments)}}(),$e=function(){var Se=(0,c.A)(function*(he,Be=!1){if(yield de(),"start"===he||"end"===he){const it=ut.filter(Vt=>Vt.side===he&&!Vt.disabled);if(it.length>=1)return it.length>1&&Be&&(0,q.p)(`menuController queried for a menu on the "${he}" side, but ${it.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,it.map(Vt=>Vt.el)),it[0].el;const nt=ut.filter(Vt=>Vt.side===he);if(nt.length>=1)return nt.length>1&&Be&&(0,q.p)(`menuController queried for a menu on the "${he}" side, but ${nt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,nt.map(Vt=>Vt.el)),nt[0].el}else if(null!=he)return ee(it=>it.menuId===he);return ee(it=>!it.disabled)||(ut.length>0?ut[0].el:void 0)});return function(Be){return Se.apply(this,arguments)}}(),ct=function(){var Se=(0,c.A)(function*(){return yield de(),Ft()});return function(){return Se.apply(this,arguments)}}(),vt=function(){var Se=(0,c.A)(function*(){return yield de(),Qn()});return function(){return Se.apply(this,arguments)}}(),Ut=function(){var Se=(0,c.A)(function*(){return yield de(),Ze()});return function(){return Se.apply(this,arguments)}}(),ae=(Se,he)=>{He.set(Se,he)},un=function(){var Se=(0,c.A)(function*(he,Be,Ke){if(Ze())return!1;if(Be){const it=yield ct();it&&he.el!==it&&(yield it.setOpen(!1,!1))}return he._setOpen(Be,Ke)});return function(Be,Ke,it){return Se.apply(this,arguments)}}(),Ft=()=>ee(Se=>Se._isOpen),Qn=()=>ut.map(Se=>Se.el),Ze=()=>ut.some(Se=>Se.isAnimating),ee=Se=>{const he=ut.find(Se);if(void 0!==he)return he.el},de=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Se=>new Promise(he=>(0,ce.c)(Se,he))));return ae("reveal",me),ae("push",Ve),ae("overlay",ot),null==p.d||p.d.addEventListener("ionBackButton",Se=>{const he=Ft();he&&Se.detail.register(U.MENU_BACK_BUTTON_PRIORITY,()=>he.close())}),{registerAnimation:ae,get:$e,getMenus:vt,getOpen:ct,isEnabled:Te,swipeGesture:Tt,isAnimating:Ut,isOpen:Qe,enable:Ot,toggle:ft,close:mt,open:gt,_getOpenSync:Ft,_createAnimation:(Se,he)=>{const Be=He.get(Se);if(!Be)throw new Error("animation not registered");return Be(he)},_register:Se=>{ut.indexOf(Se)<0&&ut.push(Se)},_unregister:Se=>{const he=ut.indexOf(Se);he>-1&&ut.splice(he,1)},_setOpen:un}})()},9483:(Gn,St,k)=>{"use strict";k.d(St,{a:()=>me,b:()=>Qn,c:()=>U,i:()=>Ze});var c=k(4261);class p{constructor(){this.m=new Map}reset(de){this.m=new Map(Object.entries(de))}get(de,Se){const he=this.m.get(de);return void 0!==he?he:Se}getBoolean(de,Se=!1){const he=this.m.get(de);return void 0===he?Se:"string"==typeof he?"true"===he:!!he}getNumber(de,Se){const he=parseFloat(this.m.get(de));return isNaN(he)?void 0!==Se?Se:NaN:he}set(de,Se){this.m.set(de,Se)}}const U=new p,ot="ionic-persist-config",me=(ee,de)=>("string"==typeof ee&&(de=ee,ee=void 0),(ee=>We(ee))(ee).includes(de)),We=(ee=window)=>{if(typeof ee>"u")return[];ee.Ionic=ee.Ionic||{};let de=ee.Ionic.platforms;return null==de&&(de=ee.Ionic.platforms=Ye(ee),de.forEach(Se=>ee.document.documentElement.classList.add(`plt-${Se}`))),de},Ye=ee=>{const de=U.get("platform");return Object.keys(Ht).filter(Se=>{const he=null==de?void 0:de[Se];return"function"==typeof he?he(ee):Ht[Se](ee)})},ut=ee=>!!(Xt(ee,/iPad/i)||Xt(ee,/Macintosh/i)&&Te(ee)),ft=ee=>Xt(ee,/android|sink/i),Te=ee=>un(ee,"(any-pointer:coarse)"),ct=ee=>vt(ee)||Ut(ee),vt=ee=>!!(ee.cordova||ee.phonegap||ee.PhoneGap),Ut=ee=>{const de=ee.Capacitor;return!(null==de||!de.isNative)},Xt=(ee,de)=>de.test(ee.navigator.userAgent),un=(ee,de)=>{var Se;return null===(Se=ee.matchMedia)||void 0===Se?void 0:Se.call(ee,de).matches},Ht={ipad:ut,iphone:ee=>Xt(ee,/iPhone/i),ios:ee=>Xt(ee,/iPhone|iPod/i)||ut(ee),android:ft,phablet:ee=>{const de=ee.innerWidth,Se=ee.innerHeight,he=Math.min(de,Se),Be=Math.max(de,Se);return he>390&&he<520&&Be>620&&Be<800},tablet:ee=>{const de=ee.innerWidth,Se=ee.innerHeight,he=Math.min(de,Se),Be=Math.max(de,Se);return ut(ee)||(ee=>ft(ee)&&!Xt(ee,/mobile/i))(ee)||he>460&&he<820&&Be>780&&Be<1400},cordova:vt,capacitor:Ut,electron:ee=>Xt(ee,/electron/i),pwa:ee=>{var de;return!!(null!==(de=ee.matchMedia)&&void 0!==de&&de.call(ee,"(display-mode: standalone)").matches||ee.navigator.standalone)},mobile:Te,mobileweb:ee=>Te(ee)&&!ct(ee),desktop:ee=>!Te(ee),hybrid:ct};let Ft;const Qn=ee=>ee&&(0,c.g)(ee)||Ft,Ze=(ee={})=>{if(typeof window>"u")return;const de=window.document,Se=window,he=Se.Ionic=Se.Ionic||{},Be={};ee._ael&&(Be.ael=ee._ael),ee._rel&&(Be.rel=ee._rel),ee._ce&&(Be.ce=ee._ce),(0,c.a)(Be);const Ke=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ee=>{try{const de=ee.sessionStorage.getItem(ot);return null!==de?JSON.parse(de):{}}catch{return{}}})(Se)),{persistConfig:!1}),he.config),(ee=>{const de={};return ee.location.search.slice(1).split("&").map(Se=>Se.split("=")).map(([Se,he])=>{try{return[decodeURIComponent(Se),decodeURIComponent(he)]}catch{return["",""]}}).filter(([Se])=>((ee,de)=>ee.substr(0,de.length)===de)(Se,"ionic:")).map(([Se,he])=>[Se.slice(6),he]).forEach(([Se,he])=>{de[Se]=he}),de})(Se)),ee);U.reset(Ke),U.getBoolean("persistConfig")&&((ee,de)=>{try{ee.sessionStorage.setItem(ot,JSON.stringify(de))}catch{return}})(Se,Ke),We(Se),he.config=U,he.mode=Ft=U.get("mode",de.documentElement.getAttribute("mode")||(me(Se,"ios")?"ios":"md")),U.set("mode",Ft),de.documentElement.setAttribute("mode",Ft),de.documentElement.classList.add(Ft),U.getBoolean("_testing")&&U.set("animated",!1);const it=Vt=>{var Ln;return null===(Ln=Vt.tagName)||void 0===Ln?void 0:Ln.startsWith("ION-")},nt=Vt=>["ios","md"].includes(Vt);(0,c.c)(Vt=>{for(;Vt;){const Ln=Vt.mode||Vt.getAttribute("mode");if(Ln){if(nt(Ln))return Ln;it(Vt)&&console.warn('Invalid ionic mode: "'+Ln+'", expected: "ios" or "md"')}Vt=Vt.parentElement}return Ft})}},5022:(Gn,St,k)=>{"use strict";k.r(St),k.d(St,{iosTransitionAnimation:()=>He,shadow:()=>Re});var c=k(9986),p=k(3604);k(8476),k(9483),k(4261);const ke=gt=>document.querySelector(`${gt}.ion-cloned-element`),Re=gt=>gt.shadowRoot||gt,ot=gt=>{const mt="ION-TABS"===gt.tagName?gt:gt.querySelector("ion-tabs"),ft="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=mt){const Ot=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ot?Ot.querySelector(ft):null}return gt.querySelector(ft)},Ve=(gt,mt)=>{const ft="ION-TABS"===gt.tagName?gt:gt.querySelector("ion-tabs");let Ot=[];if(null!=ft){const Tt=ft.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Tt&&(Ot=Tt.querySelectorAll("ion-buttons"))}else Ot=gt.querySelectorAll("ion-buttons");for(const Tt of Ot){const Qe=Tt.closest("ion-header"),Te=Qe&&!Qe.classList.contains("header-collapse-condense-inactive"),$e=Tt.querySelector("ion-back-button"),ct=Tt.classList.contains("buttons-collapse");if(null!==$e&&("start"===Tt.slot||""===Tt.slot)&&(ct&&Te&&mt||!ct))return $e}return null},We=(gt,mt,ft,Ot,Tt,Qe,Te,$e,ct)=>{var vt,Ut;const ae=mt?`calc(100% - ${Tt.right+4}px)`:Tt.left-4+"px",Et=mt?"right":"left",Xt=mt?"left":"right",un=mt?"right":"left";let Ht=1,Ft=1,Qn=`scale(${Ft})`;const Ze="scale(1)";if(Qe&&Te){const Kt=(null===(vt=Qe.textContent)||void 0===vt?void 0:vt.trim())===(null===(Ut=$e.textContent)||void 0===Ut?void 0:Ut.trim());Ht=ct.width/Te.width,Ft=(ct.height-ut)/Te.height,Qn=Kt?`scale(${Ht}, ${Ft})`:`scale(${Ft})`}const de=Re(Ot).querySelector("ion-icon").getBoundingClientRect(),Se=mt?de.width/2-(de.right-Tt.right)+"px":Tt.left-de.width/2+"px",he=mt?`-${window.innerWidth-Tt.right}px`:`${Tt.left}px`,Be=`${ct.top}px`,Ke=`${Tt.top}px`,Vt=ft?[{offset:0,transform:`translate3d(${he}, ${Ke}, 0)`},{offset:1,transform:`translate3d(${Se}, ${Be}, 0)`}]:[{offset:0,transform:`translate3d(${Se}, ${Be}, 0)`},{offset:1,transform:`translate3d(${he}, ${Ke}, 0)`}],ir=ft?[{offset:0,opacity:1,transform:Ze},{offset:1,opacity:0,transform:Qn}]:[{offset:0,opacity:0,transform:Qn},{offset:1,opacity:1,transform:Ze}],Kn=ft?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],_r=(0,c.c)(),Xn=(0,c.c)(),Bn=(0,c.c)(),bn=ke("ion-back-button"),sn=Re(bn).querySelector(".button-text"),At=Re(bn).querySelector("ion-icon");bn.text=Ot.text,bn.mode=Ot.mode,bn.icon=Ot.icon,bn.color=Ot.color,bn.disabled=Ot.disabled,bn.style.setProperty("display","block"),bn.style.setProperty("position","fixed"),Xn.addElement(At),_r.addElement(sn),Bn.addElement(bn),Bn.beforeStyles({position:"absolute",top:"0px",[un]:"0px"}).beforeAddWrite(()=>{Ot.style.setProperty("display","none"),bn.style.setProperty(Et,ae)}).afterAddWrite(()=>{Ot.style.setProperty("display",""),bn.style.setProperty("display","none"),bn.style.removeProperty(Et)}).keyframes(Vt),_r.beforeStyles({"transform-origin":`${Et} top`}).keyframes(ir),Xn.beforeStyles({"transform-origin":`${Xt} center`}).keyframes(Kn),gt.addAnimation([_r,Xn,Bn])},Ye=(gt,mt,ft,Ot,Tt,Qe,Te,$e,ct)=>{var vt,Ut;const ae=mt?"right":"left",Et=mt?`calc(100% - ${Tt.right}px)`:`${Tt.left}px`,un=`${Tt.top}px`;let Ft=mt?`-${window.innerWidth-Te.right-8}px`:`${Te.x+8}px`,Qn=.5;const Ze="scale(1)";let ee=`scale(${Qn})`;if($e&&ct){Ft=mt?`-${window.innerWidth-ct.right-8}px`:ct.x-8+"px";const Ln=(null===(vt=$e.textContent)||void 0===vt?void 0:vt.trim())===(null===(Ut=Ot.textContent)||void 0===Ut?void 0:Ut.trim());Qn=ct.height/(Qe.height-ut),ee=Ln?`scale(${ct.width/Qe.width}, ${Qn})`:`scale(${Qn})`}const he=Te.top+Te.height/2-Tt.height*Qn/2+"px",it=ft?[{offset:0,opacity:0,transform:`translate3d(${Ft}, ${he}, 0) ${ee}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${un}, 0) ${Ze}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${un}, 0) ${Ze}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ft}, ${he}, 0) ${ee}`}],nt=ke("ion-title"),Vt=(0,c.c)();nt.innerText=Ot.innerText,nt.size=Ot.size,nt.color=Ot.color,Vt.addElement(nt),Vt.beforeStyles({"transform-origin":`${ae} top`,height:`${Tt.height}px`,display:"",position:"relative",[ae]:Et}).beforeAddWrite(()=>{Ot.style.setProperty("opacity","0")}).afterAddWrite(()=>{Ot.style.setProperty("opacity",""),nt.style.setProperty("display","none")}).keyframes(it),gt.addAnimation(Vt)},He=(gt,mt)=>{var ft;try{const Ot="cubic-bezier(0.32,0.72,0,1)",Tt="opacity",Qe="transform",Te="0%",ct="rtl"===gt.ownerDocument.dir,vt=ct?"-99.5%":"99.5%",Ut=ct?"33%":"-33%",ae=mt.enteringEl,Et=mt.leavingEl,Xt="back"===mt.direction,un=ae.querySelector(":scope > ion-content"),Ht=ae.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ft=ae.querySelectorAll(":scope > ion-header > ion-toolbar"),Qn=(0,c.c)(),Ze=(0,c.c)();if(Qn.addElement(ae).duration((null!==(ft=mt.duration)&&void 0!==ft?ft:0)||540).easing(mt.easing||Ot).fill("both").beforeRemoveClass("ion-page-invisible"),Et&&null!=gt){const he=(0,c.c)();he.addElement(gt),Qn.addAnimation(he)}if(un||0!==Ft.length||0!==Ht.length?(Ze.addElement(un),Ze.addElement(Ht)):Ze.addElement(ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qn.addAnimation(Ze),Xt?Ze.beforeClearStyles([Tt]).fromTo("transform",`translateX(${Ut})`,`translateX(${Te})`).fromTo(Tt,.8,1):Ze.beforeClearStyles([Tt]).fromTo("transform",`translateX(${vt})`,`translateX(${Te})`),un){const he=Re(un).querySelector(".transition-effect");if(he){const Be=he.querySelector(".transition-cover"),Ke=he.querySelector(".transition-shadow"),it=(0,c.c)(),nt=(0,c.c)(),Vt=(0,c.c)();it.addElement(he).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),nt.addElement(Be).beforeClearStyles([Tt]).fromTo(Tt,0,.1),Vt.addElement(Ke).beforeClearStyles([Tt]).fromTo(Tt,.03,.7),it.addAnimation([nt,Vt]),Ze.addAnimation([it])}}const ee=ae.querySelector("ion-header.header-collapse-condense"),{forward:de,backward:Se}=((gt,mt,ft,Ot,Tt)=>{const Qe=Ve(Ot,ft),Te=ot(Tt),$e=ot(Ot),ct=Ve(Tt,ft),vt=null!==Qe&&null!==Te&&!ft,Ut=null!==$e&&null!==ct&&ft;if(vt){const ae=Te.getBoundingClientRect(),Et=Qe.getBoundingClientRect(),Xt=Re(Qe).querySelector(".button-text"),un=null==Xt?void 0:Xt.getBoundingClientRect(),Ft=Re(Te).querySelector(".toolbar-title").getBoundingClientRect();Ye(gt,mt,ft,Te,ae,Ft,Et,Xt,un),We(gt,mt,ft,Qe,Et,Xt,un,Te,Ft)}else if(Ut){const ae=$e.getBoundingClientRect(),Et=ct.getBoundingClientRect(),Xt=Re(ct).querySelector(".button-text"),un=null==Xt?void 0:Xt.getBoundingClientRect(),Ft=Re($e).querySelector(".toolbar-title").getBoundingClientRect();Ye(gt,mt,ft,$e,ae,Ft,Et,Xt,un),We(gt,mt,ft,ct,Et,Xt,un,$e,Ft)}return{forward:vt,backward:Ut}})(Qn,ct,Xt,ae,Et);if(Ft.forEach(he=>{const Be=(0,c.c)();Be.addElement(he),Qn.addAnimation(Be);const Ke=(0,c.c)();Ke.addElement(he.querySelector("ion-title"));const it=(0,c.c)(),nt=Array.from(he.querySelectorAll("ion-buttons,[menuToggle]")),Vt=he.closest("ion-header"),Ln=null==Vt?void 0:Vt.classList.contains("header-collapse-condense-inactive");let gn;gn=nt.filter(Xt?_r=>{const Xn=_r.classList.contains("buttons-collapse");return Xn&&!Ln||!Xn}:_r=>!_r.classList.contains("buttons-collapse")),it.addElement(gn);const ir=(0,c.c)();ir.addElement(he.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const zn=(0,c.c)();zn.addElement(Re(he).querySelector(".toolbar-background"));const gr=(0,c.c)(),Kn=he.querySelector("ion-back-button");if(Kn&&gr.addElement(Kn),Be.addAnimation([Ke,it,ir,zn,gr]),it.fromTo(Tt,.01,1),ir.fromTo(Tt,.01,1),Xt)Ln||Ke.fromTo("transform",`translateX(${Ut})`,`translateX(${Te})`).fromTo(Tt,.01,1),ir.fromTo("transform",`translateX(${Ut})`,`translateX(${Te})`),gr.fromTo(Tt,.01,1);else if(ee||Ke.fromTo("transform",`translateX(${vt})`,`translateX(${Te})`).fromTo(Tt,.01,1),ir.fromTo("transform",`translateX(${vt})`,`translateX(${Te})`),zn.beforeClearStyles([Tt,"transform"]),(null==Vt?void 0:Vt.translucent)?zn.fromTo("transform",ct?"translateX(-100%)":"translateX(100%)","translateX(0px)"):zn.fromTo(Tt,.01,"var(--opacity)"),de||gr.fromTo(Tt,.01,1),Kn&&!de){const Xn=(0,c.c)();Xn.addElement(Re(Kn).querySelector(".button-text")).fromTo("transform",ct?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Be.addAnimation(Xn)}}),Et){const he=(0,c.c)(),Be=Et.querySelector(":scope > ion-content"),Ke=Et.querySelectorAll(":scope > ion-header > ion-toolbar"),it=Et.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Be||0!==Ke.length||0!==it.length?(he.addElement(Be),he.addElement(it)):he.addElement(Et.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qn.addAnimation(he),Xt){he.beforeClearStyles([Tt]).fromTo("transform",`translateX(${Te})`,ct?"translateX(-100%)":"translateX(100%)");const nt=(0,p.g)(Et);Qn.afterAddWrite(()=>{"normal"===Qn.getDirection()&&nt.style.setProperty("display","none")})}else he.fromTo("transform",`translateX(${Te})`,`translateX(${Ut})`).fromTo(Tt,1,.8);if(Be){const nt=Re(Be).querySelector(".transition-effect");if(nt){const Vt=nt.querySelector(".transition-cover"),Ln=nt.querySelector(".transition-shadow"),gn=(0,c.c)(),ir=(0,c.c)(),zn=(0,c.c)();gn.addElement(nt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ir.addElement(Vt).beforeClearStyles([Tt]).fromTo(Tt,.1,0),zn.addElement(Ln).beforeClearStyles([Tt]).fromTo(Tt,.7,.03),gn.addAnimation([ir,zn]),he.addAnimation([gn])}}Ke.forEach(nt=>{const Vt=(0,c.c)();Vt.addElement(nt);const Ln=(0,c.c)();Ln.addElement(nt.querySelector("ion-title"));const gn=(0,c.c)(),ir=nt.querySelectorAll("ion-buttons,[menuToggle]"),zn=nt.closest("ion-header"),gr=null==zn?void 0:zn.classList.contains("header-collapse-condense-inactive"),Kn=Array.from(ir).filter(At=>{const Kt=At.classList.contains("buttons-collapse");return Kt&&!gr||!Kt});gn.addElement(Kn);const _r=(0,c.c)(),Xn=nt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Xn.length>0&&_r.addElement(Xn);const Bn=(0,c.c)();Bn.addElement(Re(nt).querySelector(".toolbar-background"));const bn=(0,c.c)(),sn=nt.querySelector("ion-back-button");if(sn&&bn.addElement(sn),Vt.addAnimation([Ln,gn,_r,bn,Bn]),Qn.addAnimation(Vt),bn.fromTo(Tt,.99,0),gn.fromTo(Tt,.99,0),_r.fromTo(Tt,.99,0),Xt){if(gr||Ln.fromTo("transform",`translateX(${Te})`,ct?"translateX(-100%)":"translateX(100%)").fromTo(Tt,.99,0),_r.fromTo("transform",`translateX(${Te})`,ct?"translateX(-100%)":"translateX(100%)"),Bn.beforeClearStyles([Tt,"transform"]),(null==zn?void 0:zn.translucent)?Bn.fromTo("transform","translateX(0px)",ct?"translateX(-100%)":"translateX(100%)"):Bn.fromTo(Tt,"var(--opacity)",0),sn&&!Se){const Kt=(0,c.c)();Kt.addElement(Re(sn).querySelector(".button-text")).fromTo("transform",`translateX(${Te})`,`translateX(${(ct?-124:124)+"px"})`),Vt.addAnimation(Kt)}}else gr||Ln.fromTo("transform",`translateX(${Te})`,`translateX(${Ut})`).fromTo(Tt,.99,0).afterClearStyles([Qe,Tt]),_r.fromTo("transform",`translateX(${Te})`,`translateX(${Ut})`).afterClearStyles([Qe,Tt]),bn.afterClearStyles([Tt]),Ln.afterClearStyles([Tt]),gn.afterClearStyles([Tt])})}return Qn}catch(Ot){throw Ot}},ut=10},3615:(Gn,St,k)=>{"use strict";k.r(St),k.d(St,{mdTransitionAnimation:()=>Pe});var c=k(9986),p=k(3604);k(8476),k(9483),k(4261);const Pe=(ke,Re)=>{var ot,Ve,me;const He="back"===Re.direction,gt=Re.leavingEl,mt=(0,p.g)(Re.enteringEl),ft=mt.querySelector("ion-toolbar"),Ot=(0,c.c)();if(Ot.addElement(mt).fill("both").beforeRemoveClass("ion-page-invisible"),He?Ot.duration((null!==(ot=Re.duration)&&void 0!==ot?ot:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ot.duration((null!==(Ve=Re.duration)&&void 0!==Ve?Ve:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ft){const Tt=(0,c.c)();Tt.addElement(ft),Ot.addAnimation(Tt)}if(gt&&He){Ot.duration((null!==(me=Re.duration)&&void 0!==me?me:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Tt=(0,c.c)();Tt.addElement((0,p.g)(gt)).onFinish(Qe=>{1===Qe&&Tt.elements.length>0&&Tt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ot.addAnimation(Tt)}return Ot}},9440:(Gn,St,k)=>{"use strict";k.d(St,{B:()=>ir,F:()=>bn,G:()=>zn,O:()=>gr,a:()=>mt,b:()=>ft,c:()=>Te,d:()=>Kn,e:()=>_r,f:()=>de,g:()=>he,h:()=>it,i:()=>Vt,j:()=>ct,k:()=>vt,l:()=>Ot,m:()=>Tt,n:()=>Ve,o:()=>Ze,q:()=>me,s:()=>gn,t:()=>$e});var c=k(467),p=k(8476),U=k(4920),q=k(7192),ce=k(9483),Pe=k(8621),ke=k(1970),Re=k(4929);const ot='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ve=(sn,At)=>{const Kt=sn.querySelector(ot);We(Kt,null!=At?At:sn)},me=(sn,At)=>{const Kt=Array.from(sn.querySelectorAll(ot));We(Kt.length>0?Kt[Kt.length-1]:null,null!=At?At:sn)},We=(sn,At)=>{let Kt=sn;const vn=null==sn?void 0:sn.shadowRoot;vn&&(Kt=vn.querySelector(ot)||sn),Kt?(0,U.f)(Kt):At.focus()};let Ye=0,He=0;const ut=new WeakMap,gt=sn=>({create:At=>Ut(sn,At),dismiss:(At,Kt,vn)=>Ht(document,At,Kt,sn,vn),getTop:()=>(0,c.A)(function*(){return Ze(document,sn)})()}),mt=gt("ion-alert"),ft=gt("ion-action-sheet"),Ot=gt("ion-loading"),Tt=gt("ion-modal"),Te=gt("ion-popover"),$e=gt("ion-toast"),ct=sn=>{typeof document<"u"&&un(document);const At=Ye++;sn.overlayIndex=At},vt=sn=>(sn.hasAttribute("id")||(sn.id="ion-overlay-"+ ++He),sn.id),Ut=(sn,At)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(sn).then(()=>{const Kt=document.createElement(sn);return Kt.classList.add("overlay-hidden"),Object.assign(Kt,Object.assign(Object.assign({},At),{hasController:!0})),Be(document).appendChild(Kt),new Promise(vn=>(0,U.c)(Kt,vn))}):Promise.resolve(),Et=(sn,At)=>{let Kt=sn;const vn=null==sn?void 0:sn.shadowRoot;vn&&(Kt=vn.querySelector(ot)||sn),Kt?(0,U.f)(Kt):At.focus()},un=sn=>{0===Ye&&(Ye=1,sn.addEventListener("focus",At=>{((sn,At)=>{const Kt=Ze(At,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),vn=sn.target;Kt&&vn&&!Kt.classList.contains(bn)&&(Kt.shadowRoot?(()=>{if(Kt.contains(vn))Kt.lastFocus=vn;else if("ION-TOAST"===vn.tagName)Et(Kt.lastFocus,Kt);else{const Tr=Kt.lastFocus;Ve(Kt),Tr===At.activeElement&&me(Kt),Kt.lastFocus=At.activeElement}})():(()=>{if(Kt===vn)Kt.lastFocus=void 0;else if("ION-TOAST"===vn.tagName)Et(Kt.lastFocus,Kt);else{const Tr=(0,U.g)(Kt);if(!Tr.contains(vn))return;const Zn=Tr.querySelector(".ion-overlay-wrapper");if(!Zn)return;if(Zn.contains(vn)||vn===Tr.querySelector("ion-backdrop"))Kt.lastFocus=vn;else{const mn=Kt.lastFocus;Ve(Zn,Kt),mn===At.activeElement&&me(Zn,Kt),Kt.lastFocus=At.activeElement}}})())})(At,sn)},!0),sn.addEventListener("ionBackButton",At=>{const Kt=Ze(sn);null!=Kt&&Kt.backdropDismiss&&At.detail.register(q.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Kt.dismiss(void 0,ir)})}),(0,q.shouldUseCloseWatcher)()||sn.addEventListener("keydown",At=>{if("Escape"===At.key){const Kt=Ze(sn);null!=Kt&&Kt.backdropDismiss&&Kt.dismiss(void 0,ir)}}))},Ht=(sn,At,Kt,vn,ln)=>{const Br=Ze(sn,vn,ln);return Br?Br.dismiss(At,Kt):Promise.reject("overlay does not exist")},Qn=(sn,At)=>((sn,At)=>(void 0===At&&(At="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(sn.querySelectorAll(At)).filter(Kt=>Kt.overlayIndex>0)))(sn,At).filter(Kt=>!(sn=>sn.classList.contains("overlay-hidden"))(Kt)),Ze=(sn,At,Kt)=>{const vn=Qn(sn,At);return void 0===Kt?vn[vn.length-1]:vn.find(ln=>ln.id===Kt)},ee=(sn=!1)=>{const Kt=Be(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Kt&&(sn?Kt.setAttribute("aria-hidden","true"):Kt.removeAttribute("aria-hidden"))},de=function(){var sn=(0,c.A)(function*(At,Kt,vn,ln,Br){var Tr,Zn;if(At.presented)return;ee(!0),document.body.classList.add(ke.B),Xn(At.el),At.presented=!0,At.willPresent.emit(),null===(Tr=At.willPresentShorthand)||void 0===Tr||Tr.emit();const mn=(0,ce.b)(At),kr=At.enterAnimation?At.enterAnimation:ce.c.get(Kt,"ios"===mn?vn:ln);(yield Ke(At,kr,At.el,Br))&&(At.didPresent.emit(),null===(Zn=At.didPresentShorthand)||void 0===Zn||Zn.emit()),"ION-TOAST"!==At.el.tagName&&Se(At.el),At.keyboardClose&&(null===document.activeElement||!At.el.contains(document.activeElement))&&At.el.focus(),At.el.removeAttribute("aria-hidden")});return function(Kt,vn,ln,Br,Tr){return sn.apply(this,arguments)}}(),Se=function(){var sn=(0,c.A)(function*(At){let Kt=document.activeElement;if(!Kt)return;const vn=null==Kt?void 0:Kt.shadowRoot;vn&&(Kt=vn.querySelector(ot)||Kt),yield At.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Kt.focus()});return function(Kt){return sn.apply(this,arguments)}}(),he=function(){var sn=(0,c.A)(function*(At,Kt,vn,ln,Br,Tr,Zn){var mn,kr;if(!At.presented)return!1;void 0!==p.d&&1===Qn(p.d).length&&(ee(!1),document.body.classList.remove(ke.B)),At.presented=!1;try{At.el.style.setProperty("pointer-events","none"),At.willDismiss.emit({data:Kt,role:vn}),null===(mn=At.willDismissShorthand)||void 0===mn||mn.emit({data:Kt,role:vn});const Dr=(0,ce.b)(At),yr=At.leaveAnimation?At.leaveAnimation:ce.c.get(ln,"ios"===Dr?Br:Tr);vn!==zn&&(yield Ke(At,yr,At.el,Zn)),At.didDismiss.emit({data:Kt,role:vn}),null===(kr=At.didDismissShorthand)||void 0===kr||kr.emit({data:Kt,role:vn}),(ut.get(At)||[]).forEach(ri=>ri.destroy()),ut.delete(At),At.el.classList.add("overlay-hidden"),At.el.style.removeProperty("pointer-events"),void 0!==At.el.lastFocus&&(At.el.lastFocus=void 0)}catch(Dr){console.error(Dr)}return At.el.remove(),Bn(),!0});return function(Kt,vn,ln,Br,Tr,Zn,mn){return sn.apply(this,arguments)}}(),Be=sn=>sn.querySelector("ion-app")||sn.body,Ke=function(){var sn=(0,c.A)(function*(At,Kt,vn,ln){vn.classList.remove("overlay-hidden");const Tr=Kt(At.el,ln);(!At.animated||!ce.c.getBoolean("animated",!0))&&Tr.duration(0),At.keyboardClose&&Tr.beforeAddWrite(()=>{const mn=vn.ownerDocument.activeElement;null!=mn&&mn.matches("input,ion-input, ion-textarea")&&mn.blur()});const Zn=ut.get(At)||[];return ut.set(At,[...Zn,Tr]),yield Tr.play(),!0});return function(Kt,vn,ln,Br){return sn.apply(this,arguments)}}(),it=(sn,At)=>{let Kt;const vn=new Promise(ln=>Kt=ln);return nt(sn,At,ln=>{Kt(ln.detail)}),vn},nt=(sn,At,Kt)=>{const vn=ln=>{(0,U.b)(sn,At,vn),Kt(ln)};(0,U.a)(sn,At,vn)},Vt=sn=>"cancel"===sn||sn===ir,Ln=sn=>sn(),gn=(sn,At)=>{if("function"==typeof sn)return ce.c.get("_zoneGate",Ln)(()=>{try{return sn(At)}catch(vn){throw vn}})},ir="backdrop",zn="gesture",gr=39,Kn=sn=>{let Kt,At=!1;const vn=(0,Pe.C)(),ln=(Zn=!1)=>{if(Kt&&!Zn)return{delegate:Kt,inline:At};const{el:mn,hasController:kr,delegate:Xr}=sn;return At=null!==mn.parentNode&&!kr,Kt=At?Xr||vn:Xr,{inline:At,delegate:Kt}};return{attachViewToDom:function(){var Zn=(0,c.A)(function*(mn){const{delegate:kr}=ln(!0);if(kr)return yield kr.attachViewToDom(sn.el,mn);const{hasController:Xr}=sn;if(Xr&&void 0!==mn)throw new Error("framework delegate is missing");return null});return function(kr){return Zn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Zn}=ln();Zn&&void 0!==sn.el&&Zn.removeViewFromDom(sn.el.parentElement,sn.el)}}},_r=()=>{let sn;const At=()=>{sn&&(sn(),sn=void 0)};return{addClickListener:(vn,ln)=>{At();const Br=void 0!==ln?document.getElementById(ln):null;Br?sn=((Zn,mn)=>{const kr=()=>{mn.present()};return Zn.addEventListener("click",kr),()=>{Zn.removeEventListener("click",kr)}})(Br,vn):(0,Re.p)(`A trigger element with the ID "${ln}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,vn)},removeClickListener:At}},Xn=sn=>{var At;if(void 0===p.d)return;const Kt=Qn(p.d);for(let vn=Kt.length-1;vn>=0;vn--){const ln=Kt[vn],Br=null!==(At=Kt[vn+1])&&void 0!==At?At:sn;(Br.hasAttribute("aria-hidden")||"ION-TOAST"!==Br.tagName)&&ln.setAttribute("aria-hidden","true")}},Bn=()=>{if(void 0===p.d)return;const sn=Qn(p.d);for(let At=sn.length-1;At>=0;At--){const Kt=sn[At];if(Kt.removeAttribute("aria-hidden"),"ION-TOAST"!==Kt.tagName)break}},bn="ion-disable-focus-trap"},1288:(Gn,St,k)=>{"use strict";k.d(St,{H:()=>ft,b:()=>Br,c:()=>Te,f:()=>Kn,g:()=>Qe,h:()=>gt,p:()=>yi,r:()=>Hr});var c=k(467);let U,q,ce=!1,Pe=!1;const Ve={},He=x=>"object"==(x=typeof x)||"function"===x;function ut(x){var W,pe,Fe;return null!==(Fe=null===(pe=null===(W=x.head)||void 0===W?void 0:W.querySelector('meta[name="csp-nonce"]'))||void 0===pe?void 0:pe.getAttribute("content"))&&void 0!==Fe?Fe:void 0}const gt=(x,W,...pe)=>{let Fe=null,Ct=!1,zt=!1;const dn=[],xn=yn=>{for(let Hn=0;Hn<yn.length;Hn++)Fe=yn[Hn],Array.isArray(Fe)?xn(Fe):null!=Fe&&"boolean"!=typeof Fe&&((Ct="function"!=typeof x&&!He(Fe))&&(Fe=String(Fe)),Ct&&zt?dn[dn.length-1].$text$+=Fe:dn.push(Ct?mt(null,Fe):Fe),zt=Ct)};if(xn(pe),W){const yn=W.className||W.class;yn&&(W.class="object"!=typeof yn?yn:Object.keys(yn).filter(Hn=>yn[Hn]).join(" "))}const An=mt(x,null);return An.$attrs$=W,dn.length>0&&(An.$children$=dn),An},mt=(x,W)=>({$flags$:0,$tag$:x,$text$:W,$elm$:null,$children$:null,$attrs$:null}),ft={},Qe=x=>yr(x).$hostElement$,Te=(x,W,pe)=>{const Fe=Qe(x);return{emit:Ct=>$e(Fe,W,{bubbles:!!(4&pe),composed:!!(2&pe),cancelable:!!(1&pe),detail:Ct})}},$e=(x,W,pe)=>{const Fe=mr.ce(W,pe);return x.dispatchEvent(Fe),Fe},ct=new WeakMap,Et=(x,W)=>"sc-"+x.$tagName$,Xt=(x,W,pe,Fe,Ct,zt)=>{if(pe!==Fe){let dn=Pr(x,W),xn=W.toLowerCase();if("class"===W){const An=x.classList,yn=Ht(pe),Hn=Ht(Fe);An.remove(...yn.filter(wr=>wr&&!Hn.includes(wr))),An.add(...Hn.filter(wr=>wr&&!yn.includes(wr)))}else if("style"===W){for(const An in pe)(!Fe||null==Fe[An])&&(An.includes("-")?x.style.removeProperty(An):x.style[An]="");for(const An in Fe)(!pe||Fe[An]!==pe[An])&&(An.includes("-")?x.style.setProperty(An,Fe[An]):x.style[An]=Fe[An])}else if("ref"===W)Fe&&Fe(x);else if(dn||"o"!==W[0]||"n"!==W[1]){const An=He(Fe);if((dn||An&&null!==Fe)&&!Ct)try{if(x.tagName.includes("-"))x[W]=Fe;else{const yn=null==Fe?"":Fe;"list"===W?dn=!1:(null==pe||x[W]!=yn)&&(x[W]=yn)}}catch{}null==Fe||!1===Fe?(!1!==Fe||""===x.getAttribute(W))&&x.removeAttribute(W):(!dn||4&zt||Ct)&&!An&&x.setAttribute(W,Fe=!0===Fe?"":Fe)}else W="-"===W[2]?W.slice(3):Pr(Pt,xn)?xn.slice(2):xn[2]+W.slice(3),pe&&mr.rel(x,W,pe,!1),Fe&&mr.ael(x,W,Fe,!1)}},un=/\s/,Ht=x=>x?x.split(un):[],Ft=(x,W,pe,Fe)=>{const Ct=11===W.$elm$.nodeType&&W.$elm$.host?W.$elm$.host:W.$elm$,zt=x&&x.$attrs$||Ve,dn=W.$attrs$||Ve;for(Fe in zt)Fe in dn||Xt(Ct,Fe,zt[Fe],void 0,pe,W.$flags$);for(Fe in dn)Xt(Ct,Fe,zt[Fe],dn[Fe],pe,W.$flags$)},Qn=(x,W,pe,Fe)=>{const Ct=W.$children$[pe];let dn,xn,zt=0;if(null!==Ct.$text$)dn=Ct.$elm$=Vr.createTextNode(Ct.$text$);else{if(ce||(ce="svg"===Ct.$tag$),dn=Ct.$elm$=Vr.createElementNS(ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Ct.$tag$),ce&&"foreignObject"===Ct.$tag$&&(ce=!1),Ft(null,Ct,ce),(x=>null!=x)(U)&&dn["s-si"]!==U&&dn.classList.add(dn["s-si"]=U),Ct.$children$)for(zt=0;zt<Ct.$children$.length;++zt)xn=Qn(x,Ct,zt),xn&&dn.appendChild(xn);"svg"===Ct.$tag$?ce=!1:"foreignObject"===dn.tagName&&(ce=!0)}return dn},Ze=(x,W,pe,Fe,Ct,zt)=>{let xn,dn=x;for(dn.shadowRoot&&dn.tagName===q&&(dn=dn.shadowRoot);Ct<=zt;++Ct)Fe[Ct]&&(xn=Qn(null,pe,Ct),xn&&(Fe[Ct].$elm$=xn,dn.insertBefore(xn,W)))},ee=(x,W,pe)=>{for(let Fe=W;Fe<=pe;++Fe){const Ct=x[Fe];if(Ct){const zt=Ct.$elm$;Be(Ct),zt&&zt.remove()}}},Se=(x,W)=>x.$tag$===W.$tag$,he=(x,W)=>{const pe=W.$elm$=x.$elm$,Fe=x.$children$,Ct=W.$children$,zt=W.$tag$,dn=W.$text$;null===dn?(ce="svg"===zt||"foreignObject"!==zt&&ce,Ft(x,W,ce),null!==Fe&&null!==Ct?((x,W,pe,Fe)=>{let Ai,Ct=0,zt=0,dn=W.length-1,xn=W[0],An=W[dn],yn=Fe.length-1,Hn=Fe[0],wr=Fe[yn];for(;Ct<=dn&&zt<=yn;)null==xn?xn=W[++Ct]:null==An?An=W[--dn]:null==Hn?Hn=Fe[++zt]:null==wr?wr=Fe[--yn]:Se(xn,Hn)?(he(xn,Hn),xn=W[++Ct],Hn=Fe[++zt]):Se(An,wr)?(he(An,wr),An=W[--dn],wr=Fe[--yn]):Se(xn,wr)?(he(xn,wr),x.insertBefore(xn.$elm$,An.$elm$.nextSibling),xn=W[++Ct],wr=Fe[--yn]):Se(An,Hn)?(he(An,Hn),x.insertBefore(An.$elm$,xn.$elm$),An=W[--dn],Hn=Fe[++zt]):(Ai=Qn(W&&W[zt],pe,zt),Hn=Fe[++zt],Ai&&xn.$elm$.parentNode.insertBefore(Ai,xn.$elm$));Ct>dn?Ze(x,null==Fe[yn+1]?null:Fe[yn+1].$elm$,pe,Fe,zt,yn):zt>yn&&ee(W,Ct,dn)})(pe,Fe,W,Ct):null!==Ct?(null!==x.$text$&&(pe.textContent=""),Ze(pe,null,W,Ct,0,Ct.length-1)):null!==Fe&&ee(Fe,0,Fe.length-1),ce&&"svg"===zt&&(ce=!1)):x.$text$!==dn&&(pe.data=dn)},Be=x=>{x.$attrs$&&x.$attrs$.ref&&x.$attrs$.ref(null),x.$children$&&x.$children$.map(Be)},it=(x,W)=>{W&&!x.$onRenderResolve$&&W["s-p"]&&W["s-p"].push(new Promise(pe=>x.$onRenderResolve$=pe))},nt=(x,W)=>{if(x.$flags$|=16,!(4&x.$flags$))return it(x,x.$ancestorComponent$),Z(()=>Vt(x,W));x.$flags$|=512},Vt=(x,W)=>{const Fe=x.$lazyInstance$;return W&&(x.$flags$|=256,x.$queuedListeners$&&(x.$queuedListeners$.map(([zt,dn])=>Xn(Fe,zt,dn)),x.$queuedListeners$=void 0)),Ln(void 0,()=>ir(x,Fe,W))},Ln=(x,W)=>gn(x)?x.then(W):W(),gn=x=>x instanceof Promise||x&&x.then&&"function"==typeof x.then,ir=function(){var x=(0,c.A)(function*(W,pe,Fe){var Ct;const zt=W.$hostElement$,xn=zt["s-rc"];Fe&&(x=>{const W=x.$cmpMeta$,pe=x.$hostElement$,Fe=W.$flags$,zt=((x,W)=>{var Ct;let zt=Et(W);const dn=_i.get(zt);if(x=11===x.nodeType?x:Vr,dn)if("string"==typeof dn){let An,xn=ct.get(x=x.head||x);if(xn||ct.set(x,xn=new Set),!xn.has(zt)){{An=Vr.createElement("style"),An.innerHTML=dn;const yn=null!==(Ct=mr.$nonce$)&&void 0!==Ct?Ct:ut(Vr);null!=yn&&An.setAttribute("nonce",yn),x.insertBefore(An,x.querySelector("link"))}xn&&xn.add(zt)}}else x.adoptedStyleSheets.includes(dn)||(x.adoptedStyleSheets=[...x.adoptedStyleSheets,dn]);return zt})(pe.shadowRoot?pe.shadowRoot:pe.getRootNode(),W);10&Fe&&(pe["s-sc"]=zt,pe.classList.add(zt+"-h"))})(W);zn(W,pe),xn&&(xn.map(yn=>yn()),zt["s-rc"]=void 0);{const yn=null!==(Ct=zt["s-p"])&&void 0!==Ct?Ct:[],Hn=()=>gr(W);0===yn.length?Hn():(Promise.all(yn).then(Hn),W.$flags$|=4,yn.length=0)}});return function(pe,Fe,Ct){return x.apply(this,arguments)}}(),zn=(x,W,pe)=>{try{W=W.render(),x.$flags$&=-17,x.$flags$|=2,((x,W)=>{const pe=x.$hostElement$,Fe=x.$vnode$||mt(null,null),Ct=(x=>x&&x.$tag$===ft)(W)?W:gt(null,null,W);q=pe.tagName,Ct.$tag$=null,Ct.$flags$|=4,x.$vnode$=Ct,Ct.$elm$=Fe.$elm$=pe.shadowRoot||pe,U=pe["s-sc"],he(Fe,Ct)})(x,W)}catch(Fe){Ii(Fe,x.$hostElement$)}return null},gr=x=>{const pe=x.$hostElement$,Ct=x.$lazyInstance$,zt=x.$ancestorComponent$;64&x.$flags$||(x.$flags$|=64,Bn(pe),Xn(Ct,"componentDidLoad"),x.$onReadyResolve$(pe),zt||_r()),x.$onInstanceResolve$(pe),x.$onRenderResolve$&&(x.$onRenderResolve$(),x.$onRenderResolve$=void 0),512&x.$flags$&&we(()=>nt(x,!1)),x.$flags$&=-517},Kn=x=>{{const W=yr(x),pe=W.$hostElement$.isConnected;return pe&&2==(18&W.$flags$)&&nt(W,!1),pe}},_r=x=>{Bn(Vr.documentElement),we(()=>$e(Pt,"appload",{detail:{namespace:"ionicpwaelements"}}))},Xn=(x,W,pe)=>{if(x&&x[W])try{return x[W](pe)}catch(Fe){Ii(Fe)}},Bn=x=>x.classList.add("hydrated"),At=(x,W,pe)=>{if(W.$members$){const Fe=Object.entries(W.$members$),Ct=x.prototype;if(Fe.map(([zt,[dn]])=>{31&dn||2&pe&&32&dn?Object.defineProperty(Ct,zt,{get(){return((x,W)=>yr(this).$instanceValues$.get(W))(0,zt)},set(xn){((x,W,pe,Fe)=>{const Ct=yr(x),zt=Ct.$instanceValues$.get(W),dn=Ct.$flags$,xn=Ct.$lazyInstance$;pe=((x,W)=>null==x||He(x)?x:4&W?"false"!==x&&(""===x||!!x):2&W?parseFloat(x):1&W?String(x):x)(pe,Fe.$members$[W][0]);const An=Number.isNaN(zt)&&Number.isNaN(pe);(!(8&dn)||void 0===zt)&&pe!==zt&&!An&&(Ct.$instanceValues$.set(W,pe),xn&&2==(18&dn)&&nt(Ct,!1))})(this,zt,xn,W)},configurable:!0,enumerable:!0}):1&pe&&64&dn&&Object.defineProperty(Ct,zt,{value(...xn){const An=yr(this);return An.$onInstancePromise$.then(()=>An.$lazyInstance$[zt](...xn))}})}),1&pe){const zt=new Map;Ct.attributeChangedCallback=function(dn,xn,An){mr.jmp(()=>{const yn=zt.get(dn);if(this.hasOwnProperty(yn))An=this[yn],delete this[yn];else if(Ct.hasOwnProperty(yn)&&"number"==typeof this[yn]&&this[yn]==An)return;this[yn]=(null!==An||"boolean"!=typeof this[yn])&&An})},x.observedAttributes=Fe.filter(([dn,xn])=>15&xn[0]).map(([dn,xn])=>{const An=xn[1]||dn;return zt.set(An,dn),An})}}return x},Kt=function(){var x=(0,c.A)(function*(W,pe,Fe,Ct,zt){if(!(32&pe.$flags$)){pe.$flags$|=32;{if((zt=br(Fe)).then){const yn=()=>{};zt=yield zt,yn()}zt.isProxied||(At(zt,Fe,2),zt.isProxied=!0);const An=()=>{};pe.$flags$|=8;try{new zt(pe)}catch(yn){Ii(yn)}pe.$flags$&=-9,An()}if(zt.style){let An=zt.style;const yn=Et(Fe);if(!_i.has(yn)){const Hn=()=>{};((x,W,pe)=>{let Fe=_i.get(x);Vi&&pe?(Fe=Fe||new CSSStyleSheet,"string"==typeof Fe?Fe=W:Fe.replaceSync(W)):Fe=W,_i.set(x,Fe)})(yn,An,!!(1&Fe.$flags$)),Hn()}}}const dn=pe.$ancestorComponent$,xn=()=>nt(pe,!0);dn&&dn["s-rc"]?dn["s-rc"].push(xn):xn()});return function(pe,Fe,Ct,zt,dn){return x.apply(this,arguments)}}(),Br=(x,W={})=>{var pe;const Ct=[],zt=W.exclude||[],dn=Pt.customElements,xn=Vr.head,An=xn.querySelector("meta[charset]"),yn=Vr.createElement("style"),Hn=[];let wr,Ai=!0;Object.assign(mr,W),mr.$resourcesUrl$=new URL(W.resourcesUrl||"./",Vr.baseURI).href,x.map(Ui=>{Ui[1].map(si=>{const xi={$flags$:si[0],$tagName$:si[1],$members$:si[2],$listeners$:si[3]};xi.$members$=si[2],xi.$listeners$=si[3];const ki=xi.$tagName$,Bi=class extends HTMLElement{constructor(qi){super(qi),ri(qi=this,xi),1&xi.$flags$&&qi.attachShadow({mode:"open"})}connectedCallback(){wr&&(clearTimeout(wr),wr=null),Ai?Hn.push(this):mr.jmp(()=>(x=>{if(!(1&mr.$flags$)){const W=yr(x),pe=W.$cmpMeta$,Fe=()=>{};if(1&W.$flags$)Tr(x,W,pe.$listeners$);else{W.$flags$|=1;{let Ct=x;for(;Ct=Ct.parentNode||Ct.host;)if(Ct["s-p"]){it(W,W.$ancestorComponent$=Ct);break}}pe.$members$&&Object.entries(pe.$members$).map(([Ct,[zt]])=>{if(31&zt&&x.hasOwnProperty(Ct)){const dn=x[Ct];delete x[Ct],x[Ct]=dn}}),Kt(x,W,pe)}Fe()}})(this))}disconnectedCallback(){mr.jmp(()=>(()=>{if(!(1&mr.$flags$)){const W=yr(this),pe=W.$lazyInstance$;W.$rmListeners$&&(W.$rmListeners$.map(Fe=>Fe()),W.$rmListeners$=void 0),Xn(pe,"disconnectedCallback")}})())}componentOnReady(){return yr(this).$onReadyPromise$}};xi.$lazyBundleId$=Ui[0],!zt.includes(ki)&&!dn.get(ki)&&(Ct.push(ki),dn.define(ki,At(Bi,xi,1)))})});{yn.innerHTML=Ct+"{visibility:hidden}.hydrated{visibility:inherit}",yn.setAttribute("data-styles","");const Ui=null!==(pe=mr.$nonce$)&&void 0!==pe?pe:ut(Vr);null!=Ui&&yn.setAttribute("nonce",Ui),xn.insertBefore(yn,An?An.nextSibling:xn.firstChild)}Ai=!1,Hn.length?Hn.map(Ui=>Ui.connectedCallback()):mr.jmp(()=>wr=setTimeout(_r,30))},Tr=(x,W,pe,Fe)=>{pe&&pe.map(([Ct,zt,dn])=>{const xn=mn(x,Ct),An=Zn(W,dn),yn=kr(Ct);mr.ael(xn,zt,An,yn),(W.$rmListeners$=W.$rmListeners$||[]).push(()=>mr.rel(xn,zt,An,yn))})},Zn=(x,W)=>pe=>{try{256&x.$flags$?x.$lazyInstance$[W](pe):(x.$queuedListeners$=x.$queuedListeners$||[]).push([W,pe])}catch(Fe){Ii(Fe)}},mn=(x,W)=>16&W?Vr.body:x,kr=x=>!!(2&x),Dr=new WeakMap,yr=x=>Dr.get(x),Hr=(x,W)=>Dr.set(W.$lazyInstance$=x,W),ri=(x,W)=>{const pe={$flags$:0,$hostElement$:x,$cmpMeta$:W,$instanceValues$:new Map};return pe.$onInstancePromise$=new Promise(Fe=>pe.$onInstanceResolve$=Fe),pe.$onReadyPromise$=new Promise(Fe=>pe.$onReadyResolve$=Fe),x["s-p"]=[],x["s-rc"]=[],Tr(x,pe,W.$listeners$),Dr.set(x,pe)},Pr=(x,W)=>W in x,Ii=(x,W)=>(0,console.error)(x,W),rr=new Map,br=(x,W,pe)=>{const Fe=x.$tagName$.replace(/-/g,"_"),Ct=x.$lazyBundleId$,zt=rr.get(Ct);if(zt)return zt[Fe];if(!pe||!BUILD.hotModuleReplacement){const dn=xn=>(rr.set(Ct,xn),xn[Fe]);switch(Ct){case"pwa-action-sheet":return k.e(6301).then(k.bind(k,6301)).then(dn,Ii);case"pwa-camera-modal":return k.e(2982).then(k.bind(k,2982)).then(dn,Ii);case"pwa-toast":return k.e(3574).then(k.bind(k,3574)).then(dn,Ii);case"pwa-camera-modal-instance":return k.e(5640).then(k.bind(k,5640)).then(dn,Ii);case"pwa-camera":return k.e(6086).then(k.bind(k,6086)).then(dn,Ii)}}return k(5235)(`./${Ct}.entry.js`).then(dn=>(rr.set(Ct,dn),dn[Fe]),Ii)},_i=new Map,Pt=typeof window<"u"?window:{},Vr=Pt.document||{head:{}},mr={$flags$:0,$resourcesUrl$:"",jmp:x=>x(),raf:x=>requestAnimationFrame(x),ael:(x,W,pe,Fe)=>x.addEventListener(W,pe,Fe),rel:(x,W,pe,Fe)=>x.removeEventListener(W,pe,Fe),ce:(x,W)=>new CustomEvent(x,W)},yi=x=>Promise.resolve(x),Vi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),mi=[],Yt=[],Mt=(x,W)=>pe=>{x.push(pe),Pe||(Pe=!0,W&&4&mr.$flags$?we(_t):mr.raf(_t))},qt=x=>{for(let W=0;W<x.length;W++)try{x[W](performance.now())}catch(pe){Ii(pe)}x.length=0},_t=()=>{qt(mi),qt(Yt),(Pe=mi.length>0)&&mr.raf(_t)},we=x=>yi().then(x),Z=Mt(Yt,!0)},369:(Gn,St,k)=>{"use strict";k.d(St,{w:()=>Pe});var c=k(467),p=k(119),U=k.n(p);const q={SecureStorage:"ionicSecureStorage",IndexedDB:U().INDEXEDDB,LocalStorage:U().LOCALSTORAGE},ce={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[q.SecureStorage,q.IndexedDB,q.LocalStorage]};class Pe{constructor(Re=ce){this._db=null,this._secureStorageDriver=null;const ot=Object.assign({},ce,Re||{});this._config=ot}create(){var Re=this;return(0,c.A)(function*(){const ot=U().createInstance(Re._config);return Re._db=ot,yield ot.setDriver(Re._config.driverOrder||[]),Re})()}defineDriver(Re){var ot=this;return(0,c.A)(function*(){return Re._driver===q.SecureStorage&&(ot._secureStorageDriver=Re),U().defineDriver(Re)})()}get driver(){var Re;return(null===(Re=this._db)||void 0===Re?void 0:Re.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(Re){return this.assertDb().getItem(Re)}set(Re,ot){return this.assertDb().setItem(Re,ot)}remove(Re){return this.assertDb().removeItem(Re)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(Re){return this.assertDb().iterate(Re)}setEncryptionKey(Re){var ot;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(ot=this._secureStorageDriver)||void 0===ot||ot.setEncryptionKey(Re)}}},2043:(Gn,St,k)=>{"use strict";var c=k(345),p=k(1288),ce=k(9384),Pe=k(2872),ke=k(4742),Re=k(3953);let ot=(()=>{var Cn;class Mr{constructor(){}}return(Cn=Mr).\u0275fac=function(fi){return new(fi||Cn)},Cn.\u0275cmp=Re.VBU({type:Cn,selectors:[["app-root"]],decls:2,vars:0,template:function(fi,Ls){1&fi&&(Re.j41(0,"ion-app"),Re.nrm(1,"ion-router-outlet"),Re.k0s())},dependencies:[ke.U1,ke.Rg]}),Mr})();const Ve=[{path:"home",loadChildren:()=>k.e(5075).then(k.bind(k,5075)).then(Cn=>Cn.HomePageModule)},{path:"",redirectTo:"landing",pathMatch:"full"},{path:"login",loadChildren:()=>k.e(4536).then(k.bind(k,4536)).then(Cn=>Cn.LoginPageModule)},{path:"signup",loadChildren:()=>Promise.all([k.e(4260),k.e(7894)]).then(k.bind(k,7894)).then(Cn=>Cn.SignupPageModule)},{path:"landing",loadChildren:()=>k.e(480).then(k.bind(k,480)).then(Cn=>Cn.LandingPageModule)},{path:"reset-password",loadChildren:()=>k.e(4203).then(k.bind(k,4203)).then(Cn=>Cn.ResetPasswordPageModule)},{path:"catalogo",loadChildren:()=>Promise.all([k.e(2076),k.e(4118)]).then(k.bind(k,4118)).then(Cn=>Cn.CatalogoPageModule)},{path:"profile",loadChildren:()=>Promise.all([k.e(4260),k.e(207)]).then(k.bind(k,207)).then(Cn=>Cn.ProfilePageModule)},{path:"species-details/:id",loadChildren:()=>Promise.all([k.e(2076),k.e(7953)]).then(k.bind(k,334)).then(Cn=>Cn.SpeciesDetailsPageModule)}];let me=(()=>{var Cn;class Mr{}return(Cn=Mr).\u0275fac=function(fi){return new(fi||Cn)},Cn.\u0275mod=Re.$C({type:Cn}),Cn.\u0275inj=Re.G2t({imports:[ce.iI.forRoot(Ve,{preloadingStrategy:ce.Kp}),ce.iI]}),Mr})();var We=k(1977);const Ye_firebaseConfig={apiKey:"AIzaSyBG_25O92h-ZWRYCwI6NUhRdnBYYN5r4t4",authDomain:"ionicbiodiversity.firebaseapp.com",projectId:"ionicbiodiversity",storageBucket:"ionicbiodiversity.appspot.com",messagingSenderId:"500256860315",appId:"1:500256860315:web:f5653dfd7f20cac0a7fe3e"};var He=k(2214),ut=k(5407);class gt{constructor(Mr){return Mr}}class mt{constructor(){return(0,He.Dk)()}}const Tt=new Re.nKC("angularfire2._apps"),Qe={provide:gt,useFactory:function Ot(Cn){return Cn&&1===Cn.length?Cn[0]:new gt((0,He.Sx)())},deps:[[new Re.Xx1,Tt]]},Te={provide:mt,deps:[[new Re.Xx1,Tt]]};function $e(Cn){return(Mr,Jr)=>{const fi=Jr.get(Re.Agw);(0,He.KO)("angularfire",ut.xv.full,"core"),(0,He.KO)("angularfire",ut.xv.full,"app"),(0,He.KO)("angular",Re.xvI.full,fi.toString());const Ls=Mr.runOutsideAngular(()=>Cn(Jr));return new gt(Ls)}}function vt(Cn,...Mr){return(0,Re.EmA)([Qe,Te,{provide:Tt,useFactory:$e(Cn),multi:!0,deps:[Re.SKi,Re.zZn,ut.u0,...Mr]}])}const Xt=(0,ut.S3)(He.Wp,!0);var Ze=k(99);class de{constructor(Mr){return Mr}}class Se{constructor(){return(0,ut.CA)("auth")}}const Be=new Re.nKC("angularfire2.auth-instances");function it(Cn){return(Mr,Jr)=>{const fi=Mr.runOutsideAngular(()=>Cn(Jr));return new de(fi)}}const nt={provide:Se,deps:[[new Re.Xx1,Be]]},Vt={provide:de,useFactory:function Ke(Cn,Mr){const Jr=(0,ut.lR)("auth",Cn,Mr);return Jr&&new de(Jr)},deps:[[new Re.Xx1,Be],gt]};function gn(Cn,...Mr){return(0,He.KO)("angularfire",ut.xv.full,"auth"),(0,Re.EmA)([Vt,nt,{provide:Be,useFactory:it(Cn),multi:!0,deps:[Re.SKi,Re.zZn,ut.u0,mt,[new Re.Xx1,ut.Jv],...Mr]}])}const ln=(0,ut.S3)(Ze.xI,!0);var Bi=k(463);class qi{constructor(Mr){return Mr}}const tn="database",Je=new Re.nKC("angularfire2.database-instances");function ge(Cn){return(Mr,Jr)=>{const fi=Mr.runOutsideAngular(()=>Cn(Jr));return new qi(fi)}}const Ge={provide:class fe{constructor(){return(0,ut.CA)(tn)}},deps:[[new Re.Xx1,Je]]},jt={provide:qi,useFactory:function _e(Cn,Mr){const Jr=(0,ut.lR)(tn,Cn,Mr);return Jr&&new qi(Jr)},deps:[[new Re.Xx1,Je],gt]};function jn(Cn,...Mr){return(0,He.KO)("angularfire",ut.xv.full,"rtdb"),(0,Re.EmA)([jt,Ge,{provide:Je,useFactory:ge(Cn),multi:!0,deps:[Re.SKi,Re.zZn,ut.u0,mt,[new Re.Xx1,Se],[new Re.Xx1,ut.Jv],...Mr]}])}const nr=(0,ut.S3)(Bi.C3,!0);var wt=k(467),En=k(177),On=k(369);const In=new Re.nKC("STORAGE_CONFIG_TOKEN");class Nn extends On.w{constructor(){super()}create(){var Mr=this;return(0,wt.A)(function*(){return Mr})()}defineDriver(){return(0,wt.A)(function*(){})()}get driver(){return"noop"}get(Mr){return(0,wt.A)(function*(){return null})()}set(Mr,Jr){return(0,wt.A)(function*(){})()}remove(Mr){return(0,wt.A)(function*(){})()}clear(){return(0,wt.A)(function*(){})()}length(){return(0,wt.A)(function*(){return 0})()}keys(){return(0,wt.A)(function*(){return[]})()}forEach(Mr){return(0,wt.A)(function*(){})()}setEncryptionKey(Mr){}}function Vn(Cn,Mr){return(0,En.Vy)(Cn)?new Nn:new On.w(Mr)}let sr=(()=>{class Cn{static forRoot(Jr=null){return{ngModule:Cn,providers:[{provide:In,useValue:Jr},{provide:On.w,useFactory:Vn,deps:[Re.Agw,In]}]}}}return Cn.\u0275fac=function(Jr){return new(Jr||Cn)},Cn.\u0275mod=Re.$C({type:Cn}),Cn.\u0275inj=Re.G2t({}),Cn})();var fr=k(9253),ur=k(1626),hi=k(9583);class Or{constructor(Mr){return Mr}}const qr="firestore",Jo=new Re.nKC("angularfire2.firestore-instances");function ar(Cn){return(Mr,Jr)=>{const fi=Mr.runOutsideAngular(()=>Cn(Jr));return new Or(fi)}}const pr={provide:class Ti{constructor(){return(0,ut.CA)(qr)}},deps:[[new Re.Xx1,Jo]]},li={provide:Or,useFactory:function fo(Cn,Mr){const Jr=(0,ut.lR)(qr,Cn,Mr);return Jr&&new Or(Jr)},deps:[[new Re.Xx1,Jo],gt]};function ls(Cn,...Mr){return(0,He.KO)("angularfire",ut.xv.full,"fst"),(0,Re.EmA)([li,pr,{provide:Jo,useFactory:ar(Cn),multi:!0,deps:[Re.SKi,Re.zZn,ut.u0,mt,[new Re.Xx1,Se],[new Re.Xx1,ut.Jv],...Mr]}])}const ts=(0,ut.S3)(hi.aU,!0);var Ma=k(4341);let rs=(()=>{var Cn;class Mr{}return(Cn=Mr).\u0275fac=function(fi){return new(fi||Cn)},Cn.\u0275mod=Re.$C({type:Cn,bootstrap:[ot]}),Cn.\u0275inj=Re.G2t({providers:[{provide:ce.b,useClass:Pe.jM},(0,ur.$R)(),vt(()=>Xt({projectId:"ionicbiodiversity",appId:"1:500256860315:web:f5653dfd7f20cac0a7fe3e",databaseURL:"https://ionicbiodiversity-default-rtdb.firebaseio.com",storageBucket:"ionicbiodiversity.appspot.com",apiKey:"AIzaSyBG_25O92h-ZWRYCwI6NUhRdnBYYN5r4t4",authDomain:"ionicbiodiversity.firebaseapp.com",messagingSenderId:"500256860315"})),gn(()=>ln()),jn(()=>nr()),vt(()=>Xt({projectId:"ionicbiodiversity",appId:"1:500256860315:web:f5653dfd7f20cac0a7fe3e",databaseURL:"https://ionicbiodiversity-default-rtdb.firebaseio.com",storageBucket:"ionicbiodiversity.firebasestorage.app",apiKey:"AIzaSyBG_25O92h-ZWRYCwI6NUhRdnBYYN5r4t4",authDomain:"ionicbiodiversity.firebaseapp.com",messagingSenderId:"500256860315"})),ls(()=>ts()),vt(()=>Xt({projectId:"ionicbiodiversity",appId:"1:500256860315:web:f5653dfd7f20cac0a7fe3e",databaseURL:"https://ionicbiodiversity-default-rtdb.firebaseio.com",storageBucket:"ionicbiodiversity.firebasestorage.app",apiKey:"AIzaSyBG_25O92h-ZWRYCwI6NUhRdnBYYN5r4t4",authDomain:"ionicbiodiversity.firebaseapp.com",messagingSenderId:"500256860315"}))],imports:[c.Bb,ke.bv.forRoot(),me,sr.forRoot(),fr.bf,We.X8,fr.bf.initializeApp(Ye_firebaseConfig),Ma.YN]}),Mr})();c.sG().bootstrapModule(rs).catch(Cn=>console.log(Cn)),window,typeof window>"u"?Promise.resolve():(0,p.p)().then(()=>(0,p.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},119:Gn=>{Gn.exports=function p(U,q,ce){function Pe(ot,Ve){if(!q[ot]){if(!U[ot]){if(ke)return ke(ot,!0);var We=new Error("Cannot find module '"+ot+"'");throw We.code="MODULE_NOT_FOUND",We}var Ye=q[ot]={exports:{}};U[ot][0].call(Ye.exports,function(He){return Pe(U[ot][1][He]||He)},Ye,Ye.exports,p,U,q,ce)}return q[ot].exports}for(var ke=void 0,Re=0;Re<ce.length;Re++)Pe(ce[Re]);return Pe}({1:[function(p,U,q){(function(ce){"use strict";var ke,Pe=ce.MutationObserver||ce.WebKitMutationObserver;if(Pe){var Re=0,ot=new Pe(He),Ve=ce.document.createTextNode("");ot.observe(Ve,{characterData:!0}),ke=function(){Ve.data=Re=++Re%2}}else if(!ce.setImmediate&&typeof ce.MessageChannel<"u"){var me=new ce.MessageChannel;me.port1.onmessage=He,ke=function(){me.port2.postMessage(0)}}else ke="document"in ce&&"onreadystatechange"in ce.document.createElement("script")?function(){var gt=ce.document.createElement("script");gt.onreadystatechange=function(){He(),gt.onreadystatechange=null,gt.parentNode.removeChild(gt),gt=null},ce.document.documentElement.appendChild(gt)}:function(){setTimeout(He,0)};var We,Ye=[];function He(){We=!0;for(var gt,mt,ft=Ye.length;ft;){for(mt=Ye,Ye=[],gt=-1;++gt<ft;)mt[gt]();ft=Ye.length}We=!1}U.exports=function ut(gt){1===Ye.push(gt)&&!We&&ke()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(p,U,q){"use strict";var ce=p(1);function Pe(){}var ke={},Re=["REJECTED"],ot=["FULFILLED"],Ve=["PENDING"];function me(Qe){if("function"!=typeof Qe)throw new TypeError("resolver must be a function");this.state=Ve,this.queue=[],this.outcome=void 0,Qe!==Pe&&ut(this,Qe)}function We(Qe,Te,$e){this.promise=Qe,"function"==typeof Te&&(this.onFulfilled=Te,this.callFulfilled=this.otherCallFulfilled),"function"==typeof $e&&(this.onRejected=$e,this.callRejected=this.otherCallRejected)}function Ye(Qe,Te,$e){ce(function(){var ct;try{ct=Te($e)}catch(vt){return ke.reject(Qe,vt)}ct===Qe?ke.reject(Qe,new TypeError("Cannot resolve promise with itself")):ke.resolve(Qe,ct)})}function He(Qe){var Te=Qe&&Qe.then;if(Qe&&("object"==typeof Qe||"function"==typeof Qe)&&"function"==typeof Te)return function(){Te.apply(Qe,arguments)}}function ut(Qe,Te){var $e=!1;function ct(Et){$e||($e=!0,ke.reject(Qe,Et))}function vt(Et){$e||($e=!0,ke.resolve(Qe,Et))}var ae=gt(function Ut(){Te(vt,ct)});"error"===ae.status&&ct(ae.value)}function gt(Qe,Te){var $e={};try{$e.value=Qe(Te),$e.status="success"}catch(ct){$e.status="error",$e.value=ct}return $e}U.exports=me,me.prototype.catch=function(Qe){return this.then(null,Qe)},me.prototype.then=function(Qe,Te){if("function"!=typeof Qe&&this.state===ot||"function"!=typeof Te&&this.state===Re)return this;var $e=new this.constructor(Pe);return this.state!==Ve?Ye($e,this.state===ot?Qe:Te,this.outcome):this.queue.push(new We($e,Qe,Te)),$e},We.prototype.callFulfilled=function(Qe){ke.resolve(this.promise,Qe)},We.prototype.otherCallFulfilled=function(Qe){Ye(this.promise,this.onFulfilled,Qe)},We.prototype.callRejected=function(Qe){ke.reject(this.promise,Qe)},We.prototype.otherCallRejected=function(Qe){Ye(this.promise,this.onRejected,Qe)},ke.resolve=function(Qe,Te){var $e=gt(He,Te);if("error"===$e.status)return ke.reject(Qe,$e.value);var ct=$e.value;if(ct)ut(Qe,ct);else{Qe.state=ot,Qe.outcome=Te;for(var vt=-1,Ut=Qe.queue.length;++vt<Ut;)Qe.queue[vt].callFulfilled(Te)}return Qe},ke.reject=function(Qe,Te){Qe.state=Re,Qe.outcome=Te;for(var $e=-1,ct=Qe.queue.length;++$e<ct;)Qe.queue[$e].callRejected(Te);return Qe},me.resolve=function mt(Qe){return Qe instanceof this?Qe:ke.resolve(new this(Pe),Qe)},me.reject=function ft(Qe){var Te=new this(Pe);return ke.reject(Te,Qe)},me.all=function Ot(Qe){var Te=this;if("[object Array]"!==Object.prototype.toString.call(Qe))return this.reject(new TypeError("must be an array"));var $e=Qe.length,ct=!1;if(!$e)return this.resolve([]);for(var vt=new Array($e),Ut=0,ae=-1,Et=new this(Pe);++ae<$e;)Xt(Qe[ae],ae);return Et;function Xt(un,Ht){Te.resolve(un).then(function Ft(Qn){vt[Ht]=Qn,++Ut===$e&&!ct&&(ct=!0,ke.resolve(Et,vt))},function(Qn){ct||(ct=!0,ke.reject(Et,Qn))})}},me.race=function Tt(Qe){var Te=this;if("[object Array]"!==Object.prototype.toString.call(Qe))return this.reject(new TypeError("must be an array"));var $e=Qe.length,ct=!1;if(!$e)return this.resolve([]);for(var vt=-1,Ut=new this(Pe);++vt<$e;)Te.resolve(Qe[vt]).then(function(Xt){ct||(ct=!0,ke.resolve(Ut,Xt))},function(Xt){ct||(ct=!0,ke.reject(Ut,Xt))});return Ut}},{1:1}],3:[function(p,U,q){(function(ce){"use strict";"function"!=typeof ce.Promise&&(ce.Promise=p(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(p,U,q){"use strict";var ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};var Re=function ke(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function Ve(X,be){X=X||[],be=be||{};try{return new Blob(X,be)}catch(dt){if("TypeError"!==dt.name)throw dt;for(var Xe=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),at=0;at<X.length;at+=1)Xe.append(X[at]);return Xe.getBlob(be.type)}}typeof Promise>"u"&&p(3);var me=Promise;function We(X,be){be&&X.then(function(ve){be(null,ve)},function(ve){be(ve)})}function Ye(X,be,ve){"function"==typeof be&&X.then(be),"function"==typeof ve&&X.catch(ve)}function He(X){return"string"!=typeof X&&(console.warn(X+" used as a key, but it is not a string."),X=String(X)),X}function ut(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var gt="local-forage-detect-blob-support",mt=void 0,ft={},Ot=Object.prototype.toString,Tt="readonly",Qe="readwrite";function Te(X){for(var be=X.length,ve=new ArrayBuffer(be),Xe=new Uint8Array(ve),at=0;at<be;at++)Xe[at]=X.charCodeAt(at);return ve}function ct(X){return"boolean"==typeof mt?me.resolve(mt):function $e(X){return new me(function(be){var ve=X.transaction(gt,Qe),Xe=Ve([""]);ve.objectStore(gt).put(Xe,"key"),ve.onabort=function(at){at.preventDefault(),at.stopPropagation(),be(!1)},ve.oncomplete=function(){var at=navigator.userAgent.match(/Chrome\/(\d+)/),dt=navigator.userAgent.match(/Edge\//);be(dt||!at||parseInt(at[1],10)>=43)}}).catch(function(){return!1})}(X).then(function(be){return mt=be})}function vt(X){var be=ft[X.name],ve={};ve.promise=new me(function(Xe,at){ve.resolve=Xe,ve.reject=at}),be.deferredOperations.push(ve),be.dbReady=be.dbReady?be.dbReady.then(function(){return ve.promise}):ve.promise}function Ut(X){var ve=ft[X.name].deferredOperations.pop();if(ve)return ve.resolve(),ve.promise}function ae(X,be){var Xe=ft[X.name].deferredOperations.pop();if(Xe)return Xe.reject(be),Xe.promise}function Et(X,be){return new me(function(ve,Xe){if(ft[X.name]=ft[X.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},X.db){if(!be)return ve(X.db);vt(X),X.db.close()}var at=[X.name];be&&at.push(X.version);var dt=Re.open.apply(Re,at);be&&(dt.onupgradeneeded=function(Bt){var rn=dt.result;try{rn.createObjectStore(X.storeName),Bt.oldVersion<=1&&rn.createObjectStore(gt)}catch(Wt){if("ConstraintError"!==Wt.name)throw Wt;console.warn('The database "'+X.name+'" has been upgraded from version '+Bt.oldVersion+" to version "+Bt.newVersion+', but the storage "'+X.storeName+'" already exists.')}}),dt.onerror=function(Bt){Bt.preventDefault(),Xe(dt.error)},dt.onsuccess=function(){var Bt=dt.result;Bt.onversionchange=function(rn){rn.target.close()},ve(Bt),Ut(X)}})}function Xt(X){return Et(X,!1)}function un(X){return Et(X,!0)}function Ht(X,be){if(!X.db)return!0;var ve=!X.db.objectStoreNames.contains(X.storeName),at=X.version>X.db.version;if(X.version<X.db.version&&(X.version!==be&&console.warn('The database "'+X.name+"\" can't be downgraded from version "+X.db.version+" to version "+X.version+"."),X.version=X.db.version),at||ve){if(ve){var dt=X.db.version+1;dt>X.version&&(X.version=dt)}return!0}return!1}function Qn(X){return Ve([Te(atob(X.data))],{type:X.type})}function Ze(X){return X&&X.__local_forage_encoded_blob}function ee(X){var be=this,ve=be._initReady().then(function(){var Xe=ft[be._dbInfo.name];if(Xe&&Xe.dbReady)return Xe.dbReady});return Ye(ve,X,X),ve}function Se(X,be,ve,Xe){void 0===Xe&&(Xe=1);try{var at=X.db.transaction(X.storeName,be);ve(null,at)}catch(dt){if(Xe>0&&(!X.db||"InvalidStateError"===dt.name||"NotFoundError"===dt.name))return me.resolve().then(function(){if(!X.db||"NotFoundError"===dt.name&&!X.db.objectStoreNames.contains(X.storeName)&&X.version<=X.db.version)return X.db&&(X.version=X.db.version+1),un(X)}).then(function(){return function de(X){vt(X);for(var be=ft[X.name],ve=be.forages,Xe=0;Xe<ve.length;Xe++){var at=ve[Xe];at._dbInfo.db&&(at._dbInfo.db.close(),at._dbInfo.db=null)}return X.db=null,Xt(X).then(function(dt){return X.db=dt,Ht(X)?un(X):dt}).then(function(dt){X.db=be.db=dt;for(var Bt=0;Bt<ve.length;Bt++)ve[Bt]._dbInfo.db=dt}).catch(function(dt){throw ae(X,dt),dt})}(X).then(function(){Se(X,be,ve,Xe-1)})}).catch(ve);ve(dt)}}var Kn={_driver:"asyncStorage",_initStorage:function Be(X){var be=this,ve={db:null};if(X)for(var Xe in X)ve[Xe]=X[Xe];var at=ft[ve.name];at||(ft[ve.name]=at={forages:[],db:null,dbReady:null,deferredOperations:[]}),at.forages.push(be),be._initReady||(be._initReady=be.ready,be.ready=ee);var dt=[];function Bt(){return me.resolve()}for(var rn=0;rn<at.forages.length;rn++){var Wt=at.forages[rn];Wt!==be&&dt.push(Wt._initReady().catch(Bt))}var Tn=at.forages.slice(0);return me.all(dt).then(function(){return ve.db=at.db,Xt(ve)}).then(function(Rn){return ve.db=Rn,Ht(ve,be._defaultConfig.version)?un(ve):Rn}).then(function(Rn){ve.db=at.db=Rn,be._dbInfo=ve;for(var kn=0;kn<Tn.length;kn++){var lr=Tn[kn];lr!==be&&(lr._dbInfo.db=ve.db,lr._dbInfo.version=ve.version)}})},_support:function ot(){try{if(!Re||!Re.open)return!1;var X=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),be="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!X||be)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function it(X,be){var ve=this,Xe=new me(function(at,dt){ve.ready().then(function(){Se(ve._dbInfo,Tt,function(Bt,rn){if(Bt)return dt(Bt);try{var Tn=rn.objectStore(ve._dbInfo.storeName).openCursor(),Rn=1;Tn.onsuccess=function(){var kn=Tn.result;if(kn){var lr=kn.value;Ze(lr)&&(lr=Qn(lr));var cr=X(lr,kn.key,Rn++);void 0!==cr?at(cr):kn.continue()}else at()},Tn.onerror=function(){dt(Tn.error)}}catch(kn){dt(kn)}})}).catch(dt)});return We(Xe,be),Xe},getItem:function Ke(X,be){var ve=this;X=He(X);var Xe=new me(function(at,dt){ve.ready().then(function(){Se(ve._dbInfo,Tt,function(Bt,rn){if(Bt)return dt(Bt);try{var Tn=rn.objectStore(ve._dbInfo.storeName).get(X);Tn.onsuccess=function(){var Rn=Tn.result;void 0===Rn&&(Rn=null),Ze(Rn)&&(Rn=Qn(Rn)),at(Rn)},Tn.onerror=function(){dt(Tn.error)}}catch(Rn){dt(Rn)}})}).catch(dt)});return We(Xe,be),Xe},setItem:function nt(X,be,ve){var Xe=this;X=He(X);var at=new me(function(dt,Bt){var rn;Xe.ready().then(function(){return rn=Xe._dbInfo,"[object Blob]"===Ot.call(be)?ct(rn.db).then(function(Wt){return Wt?be:function Ft(X){return new me(function(be,ve){var Xe=new FileReader;Xe.onerror=ve,Xe.onloadend=function(at){var dt=btoa(at.target.result||"");be({__local_forage_encoded_blob:!0,data:dt,type:X.type})},Xe.readAsBinaryString(X)})}(be)}):be}).then(function(Wt){Se(Xe._dbInfo,Qe,function(Tn,Rn){if(Tn)return Bt(Tn);try{var kn=Rn.objectStore(Xe._dbInfo.storeName);null===Wt&&(Wt=void 0);var lr=kn.put(Wt,X);Rn.oncomplete=function(){void 0===Wt&&(Wt=null),dt(Wt)},Rn.onabort=Rn.onerror=function(){Bt(lr.error?lr.error:lr.transaction.error)}}catch(cr){Bt(cr)}})}).catch(Bt)});return We(at,ve),at},removeItem:function Vt(X,be){var ve=this;X=He(X);var Xe=new me(function(at,dt){ve.ready().then(function(){Se(ve._dbInfo,Qe,function(Bt,rn){if(Bt)return dt(Bt);try{var Tn=rn.objectStore(ve._dbInfo.storeName).delete(X);rn.oncomplete=function(){at()},rn.onerror=function(){dt(Tn.error)},rn.onabort=function(){dt(Tn.error?Tn.error:Tn.transaction.error)}}catch(Rn){dt(Rn)}})}).catch(dt)});return We(Xe,be),Xe},clear:function Ln(X){var be=this,ve=new me(function(Xe,at){be.ready().then(function(){Se(be._dbInfo,Qe,function(dt,Bt){if(dt)return at(dt);try{var Wt=Bt.objectStore(be._dbInfo.storeName).clear();Bt.oncomplete=function(){Xe()},Bt.onabort=Bt.onerror=function(){at(Wt.error?Wt.error:Wt.transaction.error)}}catch(Tn){at(Tn)}})}).catch(at)});return We(ve,X),ve},length:function gn(X){var be=this,ve=new me(function(Xe,at){be.ready().then(function(){Se(be._dbInfo,Tt,function(dt,Bt){if(dt)return at(dt);try{var Wt=Bt.objectStore(be._dbInfo.storeName).count();Wt.onsuccess=function(){Xe(Wt.result)},Wt.onerror=function(){at(Wt.error)}}catch(Tn){at(Tn)}})}).catch(at)});return We(ve,X),ve},key:function ir(X,be){var ve=this,Xe=new me(function(at,dt){X<0?at(null):ve.ready().then(function(){Se(ve._dbInfo,Tt,function(Bt,rn){if(Bt)return dt(Bt);try{var Wt=rn.objectStore(ve._dbInfo.storeName),Tn=!1,Rn=Wt.openKeyCursor();Rn.onsuccess=function(){var kn=Rn.result;kn?0===X||Tn?at(kn.key):(Tn=!0,kn.advance(X)):at(null)},Rn.onerror=function(){dt(Rn.error)}}catch(kn){dt(kn)}})}).catch(dt)});return We(Xe,be),Xe},keys:function zn(X){var be=this,ve=new me(function(Xe,at){be.ready().then(function(){Se(be._dbInfo,Tt,function(dt,Bt){if(dt)return at(dt);try{var Wt=Bt.objectStore(be._dbInfo.storeName).openKeyCursor(),Tn=[];Wt.onsuccess=function(){var Rn=Wt.result;Rn?(Tn.push(Rn.key),Rn.continue()):Xe(Tn)},Wt.onerror=function(){at(Wt.error)}}catch(Rn){at(Rn)}})}).catch(at)});return We(ve,X),ve},dropInstance:function gr(X,be){be=ut.apply(this,arguments);var at,ve=this.config();return(X="function"!=typeof X&&X||{}).name||(X.name=X.name||ve.name,X.storeName=X.storeName||ve.storeName),We(at=X.name?(X.name===ve.name&&this._dbInfo.db?me.resolve(this._dbInfo.db):Xt(X).then(function(rn){var Wt=ft[X.name],Tn=Wt.forages;Wt.db=rn;for(var Rn=0;Rn<Tn.length;Rn++)Tn[Rn]._dbInfo.db=rn;return rn})).then(X.storeName?function(rn){if(rn.objectStoreNames.contains(X.storeName)){var Wt=rn.version+1;vt(X);var Tn=ft[X.name],Rn=Tn.forages;rn.close();for(var kn=0;kn<Rn.length;kn++){var lr=Rn[kn];lr._dbInfo.db=null,lr._dbInfo.version=Wt}return new me(function(nr,ai){var Nr=Re.open(X.name,Wt);Nr.onerror=function(Ir){Nr.result.close(),ai(Ir)},Nr.onupgradeneeded=function(){Nr.result.deleteObjectStore(X.storeName)},Nr.onsuccess=function(){var Ir=Nr.result;Ir.close(),nr(Ir)}}).then(function(nr){Tn.db=nr;for(var ai=0;ai<Rn.length;ai++){var Nr=Rn[ai];Nr._dbInfo.db=nr,Ut(Nr._dbInfo)}}).catch(function(nr){throw(ae(X,nr)||me.resolve()).catch(function(){}),nr})}}:function(rn){vt(X);var Wt=ft[X.name],Tn=Wt.forages;rn.close();for(var Rn=0;Rn<Tn.length;Rn++)Tn[Rn]._dbInfo.db=null;return new me(function(cr,nr){var ai=Re.deleteDatabase(X.name);ai.onerror=function(){var Nr=ai.result;Nr&&Nr.close(),nr(ai.error)},ai.onblocked=function(){console.warn('dropInstance blocked for database "'+X.name+'" until all open connections are closed')},ai.onsuccess=function(){var Nr=ai.result;Nr&&Nr.close(),cr(Nr)}}).then(function(cr){Wt.db=cr;for(var nr=0;nr<Tn.length;nr++)Ut(Tn[nr]._dbInfo)}).catch(function(cr){throw(ae(X,cr)||me.resolve()).catch(function(){}),cr})}):me.reject("Invalid arguments"),be),at}};var Xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bn=/^~~local_forage_type~([^~]+)~/,sn="__lfsc__:",Kt="arbf",vn="blob",ri=Object.prototype.toString;function Pr(X){var Xe,dt,Bt,rn,Wt,be=.75*X.length,ve=X.length,at=0;"="===X[X.length-1]&&(be--,"="===X[X.length-2]&&be--);var Tn=new ArrayBuffer(be),Rn=new Uint8Array(Tn);for(Xe=0;Xe<ve;Xe+=4)dt=Xn.indexOf(X[Xe]),Bt=Xn.indexOf(X[Xe+1]),rn=Xn.indexOf(X[Xe+2]),Wt=Xn.indexOf(X[Xe+3]),Rn[at++]=dt<<2|Bt>>4,Rn[at++]=(15&Bt)<<4|rn>>2,Rn[at++]=(3&rn)<<6|63&Wt;return Tn}function Ii(X){var Xe,be=new Uint8Array(X),ve="";for(Xe=0;Xe<be.length;Xe+=3)ve+=Xn[be[Xe]>>2],ve+=Xn[(3&be[Xe])<<4|be[Xe+1]>>4],ve+=Xn[(15&be[Xe+1])<<2|be[Xe+2]>>6],ve+=Xn[63&be[Xe+2]];return be.length%3==2?ve=ve.substring(0,ve.length-1)+"=":be.length%3==1&&(ve=ve.substring(0,ve.length-2)+"=="),ve}var _i={serialize:function rr(X,be){var ve="";if(X&&(ve=ri.call(X)),X&&("[object ArrayBuffer]"===ve||X.buffer&&"[object ArrayBuffer]"===ri.call(X.buffer))){var Xe,at=sn;X instanceof ArrayBuffer?(Xe=X,at+=Kt):(Xe=X.buffer,"[object Int8Array]"===ve?at+="si08":"[object Uint8Array]"===ve?at+="ui08":"[object Uint8ClampedArray]"===ve?at+="uic8":"[object Int16Array]"===ve?at+="si16":"[object Uint16Array]"===ve?at+="ur16":"[object Int32Array]"===ve?at+="si32":"[object Uint32Array]"===ve?at+="ui32":"[object Float32Array]"===ve?at+="fl32":"[object Float64Array]"===ve?at+="fl64":be(new Error("Failed to get type for BinaryArray"))),be(at+Ii(Xe))}else if("[object Blob]"===ve){var dt=new FileReader;dt.onload=function(){var Bt="~~local_forage_type~"+X.type+"~"+Ii(this.result);be(sn+vn+Bt)},dt.readAsArrayBuffer(X)}else try{be(JSON.stringify(X))}catch(Bt){console.error("Couldn't convert value into a JSON string: ",X),be(null,Bt)}},deserialize:function br(X){if(X.substring(0,9)!==sn)return JSON.parse(X);var Xe,be=X.substring(13),ve=X.substring(9,13);if(ve===vn&&bn.test(be)){var at=be.match(bn);Xe=at[1],be=be.substring(at[0].length)}var dt=Pr(be);switch(ve){case Kt:return dt;case vn:return Ve([dt],{type:Xe});case"si08":return new Int8Array(dt);case"ui08":return new Uint8Array(dt);case"uic8":return new Uint8ClampedArray(dt);case"si16":return new Int16Array(dt);case"ur16":return new Uint16Array(dt);case"si32":return new Int32Array(dt);case"ui32":return new Uint32Array(dt);case"fl32":return new Float32Array(dt);case"fl64":return new Float64Array(dt);default:throw new Error("Unkown type: "+ve)}},stringToBuffer:Pr,bufferToString:Ii};function Pt(X,be,ve,Xe){X.executeSql("CREATE TABLE IF NOT EXISTS "+be.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ve,Xe)}function mr(X,be,ve,Xe,at,dt){X.executeSql(ve,Xe,at,function(Bt,rn){rn.code===rn.SYNTAX_ERR?Bt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[be.storeName],function(Wt,Tn){Tn.rows.length?dt(Wt,rn):Pt(Wt,be,function(){Wt.executeSql(ve,Xe,at,dt)},dt)},dt):dt(Bt,rn)},dt)}function mi(X,be,ve,Xe){var at=this;X=He(X);var dt=new me(function(Bt,rn){at.ready().then(function(){void 0===be&&(be=null);var Wt=be,Tn=at._dbInfo;Tn.serializer.serialize(be,function(Rn,kn){kn?rn(kn):Tn.db.transaction(function(lr){mr(lr,Tn,"INSERT OR REPLACE INTO "+Tn.storeName+" (key, value) VALUES (?, ?)",[X,Rn],function(){Bt(Wt)},function(cr,nr){rn(nr)})},function(lr){if(lr.code===lr.QUOTA_ERR){if(Xe>0)return void Bt(mi.apply(at,[X,Wt,ve,Xe-1]));rn(lr)}})})}).catch(rn)});return We(dt,ve),dt}var pe={_driver:"webSQLStorage",_initStorage:function Vr(X){var be=this,ve={db:null};if(X)for(var Xe in X)ve[Xe]="string"!=typeof X[Xe]?X[Xe].toString():X[Xe];var at=new me(function(dt,Bt){try{ve.db=openDatabase(ve.name,String(ve.version),ve.description,ve.size)}catch(rn){return Bt(rn)}ve.db.transaction(function(rn){Pt(rn,ve,function(){be._dbInfo=ve,dt()},function(Wt,Tn){Bt(Tn)})},Bt)});return ve.serializer=_i,at},_support:function _r(){return"function"==typeof openDatabase}(),iterate:function Vi(X,be){var ve=this,Xe=new me(function(at,dt){ve.ready().then(function(){var Bt=ve._dbInfo;Bt.db.transaction(function(rn){mr(rn,Bt,"SELECT * FROM "+Bt.storeName,[],function(Wt,Tn){for(var Rn=Tn.rows,kn=Rn.length,lr=0;lr<kn;lr++){var cr=Rn.item(lr),nr=cr.value;if(nr&&(nr=Bt.serializer.deserialize(nr)),void 0!==(nr=X(nr,cr.key,lr+1)))return void at(nr)}at()},function(Wt,Tn){dt(Tn)})})}).catch(dt)});return We(Xe,be),Xe},getItem:function yi(X,be){var ve=this;X=He(X);var Xe=new me(function(at,dt){ve.ready().then(function(){var Bt=ve._dbInfo;Bt.db.transaction(function(rn){mr(rn,Bt,"SELECT * FROM "+Bt.storeName+" WHERE key = ? LIMIT 1",[X],function(Wt,Tn){var Rn=Tn.rows.length?Tn.rows.item(0).value:null;Rn&&(Rn=Bt.serializer.deserialize(Rn)),at(Rn)},function(Wt,Tn){dt(Tn)})})}).catch(dt)});return We(Xe,be),Xe},setItem:function Yt(X,be,ve){return mi.apply(this,[X,be,ve,1])},removeItem:function Mt(X,be){var ve=this;X=He(X);var Xe=new me(function(at,dt){ve.ready().then(function(){var Bt=ve._dbInfo;Bt.db.transaction(function(rn){mr(rn,Bt,"DELETE FROM "+Bt.storeName+" WHERE key = ?",[X],function(){at()},function(Wt,Tn){dt(Tn)})})}).catch(dt)});return We(Xe,be),Xe},clear:function qt(X){var be=this,ve=new me(function(Xe,at){be.ready().then(function(){var dt=be._dbInfo;dt.db.transaction(function(Bt){mr(Bt,dt,"DELETE FROM "+dt.storeName,[],function(){Xe()},function(rn,Wt){at(Wt)})})}).catch(at)});return We(ve,X),ve},length:function _t(X){var be=this,ve=new me(function(Xe,at){be.ready().then(function(){var dt=be._dbInfo;dt.db.transaction(function(Bt){mr(Bt,dt,"SELECT COUNT(key) as c FROM "+dt.storeName,[],function(rn,Wt){var Tn=Wt.rows.item(0).c;Xe(Tn)},function(rn,Wt){at(Wt)})})}).catch(at)});return We(ve,X),ve},key:function we(X,be){var ve=this,Xe=new me(function(at,dt){ve.ready().then(function(){var Bt=ve._dbInfo;Bt.db.transaction(function(rn){mr(rn,Bt,"SELECT key FROM "+Bt.storeName+" WHERE id = ? LIMIT 1",[X+1],function(Wt,Tn){var Rn=Tn.rows.length?Tn.rows.item(0).key:null;at(Rn)},function(Wt,Tn){dt(Tn)})})}).catch(dt)});return We(Xe,be),Xe},keys:function Z(X){var be=this,ve=new me(function(Xe,at){be.ready().then(function(){var dt=be._dbInfo;dt.db.transaction(function(Bt){mr(Bt,dt,"SELECT key FROM "+dt.storeName,[],function(rn,Wt){for(var Tn=[],Rn=0;Rn<Wt.rows.length;Rn++)Tn.push(Wt.rows.item(Rn).key);Xe(Tn)},function(rn,Wt){at(Wt)})})}).catch(at)});return We(ve,X),ve},dropInstance:function W(X,be){be=ut.apply(this,arguments);var ve=this.config();(X="function"!=typeof X&&X||{}).name||(X.name=X.name||ve.name,X.storeName=X.storeName||ve.storeName);var at,Xe=this;return We(at=X.name?new me(function(dt){var Bt;Bt=X.name===ve.name?Xe._dbInfo.db:openDatabase(X.name,"","",0),dt(X.storeName?{db:Bt,storeNames:[X.storeName]}:function x(X){return new me(function(be,ve){X.transaction(function(Xe){Xe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(at,dt){for(var Bt=[],rn=0;rn<dt.rows.length;rn++)Bt.push(dt.rows.item(rn).name);be({db:X,storeNames:Bt})},function(at,dt){ve(dt)})},function(Xe){ve(Xe)})})}(Bt))}).then(function(dt){return new me(function(Bt,rn){dt.db.transaction(function(Wt){function Tn(cr){return new me(function(nr,ai){Wt.executeSql("DROP TABLE IF EXISTS "+cr,[],function(){nr()},function(Nr,Ir){ai(Ir)})})}for(var Rn=[],kn=0,lr=dt.storeNames.length;kn<lr;kn++)Rn.push(Tn(dt.storeNames[kn]));me.all(Rn).then(function(){Bt()}).catch(function(cr){rn(cr)})},function(Wt){rn(Wt)})})}):me.reject("Invalid arguments"),be),at}};function Ct(X,be){var ve=X.name+"/";return X.storeName!==be.storeName&&(ve+=X.storeName+"/"),ve}function dn(){return!function zt(){var X="_localforage_support_test";try{return localStorage.setItem(X,!0),localStorage.removeItem(X),!1}catch{return!0}}()||localStorage.length>0}var Bi={_driver:"localStorageWrapper",_initStorage:function xn(X){var ve={};if(X)for(var Xe in X)ve[Xe]=X[Xe];return ve.keyPrefix=Ct(X,this._defaultConfig),dn()?(this._dbInfo=ve,ve.serializer=_i,me.resolve()):me.reject()},_support:function Fe(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function Hn(X,be){var ve=this,Xe=ve.ready().then(function(){for(var at=ve._dbInfo,dt=at.keyPrefix,Bt=dt.length,rn=localStorage.length,Wt=1,Tn=0;Tn<rn;Tn++){var Rn=localStorage.key(Tn);if(0===Rn.indexOf(dt)){var kn=localStorage.getItem(Rn);if(kn&&(kn=at.serializer.deserialize(kn)),void 0!==(kn=X(kn,Rn.substring(Bt),Wt++)))return kn}}});return We(Xe,be),Xe},getItem:function yn(X,be){var ve=this;X=He(X);var Xe=ve.ready().then(function(){var at=ve._dbInfo,dt=localStorage.getItem(at.keyPrefix+X);return dt&&(dt=at.serializer.deserialize(dt)),dt});return We(Xe,be),Xe},setItem:function xi(X,be,ve){var Xe=this;X=He(X);var at=Xe.ready().then(function(){void 0===be&&(be=null);var dt=be;return new me(function(Bt,rn){var Wt=Xe._dbInfo;Wt.serializer.serialize(be,function(Tn,Rn){if(Rn)rn(Rn);else try{localStorage.setItem(Wt.keyPrefix+X,Tn),Bt(dt)}catch(kn){("QuotaExceededError"===kn.name||"NS_ERROR_DOM_QUOTA_REACHED"===kn.name)&&rn(kn),rn(kn)}})})});return We(at,ve),at},removeItem:function si(X,be){var ve=this;X=He(X);var Xe=ve.ready().then(function(){localStorage.removeItem(ve._dbInfo.keyPrefix+X)});return We(Xe,be),Xe},clear:function An(X){var be=this,ve=be.ready().then(function(){for(var Xe=be._dbInfo.keyPrefix,at=localStorage.length-1;at>=0;at--){var dt=localStorage.key(at);0===dt.indexOf(Xe)&&localStorage.removeItem(dt)}});return We(ve,X),ve},length:function Ui(X){var ve=this.keys().then(function(Xe){return Xe.length});return We(ve,X),ve},key:function wr(X,be){var ve=this,Xe=ve.ready().then(function(){var dt,at=ve._dbInfo;try{dt=localStorage.key(X)}catch{dt=null}return dt&&(dt=dt.substring(at.keyPrefix.length)),dt});return We(Xe,be),Xe},keys:function Ai(X){var be=this,ve=be.ready().then(function(){for(var Xe=be._dbInfo,at=localStorage.length,dt=[],Bt=0;Bt<at;Bt++){var rn=localStorage.key(Bt);0===rn.indexOf(Xe.keyPrefix)&&dt.push(rn.substring(Xe.keyPrefix.length))}return dt});return We(ve,X),ve},dropInstance:function ki(X,be){if(be=ut.apply(this,arguments),!(X="function"!=typeof X&&X||{}).name){var ve=this.config();X.name=X.name||ve.name,X.storeName=X.storeName||ve.storeName}var at,Xe=this;return We(at=X.name?new me(function(dt){dt(X.storeName?Ct(X,Xe._defaultConfig):X.name+"/")}).then(function(dt){for(var Bt=localStorage.length-1;Bt>=0;Bt--){var rn=localStorage.key(Bt);0===rn.indexOf(dt)&&localStorage.removeItem(rn)}}):me.reject("Invalid arguments"),be),at}},qi=function(be,ve){return be===ve||"number"==typeof be&&"number"==typeof ve&&isNaN(be)&&isNaN(ve)},tn=function(be,ve){for(var Xe=be.length,at=0;at<Xe;){if(qi(be[at],ve))return!0;at++}return!1},fe=Array.isArray||function(X){return"[object Array]"===Object.prototype.toString.call(X)},le={},Je={},_e={INDEXEDDB:Kn,WEBSQL:pe,LOCALSTORAGE:Bi},ge=[_e.INDEXEDDB._driver,_e.WEBSQL._driver,_e.LOCALSTORAGE._driver],Ge=["dropInstance"],jt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ge),pn={description:"",driver:ge.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function jn(X,be){X[be]=function(){var ve=arguments;return X.ready().then(function(){return X[be].apply(X,ve)})}}function ye(){for(var X=1;X<arguments.length;X++){var be=arguments[X];if(be)for(var ve in be)be.hasOwnProperty(ve)&&(arguments[0][ve]=fe(be[ve])?be[ve].slice():be[ve])}return arguments[0]}var je=function(){function X(be){for(var ve in function Pe(X,be){if(!(X instanceof be))throw new TypeError("Cannot call a class as a function")}(this,X),_e)if(_e.hasOwnProperty(ve)){var Xe=_e[ve],at=Xe._driver;this[ve]=at,le[at]||this.defineDriver(Xe)}this._defaultConfig=ye({},pn),this._config=ye({},this._defaultConfig,be),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return X.prototype.config=function(ve){if("object"===(typeof ve>"u"?"undefined":ce(ve))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Xe in ve){if("storeName"===Xe&&(ve[Xe]=ve[Xe].replace(/\W/g,"_")),"version"===Xe&&"number"!=typeof ve[Xe])return new Error("Database version must be a number.");this._config[Xe]=ve[Xe]}return!("driver"in ve)||!ve.driver||this.setDriver(this._config.driver)}return"string"==typeof ve?this._config[ve]:this._config},X.prototype.defineDriver=function(ve,Xe,at){var dt=new me(function(Bt,rn){try{var Wt=ve._driver,Tn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ve._driver)return void rn(Tn);for(var Rn=jt.concat("_initStorage"),kn=0,lr=Rn.length;kn<lr;kn++){var cr=Rn[kn];if((!tn(Ge,cr)||ve[cr])&&"function"!=typeof ve[cr])return void rn(Tn)}!function(){for(var Qi=function(xo){return function(){var vo=new Error("Method "+xo+" is not implemented by the current driver"),_s=me.reject(vo);return We(_s,arguments[arguments.length-1]),_s}},Ni=0,Ci=Ge.length;Ni<Ci;Ni++){var oo=Ge[Ni];ve[oo]||(ve[oo]=Qi(oo))}}();var Nr=function(Qi){le[Wt]&&console.info("Redefining LocalForage driver: "+Wt),le[Wt]=ve,Je[Wt]=Qi,Bt()};"_support"in ve?ve._support&&"function"==typeof ve._support?ve._support().then(Nr,rn):Nr(!!ve._support):Nr(!0)}catch(Ir){rn(Ir)}});return Ye(dt,Xe,at),dt},X.prototype.driver=function(){return this._driver||null},X.prototype.getDriver=function(ve,Xe,at){var dt=le[ve]?me.resolve(le[ve]):me.reject(new Error("Driver not found."));return Ye(dt,Xe,at),dt},X.prototype.getSerializer=function(ve){var Xe=me.resolve(_i);return Ye(Xe,ve),Xe},X.prototype.ready=function(ve){var Xe=this,at=Xe._driverSet.then(function(){return null===Xe._ready&&(Xe._ready=Xe._initDriver()),Xe._ready});return Ye(at,ve,ve),at},X.prototype.setDriver=function(ve,Xe,at){var dt=this;fe(ve)||(ve=[ve]);var Bt=this._getSupportedDrivers(ve);function rn(){dt._config.driver=dt.driver()}function Wt(kn){return dt._extend(kn),rn(),dt._ready=dt._initStorage(dt._config),dt._ready}var Rn=null!==this._driverSet?this._driverSet.catch(function(){return me.resolve()}):me.resolve();return this._driverSet=Rn.then(function(){var kn=Bt[0];return dt._dbInfo=null,dt._ready=null,dt.getDriver(kn).then(function(lr){dt._driver=lr._driver,rn(),dt._wrapLibraryMethodsWithReady(),dt._initDriver=function Tn(kn){return function(){var lr=0;return function cr(){for(;lr<kn.length;){var nr=kn[lr];return lr++,dt._dbInfo=null,dt._ready=null,dt.getDriver(nr).then(Wt).catch(cr)}rn();var ai=new Error("No available storage method found.");return dt._driverSet=me.reject(ai),dt._driverSet}()}}(Bt)})}).catch(function(){rn();var kn=new Error("No available storage method found.");return dt._driverSet=me.reject(kn),dt._driverSet}),Ye(this._driverSet,Xe,at),this._driverSet},X.prototype.supports=function(ve){return!!Je[ve]},X.prototype._extend=function(ve){ye(this,ve)},X.prototype._getSupportedDrivers=function(ve){for(var Xe=[],at=0,dt=ve.length;at<dt;at++){var Bt=ve[at];this.supports(Bt)&&Xe.push(Bt)}return Xe},X.prototype._wrapLibraryMethodsWithReady=function(){for(var ve=0,Xe=jt.length;ve<Xe;ve++)jn(this,jt[ve])},X.prototype.createInstance=function(ve){return new X(ve)},X}(),bt=new je;U.exports=bt},{3:3}]},{},[4])(4)},4412:(Gn,St,k)=>{"use strict";k.d(St,{t:()=>p});var c=k(1413);class p extends c.B{constructor(q){super(),this._value=q}get value(){return this.getValue()}_subscribe(q){const ce=super._subscribe(q);return!ce.closed&&q.next(this._value),ce}getValue(){const{hasError:q,thrownError:ce,_value:Pe}=this;if(q)throw ce;return this._throwIfClosed(),Pe}next(q){super.next(this._value=q)}}},1985:(Gn,St,k)=>{"use strict";k.d(St,{c:()=>Re});var c=k(7707),p=k(8359),U=k(3494),q=k(1203),ce=k(1026),Pe=k(8071),ke=k(9786);let Re=(()=>{class We{constructor(He){He&&(this._subscribe=He)}lift(He){const ut=new We;return ut.source=this,ut.operator=He,ut}subscribe(He,ut,gt){const mt=function me(We){return We&&We instanceof c.vU||function Ve(We){return We&&(0,Pe.T)(We.next)&&(0,Pe.T)(We.error)&&(0,Pe.T)(We.complete)}(We)&&(0,p.Uv)(We)}(He)?He:new c.Ms(He,ut,gt);return(0,ke.Y)(()=>{const{operator:ft,source:Ot}=this;mt.add(ft?ft.call(mt,Ot):Ot?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(He){try{return this._subscribe(He)}catch(ut){He.error(ut)}}forEach(He,ut){return new(ut=ot(ut))((gt,mt)=>{const ft=new c.Ms({next:Ot=>{try{He(Ot)}catch(Tt){mt(Tt),ft.unsubscribe()}},error:mt,complete:gt});this.subscribe(ft)})}_subscribe(He){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(He)}[U.s](){return this}pipe(...He){return(0,q.m)(He)(this)}toPromise(He){return new(He=ot(He))((ut,gt)=>{let mt;this.subscribe(ft=>mt=ft,ft=>gt(ft),()=>ut(mt))})}}return We.create=Ye=>new We(Ye),We})();function ot(We){var Ye;return null!==(Ye=null!=We?We:ce.$.Promise)&&void 0!==Ye?Ye:Promise}},1413:(Gn,St,k)=>{"use strict";k.d(St,{B:()=>ke});var c=k(1985),p=k(8359);const q=(0,k(1853).L)(ot=>function(){ot(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=k(7908),Pe=k(9786);let ke=(()=>{class ot extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const We=new Re(this,this);return We.operator=me,We}_throwIfClosed(){if(this.closed)throw new q}next(me){(0,Pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const We of this.currentObservers)We.next(me)}})}error(me){(0,Pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:We}=this;for(;We.length;)We.shift().error(me)}})}complete(){(0,Pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:We,isStopped:Ye,observers:He}=this;return We||Ye?p.Kn:(this.currentObservers=null,He.push(me),new p.yU(()=>{this.currentObservers=null,(0,ce.o)(He,me)}))}_checkFinalizedStatuses(me){const{hasError:We,thrownError:Ye,isStopped:He}=this;We?me.error(Ye):He&&me.complete()}asObservable(){const me=new c.c;return me.source=this,me}}return ot.create=(Ve,me)=>new Re(Ve,me),ot})();class Re extends ke{constructor(Ve,me){super(),this.destination=Ve,this.source=me}next(Ve){var me,We;null===(We=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===We||We.call(me,Ve)}error(Ve){var me,We;null===(We=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===We||We.call(me,Ve)}complete(){var Ve,me;null===(me=null===(Ve=this.destination)||void 0===Ve?void 0:Ve.complete)||void 0===me||me.call(Ve)}_subscribe(Ve){var me,We;return null!==(We=null===(me=this.source)||void 0===me?void 0:me.subscribe(Ve))&&void 0!==We?We:p.Kn}}},7707:(Gn,St,k)=>{"use strict";k.d(St,{Ms:()=>gt,vU:()=>We});var c=k(8071),p=k(8359),U=k(1026),q=k(5334),ce=k(5343);const Pe=ot("C",void 0,void 0);function ot(Qe,Te,$e){return{kind:Qe,value:Te,error:$e}}var Ve=k(9270),me=k(9786);class We extends p.yU{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,p.Uv)(Te)&&Te.add(this)):this.destination=Tt}static create(Te,$e,ct){return new gt(Te,$e,ct)}next(Te){this.isStopped?Ot(function Re(Qe){return ot("N",Qe,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ot(function ke(Qe){return ot("E",void 0,Qe)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ot(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function He(Qe,Te){return Ye.call(Qe,Te)}class ut{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:$e}=this;if($e.next)try{$e.next(Te)}catch(ct){mt(ct)}}error(Te){const{partialObserver:$e}=this;if($e.error)try{$e.error(Te)}catch(ct){mt(ct)}else mt(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch($e){mt($e)}}}class gt extends We{constructor(Te,$e,ct){let vt;if(super(),(0,c.T)(Te)||!Te)vt={next:null!=Te?Te:void 0,error:null!=$e?$e:void 0,complete:null!=ct?ct:void 0};else{let Ut;this&&U.$.useDeprecatedNextContext?(Ut=Object.create(Te),Ut.unsubscribe=()=>this.unsubscribe(),vt={next:Te.next&&He(Te.next,Ut),error:Te.error&&He(Te.error,Ut),complete:Te.complete&&He(Te.complete,Ut)}):vt=Te}this.destination=new ut(vt)}}function mt(Qe){U.$.useDeprecatedSynchronousErrorHandling?(0,me.l)(Qe):(0,q.m)(Qe)}function Ot(Qe,Te){const{onStoppedNotification:$e}=U.$;$e&&Ve.f.setTimeout(()=>$e(Qe,Te))}const Tt={closed:!0,next:ce.l,error:function ft(Qe){throw Qe},complete:ce.l}},8359:(Gn,St,k)=>{"use strict";k.d(St,{Kn:()=>Pe,yU:()=>ce,Uv:()=>ke});var c=k(8071);const U=(0,k(1853).L)(ot=>function(me){ot(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((We,Ye)=>`${Ye+1}) ${We.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var q=k(7908);class ce{constructor(Ve){this.initialTeardown=Ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ve;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const He of me)He.remove(this);else me.remove(this);const{initialTeardown:We}=this;if((0,c.T)(We))try{We()}catch(He){Ve=He instanceof U?He.errors:[He]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const He of Ye)try{Re(He)}catch(ut){Ve=null!=Ve?Ve:[],ut instanceof U?Ve=[...Ve,...ut.errors]:Ve.push(ut)}}if(Ve)throw new U(Ve)}}add(Ve){var me;if(Ve&&Ve!==this)if(this.closed)Re(Ve);else{if(Ve instanceof ce){if(Ve.closed||Ve._hasParent(this))return;Ve._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(Ve)}}_hasParent(Ve){const{_parentage:me}=this;return me===Ve||Array.isArray(me)&&me.includes(Ve)}_addParent(Ve){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(Ve),me):me?[me,Ve]:Ve}_removeParent(Ve){const{_parentage:me}=this;me===Ve?this._parentage=null:Array.isArray(me)&&(0,q.o)(me,Ve)}remove(Ve){const{_finalizers:me}=this;me&&(0,q.o)(me,Ve),Ve instanceof ce&&Ve._removeParent(this)}}ce.EMPTY=(()=>{const ot=new ce;return ot.closed=!0,ot})();const Pe=ce.EMPTY;function ke(ot){return ot instanceof ce||ot&&"closed"in ot&&(0,c.T)(ot.remove)&&(0,c.T)(ot.add)&&(0,c.T)(ot.unsubscribe)}function Re(ot){(0,c.T)(ot)?ot():ot.unsubscribe()}},1026:(Gn,St,k)=>{"use strict";k.d(St,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Gn,St,k)=>{"use strict";k.d(St,{z:()=>Ve});var c=k(1985),p=k(3073),U=k(8455),q=k(3669),ce=k(6450),Pe=k(3794),ke=k(8496),Re=k(4360),ot=k(5225);function Ve(...Ye){const He=(0,Pe.lI)(Ye),ut=(0,Pe.ms)(Ye),{args:gt,keys:mt}=(0,p.D)(Ye);if(0===gt.length)return(0,U.H)([],He);const ft=new c.c(function me(Ye,He,ut=q.D){return gt=>{We(He,()=>{const{length:mt}=Ye,ft=new Array(mt);let Ot=mt,Tt=mt;for(let Qe=0;Qe<mt;Qe++)We(He,()=>{const Te=(0,U.H)(Ye[Qe],He);let $e=!1;Te.subscribe((0,Re._)(gt,ct=>{ft[Qe]=ct,$e||($e=!0,Tt--),Tt||gt.next(ut(ft.slice()))},()=>{--Ot||gt.complete()}))},gt)},gt)}}(gt,He,mt?Ot=>(0,ke.e)(mt,Ot):q.D));return ut?ft.pipe((0,ce.I)(ut)):ft}function We(Ye,He,ut){Ye?(0,ot.N)(ut,Ye,He):He()}},8793:(Gn,St,k)=>{"use strict";k.d(St,{x:()=>ce});var c=k(6365),U=k(3794),q=k(8455);function ce(...Pe){return function p(){return(0,c.U)(1)}()((0,q.H)(Pe,(0,U.lI)(Pe)))}},983:(Gn,St,k)=>{"use strict";k.d(St,{w:()=>p});const p=new(k(1985).c)(ce=>ce.complete())},8455:(Gn,St,k)=>{"use strict";k.d(St,{H:()=>Te});var c=k(8750),p=k(941),U=k(6745),Pe=k(1985),Re=k(4761),ot=k(8071),Ve=k(5225);function We($e,ct){if(!$e)throw new Error("Iterable cannot be null");return new Pe.c(vt=>{(0,Ve.N)(vt,ct,()=>{const Ut=$e[Symbol.asyncIterator]();(0,Ve.N)(vt,ct,()=>{Ut.next().then(ae=>{ae.done?vt.complete():vt.next(ae.value)})},0,!0)})})}var Ye=k(5055),He=k(9858),ut=k(7441),gt=k(5397),mt=k(7953),ft=k(591),Ot=k(5196);function Te($e,ct){return ct?function Qe($e,ct){if(null!=$e){if((0,Ye.l)($e))return function q($e,ct){return(0,c.Tg)($e).pipe((0,U._)(ct),(0,p.Q)(ct))}($e,ct);if((0,ut.X)($e))return function ke($e,ct){return new Pe.c(vt=>{let Ut=0;return ct.schedule(function(){Ut===$e.length?vt.complete():(vt.next($e[Ut++]),vt.closed||this.schedule())})})}($e,ct);if((0,He.y)($e))return function ce($e,ct){return(0,c.Tg)($e).pipe((0,U._)(ct),(0,p.Q)(ct))}($e,ct);if((0,mt.T)($e))return We($e,ct);if((0,gt.x)($e))return function me($e,ct){return new Pe.c(vt=>{let Ut;return(0,Ve.N)(vt,ct,()=>{Ut=$e[Re.l](),(0,Ve.N)(vt,ct,()=>{let ae,Et;try{({value:ae,done:Et}=Ut.next())}catch(Xt){return void vt.error(Xt)}Et?vt.complete():vt.next(ae)},0,!0)}),()=>(0,ot.T)(null==Ut?void 0:Ut.return)&&Ut.return()})}($e,ct);if((0,Ot.U)($e))return function Tt($e,ct){return We((0,Ot.C)($e),ct)}($e,ct)}throw(0,ft.L)($e)}($e,ct):(0,c.Tg)($e)}},3726:(Gn,St,k)=>{"use strict";k.d(St,{R:()=>Ve});var c=k(8750),p=k(1985),U=k(1397),q=k(7441),ce=k(8071),Pe=k(6450);const ke=["addListener","removeListener"],Re=["addEventListener","removeEventListener"],ot=["on","off"];function Ve(ut,gt,mt,ft){if((0,ce.T)(mt)&&(ft=mt,mt=void 0),ft)return Ve(ut,gt,mt).pipe((0,Pe.I)(ft));const[Ot,Tt]=function He(ut){return(0,ce.T)(ut.addEventListener)&&(0,ce.T)(ut.removeEventListener)}(ut)?Re.map(Qe=>Te=>ut[Qe](gt,Te,mt)):function We(ut){return(0,ce.T)(ut.addListener)&&(0,ce.T)(ut.removeListener)}(ut)?ke.map(me(ut,gt)):function Ye(ut){return(0,ce.T)(ut.on)&&(0,ce.T)(ut.off)}(ut)?ot.map(me(ut,gt)):[];if(!Ot&&(0,q.X)(ut))return(0,U.Z)(Qe=>Ve(Qe,gt,mt))((0,c.Tg)(ut));if(!Ot)throw new TypeError("Invalid event target");return new p.c(Qe=>{const Te=(...$e)=>Qe.next(1<$e.length?$e:$e[0]);return Ot(Te),()=>Tt(Te)})}function me(ut,gt){return mt=>ft=>ut[mt](gt,ft)}},8750:(Gn,St,k)=>{"use strict";k.d(St,{Tg:()=>Ye});var c=k(1635),p=k(7441),U=k(9858),q=k(1985),ce=k(5055),Pe=k(7953),ke=k(591),Re=k(5397),ot=k(5196),Ve=k(8071),me=k(5334),We=k(3494);function Ye(Qe){if(Qe instanceof q.c)return Qe;if(null!=Qe){if((0,ce.l)(Qe))return function He(Qe){return new q.c(Te=>{const $e=Qe[We.s]();if((0,Ve.T)($e.subscribe))return $e.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,p.X)(Qe))return function ut(Qe){return new q.c(Te=>{for(let $e=0;$e<Qe.length&&!Te.closed;$e++)Te.next(Qe[$e]);Te.complete()})}(Qe);if((0,U.y)(Qe))return function gt(Qe){return new q.c(Te=>{Qe.then($e=>{Te.closed||(Te.next($e),Te.complete())},$e=>Te.error($e)).then(null,me.m)})}(Qe);if((0,Pe.T)(Qe))return ft(Qe);if((0,Re.x)(Qe))return function mt(Qe){return new q.c(Te=>{for(const $e of Qe)if(Te.next($e),Te.closed)return;Te.complete()})}(Qe);if((0,ot.U)(Qe))return function Ot(Qe){return ft((0,ot.C)(Qe))}(Qe)}throw(0,ke.L)(Qe)}function ft(Qe){return new q.c(Te=>{(function Tt(Qe,Te){var $e,ct,vt,Ut;return(0,c.sH)(this,void 0,void 0,function*(){try{for($e=(0,c.xN)(Qe);!(ct=yield $e.next()).done;)if(Te.next(ct.value),Te.closed)return}catch(ae){vt={error:ae}}finally{try{ct&&!ct.done&&(Ut=$e.return)&&(yield Ut.call($e))}finally{if(vt)throw vt.error}}Te.complete()})})(Qe,Te).catch($e=>Te.error($e))})}},7786:(Gn,St,k)=>{"use strict";k.d(St,{h:()=>Pe});var c=k(6365),p=k(8750),U=k(983),q=k(3794),ce=k(8455);function Pe(...ke){const Re=(0,q.lI)(ke),ot=(0,q.R0)(ke,1/0),Ve=ke;return Ve.length?1===Ve.length?(0,p.Tg)(Ve[0]):(0,c.U)(ot)((0,ce.H)(Ve,Re)):U.w}},7673:(Gn,St,k)=>{"use strict";k.d(St,{of:()=>U});var c=k(3794),p=k(8455);function U(...q){const ce=(0,c.lI)(q);return(0,p.H)(q,ce)}},4360:(Gn,St,k)=>{"use strict";k.d(St,{_:()=>p});var c=k(7707);function p(q,ce,Pe,ke,Re){return new U(q,ce,Pe,ke,Re)}class U extends c.vU{constructor(ce,Pe,ke,Re,ot,Ve){super(ce),this.onFinalize=ot,this.shouldUnsubscribe=Ve,this._next=Pe?function(me){try{Pe(me)}catch(We){ce.error(We)}}:super._next,this._error=Re?function(me){try{Re(me)}catch(We){ce.error(We)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(me){ce.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},274:(Gn,St,k)=>{"use strict";k.d(St,{H:()=>U});var c=k(1397),p=k(8071);function U(q,ce){return(0,p.T)(ce)?(0,c.Z)(q,ce,1):(0,c.Z)(q,1)}},9901:(Gn,St,k)=>{"use strict";k.d(St,{U:()=>U});var c=k(9974),p=k(4360);function U(q){return(0,c.N)((ce,Pe)=>{let ke=!1;ce.subscribe((0,p._)(Pe,Re=>{ke=!0,Pe.next(Re)},()=>{ke||Pe.next(q),Pe.complete()}))})}},3294:(Gn,St,k)=>{"use strict";k.d(St,{F:()=>q});var c=k(3669),p=k(9974),U=k(4360);function q(Pe,ke=c.D){return Pe=null!=Pe?Pe:ce,(0,p.N)((Re,ot)=>{let Ve,me=!0;Re.subscribe((0,U._)(ot,We=>{const Ye=ke(We);(me||!Pe(Ve,Ye))&&(me=!1,Ve=Ye,ot.next(We))}))})}function ce(Pe,ke){return Pe===ke}},5964:(Gn,St,k)=>{"use strict";k.d(St,{p:()=>U});var c=k(9974),p=k(4360);function U(q,ce){return(0,c.N)((Pe,ke)=>{let Re=0;Pe.subscribe((0,p._)(ke,ot=>q.call(ce,ot,Re++)&&ke.next(ot)))})}},980:(Gn,St,k)=>{"use strict";k.d(St,{j:()=>p});var c=k(9974);function p(U){return(0,c.N)((q,ce)=>{try{q.subscribe(ce)}finally{ce.add(U)}})}},1594:(Gn,St,k)=>{"use strict";k.d(St,{$:()=>ke});var c=k(9350),p=k(5964),U=k(6697),q=k(9901),ce=k(3774),Pe=k(3669);function ke(Re,ot){const Ve=arguments.length>=2;return me=>me.pipe(Re?(0,p.p)((We,Ye)=>Re(We,Ye,me)):Pe.D,(0,U.s)(1),Ve?(0,q.U)(ot):(0,ce.v)(()=>new c.G))}},6354:(Gn,St,k)=>{"use strict";k.d(St,{T:()=>U});var c=k(9974),p=k(4360);function U(q,ce){return(0,c.N)((Pe,ke)=>{let Re=0;Pe.subscribe((0,p._)(ke,ot=>{ke.next(q.call(ce,ot,Re++))}))})}},6365:(Gn,St,k)=>{"use strict";k.d(St,{U:()=>U});var c=k(1397),p=k(3669);function U(q=1/0){return(0,c.Z)(p.D,q)}},1397:(Gn,St,k)=>{"use strict";k.d(St,{Z:()=>Re});var c=k(6354),p=k(8750),U=k(9974),q=k(5225),ce=k(4360),ke=k(8071);function Re(ot,Ve,me=1/0){return(0,ke.T)(Ve)?Re((We,Ye)=>(0,c.T)((He,ut)=>Ve(We,He,Ye,ut))((0,p.Tg)(ot(We,Ye))),me):("number"==typeof Ve&&(me=Ve),(0,U.N)((We,Ye)=>function Pe(ot,Ve,me,We,Ye,He,ut,gt){const mt=[];let ft=0,Ot=0,Tt=!1;const Qe=()=>{Tt&&!mt.length&&!ft&&Ve.complete()},Te=ct=>ft<We?$e(ct):mt.push(ct),$e=ct=>{He&&Ve.next(ct),ft++;let vt=!1;(0,p.Tg)(me(ct,Ot++)).subscribe((0,ce._)(Ve,Ut=>{null==Ye||Ye(Ut),He?Te(Ut):Ve.next(Ut)},()=>{vt=!0},void 0,()=>{if(vt)try{for(ft--;mt.length&&ft<We;){const Ut=mt.shift();ut?(0,q.N)(Ve,ut,()=>$e(Ut)):$e(Ut)}Qe()}catch(Ut){Ve.error(Ut)}}))};return ot.subscribe((0,ce._)(Ve,Te,()=>{Tt=!0,Qe()})),()=>{null==gt||gt()}}(We,Ye,ot,me)))}},941:(Gn,St,k)=>{"use strict";k.d(St,{Q:()=>q});var c=k(5225),p=k(9974),U=k(4360);function q(ce,Pe=0){return(0,p.N)((ke,Re)=>{ke.subscribe((0,U._)(Re,ot=>(0,c.N)(Re,ce,()=>Re.next(ot),Pe),()=>(0,c.N)(Re,ce,()=>Re.complete(),Pe),ot=>(0,c.N)(Re,ce,()=>Re.error(ot),Pe)))})}},2816:(Gn,St,k)=>{"use strict";k.d(St,{S:()=>q});var c=k(9974),p=k(4360);function q(ce,Pe){return(0,c.N)(function U(ce,Pe,ke,Re,ot){return(Ve,me)=>{let We=ke,Ye=Pe,He=0;Ve.subscribe((0,p._)(me,ut=>{const gt=He++;Ye=We?ce(Ye,ut,gt):(We=!0,ut),Re&&me.next(Ye)},ot&&(()=>{We&&me.next(Ye),me.complete()})))}}(ce,Pe,arguments.length>=2,!0))}},7647:(Gn,St,k)=>{"use strict";k.d(St,{u:()=>ce});var c=k(8750),p=k(1413),U=k(7707),q=k(9974);function ce(ke={}){const{connector:Re=()=>new p.B,resetOnError:ot=!0,resetOnComplete:Ve=!0,resetOnRefCountZero:me=!0}=ke;return We=>{let Ye,He,ut,gt=0,mt=!1,ft=!1;const Ot=()=>{null==He||He.unsubscribe(),He=void 0},Tt=()=>{Ot(),Ye=ut=void 0,mt=ft=!1},Qe=()=>{const Te=Ye;Tt(),null==Te||Te.unsubscribe()};return(0,q.N)((Te,$e)=>{gt++,!ft&&!mt&&Ot();const ct=ut=null!=ut?ut:Re();$e.add(()=>{gt--,0===gt&&!ft&&!mt&&(He=Pe(Qe,me))}),ct.subscribe($e),!Ye&&gt>0&&(Ye=new U.Ms({next:vt=>ct.next(vt),error:vt=>{ft=!0,Ot(),He=Pe(Tt,ot,vt),ct.error(vt)},complete:()=>{mt=!0,Ot(),He=Pe(Tt,Ve),ct.complete()}}),(0,c.Tg)(Te).subscribe(Ye))})(We)}}function Pe(ke,Re,...ot){if(!0===Re)return void ke();if(!1===Re)return;const Ve=new U.Ms({next:()=>{Ve.unsubscribe(),ke()}});return(0,c.Tg)(Re(...ot)).subscribe(Ve)}},9172:(Gn,St,k)=>{"use strict";k.d(St,{Z:()=>q});var c=k(8793),p=k(3794),U=k(9974);function q(...ce){const Pe=(0,p.lI)(ce);return(0,U.N)((ke,Re)=>{(Pe?(0,c.x)(ce,ke,Pe):(0,c.x)(ce,ke)).subscribe(Re)})}},6745:(Gn,St,k)=>{"use strict";k.d(St,{_:()=>p});var c=k(9974);function p(U,q=0){return(0,c.N)((ce,Pe)=>{Pe.add(U.schedule(()=>ce.subscribe(Pe),q))})}},5558:(Gn,St,k)=>{"use strict";k.d(St,{n:()=>q});var c=k(8750),p=k(9974),U=k(4360);function q(ce,Pe){return(0,p.N)((ke,Re)=>{let ot=null,Ve=0,me=!1;const We=()=>me&&!ot&&Re.complete();ke.subscribe((0,U._)(Re,Ye=>{null==ot||ot.unsubscribe();let He=0;const ut=Ve++;(0,c.Tg)(ce(Ye,ut)).subscribe(ot=(0,U._)(Re,gt=>Re.next(Pe?Pe(Ye,gt,ut,He++):gt),()=>{ot=null,We()}))},()=>{me=!0,We()}))})}},6697:(Gn,St,k)=>{"use strict";k.d(St,{s:()=>q});var c=k(983),p=k(9974),U=k(4360);function q(ce){return ce<=0?()=>c.w:(0,p.N)((Pe,ke)=>{let Re=0;Pe.subscribe((0,U._)(ke,ot=>{++Re<=ce&&(ke.next(ot),ce<=Re&&ke.complete())}))})}},8141:(Gn,St,k)=>{"use strict";k.d(St,{M:()=>ce});var c=k(8071),p=k(9974),U=k(4360),q=k(3669);function ce(Pe,ke,Re){const ot=(0,c.T)(Pe)||ke||Re?{next:Pe,error:ke,complete:Re}:Pe;return ot?(0,p.N)((Ve,me)=>{var We;null===(We=ot.subscribe)||void 0===We||We.call(ot);let Ye=!0;Ve.subscribe((0,U._)(me,He=>{var ut;null===(ut=ot.next)||void 0===ut||ut.call(ot,He),me.next(He)},()=>{var He;Ye=!1,null===(He=ot.complete)||void 0===He||He.call(ot),me.complete()},He=>{var ut;Ye=!1,null===(ut=ot.error)||void 0===ut||ut.call(ot,He),me.error(He)},()=>{var He,ut;Ye&&(null===(He=ot.unsubscribe)||void 0===He||He.call(ot)),null===(ut=ot.finalize)||void 0===ut||ut.call(ot)}))}):q.D}},3774:(Gn,St,k)=>{"use strict";k.d(St,{v:()=>q});var c=k(9350),p=k(9974),U=k(4360);function q(Pe=ce){return(0,p.N)((ke,Re)=>{let ot=!1;ke.subscribe((0,U._)(Re,Ve=>{ot=!0,Re.next(Ve)},()=>ot?Re.complete():Re.error(Pe())))})}function ce(){return new c.G}},6780:(Gn,St,k)=>{"use strict";k.d(St,{R:()=>ce});var c=k(8359);class p extends c.yU{constructor(ke,Re){super()}schedule(ke,Re=0){return this}}const U={setInterval(Pe,ke,...Re){const{delegate:ot}=U;return null!=ot&&ot.setInterval?ot.setInterval(Pe,ke,...Re):setInterval(Pe,ke,...Re)},clearInterval(Pe){const{delegate:ke}=U;return((null==ke?void 0:ke.clearInterval)||clearInterval)(Pe)},delegate:void 0};var q=k(7908);class ce extends p{constructor(ke,Re){super(ke,Re),this.scheduler=ke,this.work=Re,this.pending=!1}schedule(ke,Re=0){var ot;if(this.closed)return this;this.state=ke;const Ve=this.id,me=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(me,Ve,Re)),this.pending=!0,this.delay=Re,this.id=null!==(ot=this.id)&&void 0!==ot?ot:this.requestAsyncId(me,this.id,Re),this}requestAsyncId(ke,Re,ot=0){return U.setInterval(ke.flush.bind(ke,this),ot)}recycleAsyncId(ke,Re,ot=0){if(null!=ot&&this.delay===ot&&!1===this.pending)return Re;null!=Re&&U.clearInterval(Re)}execute(ke,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ot=this._execute(ke,Re);if(ot)return ot;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,Re){let Ve,ot=!1;try{this.work(ke)}catch(me){ot=!0,Ve=me||new Error("Scheduled action threw falsy error")}if(ot)return this.unsubscribe(),Ve}unsubscribe(){if(!this.closed){const{id:ke,scheduler:Re}=this,{actions:ot}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,q.o)(ot,this),null!=ke&&(this.id=this.recycleAsyncId(Re,ke,null)),this.delay=null,super.unsubscribe()}}}},9687:(Gn,St,k)=>{"use strict";k.d(St,{q:()=>U});var c=k(6129);class p{constructor(ce,Pe=p.now){this.schedulerActionCtor=ce,this.now=Pe}schedule(ce,Pe=0,ke){return new this.schedulerActionCtor(this,ce).schedule(ke,Pe)}}p.now=c.U.now;class U extends p{constructor(ce,Pe=p.now){super(ce,Pe),this.actions=[],this._active=!1}flush(ce){const{actions:Pe}=this;if(this._active)return void Pe.push(ce);let ke;this._active=!0;do{if(ke=ce.execute(ce.state,ce.delay))break}while(ce=Pe.shift());if(this._active=!1,ke){for(;ce=Pe.shift();)ce.unsubscribe();throw ke}}}},3236:(Gn,St,k)=>{"use strict";k.d(St,{E:()=>U});var c=k(6780);const U=new(k(9687).q)(c.R)},6129:(Gn,St,k)=>{"use strict";k.d(St,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(Gn,St,k)=>{"use strict";k.d(St,{f:()=>c});const c={setTimeout(p,U,...q){const{delegate:ce}=c;return null!=ce&&ce.setTimeout?ce.setTimeout(p,U,...q):setTimeout(p,U,...q)},clearTimeout(p){const{delegate:U}=c;return((null==U?void 0:U.clearTimeout)||clearTimeout)(p)},delegate:void 0}},4761:(Gn,St,k)=>{"use strict";k.d(St,{l:()=>p});const p=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Gn,St,k)=>{"use strict";k.d(St,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Gn,St,k)=>{"use strict";k.d(St,{G:()=>p});const p=(0,k(1853).L)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Gn,St,k)=>{"use strict";k.d(St,{R0:()=>Pe,ms:()=>q,lI:()=>ce});var c=k(8071);function U(ke){return ke[ke.length-1]}function q(ke){return(0,c.T)(U(ke))?ke.pop():void 0}function ce(ke){return function p(ke){return ke&&(0,c.T)(ke.schedule)}(U(ke))?ke.pop():void 0}function Pe(ke,Re){return"number"==typeof U(ke)?ke.pop():Re}},3073:(Gn,St,k)=>{"use strict";k.d(St,{D:()=>ce});const{isArray:c}=Array,{getPrototypeOf:p,prototype:U,keys:q}=Object;function ce(ke){if(1===ke.length){const Re=ke[0];if(c(Re))return{args:Re,keys:null};if(function Pe(ke){return ke&&"object"==typeof ke&&p(ke)===U}(Re)){const ot=q(Re);return{args:ot.map(Ve=>Re[Ve]),keys:ot}}}return{args:ke,keys:null}}},7908:(Gn,St,k)=>{"use strict";function c(p,U){if(p){const q=p.indexOf(U);0<=q&&p.splice(q,1)}}k.d(St,{o:()=>c})},1853:(Gn,St,k)=>{"use strict";function c(p){const q=p(ce=>{Error.call(ce),ce.stack=(new Error).stack});return q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q}k.d(St,{L:()=>c})},8496:(Gn,St,k)=>{"use strict";function c(p,U){return p.reduce((q,ce,Pe)=>(q[ce]=U[Pe],q),{})}k.d(St,{e:()=>c})},9786:(Gn,St,k)=>{"use strict";k.d(St,{Y:()=>U,l:()=>q});var c=k(1026);let p=null;function U(ce){if(c.$.useDeprecatedSynchronousErrorHandling){const Pe=!p;if(Pe&&(p={errorThrown:!1,error:null}),ce(),Pe){const{errorThrown:ke,error:Re}=p;if(p=null,ke)throw Re}}else ce()}function q(ce){c.$.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=ce)}},5225:(Gn,St,k)=>{"use strict";function c(p,U,q,ce=0,Pe=!1){const ke=U.schedule(function(){q(),Pe?p.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(p.add(ke),!Pe)return ke}k.d(St,{N:()=>c})},3669:(Gn,St,k)=>{"use strict";function c(p){return p}k.d(St,{D:()=>c})},7441:(Gn,St,k)=>{"use strict";k.d(St,{X:()=>c});const c=p=>p&&"number"==typeof p.length&&"function"!=typeof p},7953:(Gn,St,k)=>{"use strict";k.d(St,{T:()=>p});var c=k(8071);function p(U){return Symbol.asyncIterator&&(0,c.T)(null==U?void 0:U[Symbol.asyncIterator])}},8071:(Gn,St,k)=>{"use strict";function c(p){return"function"==typeof p}k.d(St,{T:()=>c})},5055:(Gn,St,k)=>{"use strict";k.d(St,{l:()=>U});var c=k(3494),p=k(8071);function U(q){return(0,p.T)(q[c.s])}},5397:(Gn,St,k)=>{"use strict";k.d(St,{x:()=>U});var c=k(4761),p=k(8071);function U(q){return(0,p.T)(null==q?void 0:q[c.l])}},9858:(Gn,St,k)=>{"use strict";k.d(St,{y:()=>p});var c=k(8071);function p(U){return(0,c.T)(null==U?void 0:U.then)}},5196:(Gn,St,k)=>{"use strict";k.d(St,{C:()=>U,U:()=>q});var c=k(1635),p=k(8071);function U(ce){return(0,c.AQ)(this,arguments,function*(){const ke=ce.getReader();try{for(;;){const{value:Re,done:ot}=yield(0,c.N3)(ke.read());if(ot)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Re)}}finally{ke.releaseLock()}})}function q(ce){return(0,p.T)(null==ce?void 0:ce.getReader)}},9974:(Gn,St,k)=>{"use strict";k.d(St,{N:()=>U,S:()=>p});var c=k(8071);function p(q){return(0,c.T)(null==q?void 0:q.lift)}function U(q){return ce=>{if(p(ce))return ce.lift(function(Pe){try{return q(Pe,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Gn,St,k)=>{"use strict";k.d(St,{I:()=>q});var c=k(6354);const{isArray:p}=Array;function q(ce){return(0,c.T)(Pe=>function U(ce,Pe){return p(Pe)?ce(...Pe):ce(Pe)}(ce,Pe))}},5343:(Gn,St,k)=>{"use strict";function c(){}k.d(St,{l:()=>c})},1203:(Gn,St,k)=>{"use strict";k.d(St,{F:()=>p,m:()=>U});var c=k(3669);function p(...q){return U(q)}function U(q){return 0===q.length?c.D:1===q.length?q[0]:function(Pe){return q.reduce((ke,Re)=>Re(ke),Pe)}}},5334:(Gn,St,k)=>{"use strict";k.d(St,{m:()=>U});var c=k(1026),p=k(9270);function U(q){p.f.setTimeout(()=>{const{onUnhandledError:ce}=c.$;if(!ce)throw q;ce(q)})}},591:(Gn,St,k)=>{"use strict";function c(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(St,{L:()=>c})},8996:(Gn,St,k)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function p(U){if(!k.o(c,U))return Promise.resolve().then(()=>{var Pe=new Error("Cannot find module '"+U+"'");throw Pe.code="MODULE_NOT_FOUND",Pe});var q=c[U],ce=q[0];return Promise.all(q.slice(1).map(k.e)).then(()=>k(ce))}p.keys=()=>Object.keys(c),p.id=8996,Gn.exports=p},5235:(Gn,St,k)=>{var c={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function p(U){if(!k.o(c,U))return Promise.resolve().then(()=>{var Pe=new Error("Cannot find module '"+U+"'");throw Pe.code="MODULE_NOT_FOUND",Pe});var q=c[U],ce=q[0];return k.e(q[1]).then(()=>k(ce))}p.keys=()=>Object.keys(c),p.id=5235,Gn.exports=p},177:(Gn,St,k)=>{"use strict";k.d(St,{AJ:()=>En,MD:()=>wt,N0:()=>Or,QT:()=>U,Sm:()=>gt,Sq:()=>bt,T3:()=>nr,VF:()=>ce,Vy:()=>Nn,Xr:()=>sr,ZD:()=>q,_b:()=>ge,aZ:()=>ft,bT:()=>ve,fw:()=>mt,hb:()=>He,hj:()=>ot,qQ:()=>ke});var c=k(3953);let p=null;function U(){return p}function q(w){var Q;null!==(Q=p)&&void 0!==Q||(p=w)}class ce{}const ke=new c.nKC("");let Re=(()=>{var w;class Q{historyGo(G){throw new Error("")}}return(w=Q).\u0275fac=function(G){return new(G||w)},w.\u0275prov=c.jDH({token:w,factory:()=>(0,c.WQX)(Ve),providedIn:"platform"}),Q})();const ot=new c.nKC("");let Ve=(()=>{var w;class Q extends Re{constructor(){super(),this._doc=(0,c.WQX)(ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(G){const Me=U().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("popstate",G,!1),()=>Me.removeEventListener("popstate",G)}onHashChange(G){const Me=U().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("hashchange",G,!1),()=>Me.removeEventListener("hashchange",G)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(G){this._location.pathname=G}pushState(G,Me,rt){this._history.pushState(G,Me,rt)}replaceState(G,Me,rt){this._history.replaceState(G,Me,rt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return(w=Q).\u0275fac=function(G){return new(G||w)},w.\u0275prov=c.jDH({token:w,factory:()=>new w,providedIn:"platform"}),Q})();function me(w,Q){if(0==w.length)return Q;if(0==Q.length)return w;let qe=0;return w.endsWith("/")&&qe++,Q.startsWith("/")&&qe++,2==qe?w+Q.substring(1):1==qe?w+Q:w+"/"+Q}function We(w){const Q=w.match(/#|\?|$/),qe=Q&&Q.index||w.length;return w.slice(0,qe-("/"===w[qe-1]?1:0))+w.slice(qe)}function Ye(w){return w&&"?"!==w[0]?"?"+w:w}let He=(()=>{var w;class Q{historyGo(G){throw new Error("")}}return(w=Q).\u0275fac=function(G){return new(G||w)},w.\u0275prov=c.jDH({token:w,factory:()=>(0,c.WQX)(gt),providedIn:"root"}),Q})();const ut=new c.nKC("");let gt=(()=>{var w;class Q extends He{constructor(G,Me){var rt,Jt,qn;super(),this._platformLocation=G,this._removeListenerFns=[],this._baseHref=null!==(rt=null!==(Jt=null!=Me?Me:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Jt?Jt:null===(qn=(0,c.WQX)(ke).location)||void 0===qn?void 0:qn.origin)&&void 0!==rt?rt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return me(this._baseHref,G)}path(G=!1){const Me=this._platformLocation.pathname+Ye(this._platformLocation.search),rt=this._platformLocation.hash;return rt&&G?`${Me}${rt}`:Me}pushState(G,Me,rt,Jt){const qn=this.prepareExternalUrl(rt+Ye(Jt));this._platformLocation.pushState(G,Me,qn)}replaceState(G,Me,rt,Jt){const qn=this.prepareExternalUrl(rt+Ye(Jt));this._platformLocation.replaceState(G,Me,qn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){var Me,rt;null===(Me=(rt=this._platformLocation).historyGo)||void 0===Me||Me.call(rt,G)}}return(w=Q).\u0275fac=function(G){return new(G||w)(c.KVO(Re),c.KVO(ut,8))},w.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"}),Q})(),mt=(()=>{var w;class Q extends He{constructor(G,Me){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=Me&&(this._baseHref=Me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){var Me;const rt=null!==(Me=this._platformLocation.hash)&&void 0!==Me?Me:"#";return rt.length>0?rt.substring(1):rt}prepareExternalUrl(G){const Me=me(this._baseHref,G);return Me.length>0?"#"+Me:Me}pushState(G,Me,rt,Jt){let qn=this.prepareExternalUrl(rt+Ye(Jt));0==qn.length&&(qn=this._platformLocation.pathname),this._platformLocation.pushState(G,Me,qn)}replaceState(G,Me,rt,Jt){let qn=this.prepareExternalUrl(rt+Ye(Jt));0==qn.length&&(qn=this._platformLocation.pathname),this._platformLocation.replaceState(G,Me,qn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){var Me,rt;null===(Me=(rt=this._platformLocation).historyGo)||void 0===Me||Me.call(rt,G)}}return(w=Q).\u0275fac=function(G){return new(G||w)(c.KVO(Re),c.KVO(ut,8))},w.\u0275prov=c.jDH({token:w,factory:w.\u0275fac}),Q})(),ft=(()=>{var w;class Q{constructor(G){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=G;const Me=this._locationStrategy.getBaseHref();this._basePath=function Te(w){if(new RegExp("^(https?:)?//").test(w)){const[,qe]=w.split(/\/\/[^\/]+/);return qe}return w}(We(Qe(Me))),this._locationStrategy.onPopState(rt=>{this._subject.emit({url:this.path(!0),pop:!0,state:rt.state,type:rt.type})})}ngOnDestroy(){var G;null===(G=this._urlChangeSubscription)||void 0===G||G.unsubscribe(),this._urlChangeListeners=[]}path(G=!1){return this.normalize(this._locationStrategy.path(G))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(G,Me=""){return this.path()==this.normalize(G+Ye(Me))}normalize(G){return Q.stripTrailingSlash(function Tt(w,Q){if(!w||!Q.startsWith(w))return Q;const qe=Q.substring(w.length);return""===qe||["/",";","?","#"].includes(qe[0])?qe:Q}(this._basePath,Qe(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._locationStrategy.prepareExternalUrl(G)}go(G,Me="",rt=null){this._locationStrategy.pushState(rt,"",G,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Ye(Me)),rt)}replaceState(G,Me="",rt=null){this._locationStrategy.replaceState(rt,"",G,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Ye(Me)),rt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(G=0){var Me,rt;null===(Me=(rt=this._locationStrategy).historyGo)||void 0===Me||Me.call(rt,G)}onUrlChange(G){var Me;return this._urlChangeListeners.push(G),null!==(Me=this._urlChangeSubscription)&&void 0!==Me||(this._urlChangeSubscription=this.subscribe(rt=>{this._notifyUrlChangeListeners(rt.url,rt.state)})),()=>{const rt=this._urlChangeListeners.indexOf(G);var Jt;this._urlChangeListeners.splice(rt,1),0===this._urlChangeListeners.length&&(null===(Jt=this._urlChangeSubscription)||void 0===Jt||Jt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(G="",Me){this._urlChangeListeners.forEach(rt=>rt(G,Me))}subscribe(G,Me,rt){return this._subject.subscribe({next:G,error:Me,complete:rt})}}return(w=Q).normalizeQueryParams=Ye,w.joinWithSlash=me,w.stripTrailingSlash=We,w.\u0275fac=function(G){return new(G||w)(c.KVO(He))},w.\u0275prov=c.jDH({token:w,factory:()=>function Ot(){return new ft((0,c.KVO)(He))}(),providedIn:"root"}),Q})();function Qe(w){return w.replace(/\/index.html$/,"")}function ge(w,Q){Q=encodeURIComponent(Q);for(const qe of w.split(";")){const G=qe.indexOf("="),[Me,rt]=-1==G?[qe,""]:[qe.slice(0,G),qe.slice(G+1)];if(Me.trim()===Q)return decodeURIComponent(rt)}return null}class je{constructor(Q,qe,G,Me){this.$implicit=Q,this.ngForOf=qe,this.index=G,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bt=(()=>{var w;class Q{set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}constructor(G,Me,rt){this._viewContainer=G,this._template=Me,this._differs=rt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;!this._differ&&G&&(this._differ=this._differs.find(G).create(this.ngForTrackBy))}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const Me=this._viewContainer;G.forEachOperation((rt,Jt,qn)=>{if(null==rt.previousIndex)Me.createEmbeddedView(this._template,new je(rt.item,this._ngForOf,-1,-1),null===qn?void 0:qn);else if(null==qn)Me.remove(null===Jt?void 0:Jt);else if(null!==Jt){const Qr=Me.get(Jt);Me.move(Qr,qn),X(Qr,rt)}});for(let rt=0,Jt=Me.length;rt<Jt;rt++){const Qr=Me.get(rt).context;Qr.index=rt,Qr.count=Jt,Qr.ngForOf=this._ngForOf}G.forEachIdentityChange(rt=>{X(Me.get(rt.currentIndex),rt)})}static ngTemplateContextGuard(G,Me){return!0}}return(w=Q).\u0275fac=function(G){return new(G||w)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},w.\u0275dir=c.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Q})();function X(w,Q){w.context.$implicit=Q.item}let ve=(()=>{var w;class Q{constructor(G,Me){this._viewContainer=G,this._context=new Xe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Me}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){at("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){at("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,Me){return!0}}return(w=Q).\u0275fac=function(G){return new(G||w)(c.rXU(c.c1b),c.rXU(c.C4Q))},w.\u0275dir=c.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Q})();class Xe{constructor(){this.$implicit=null,this.ngIf=null}}function at(w,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,c.Tbb)(Q)}'.`)}let nr=(()=>{var w;class Q{constructor(G){this._viewContainerRef=G,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(G){if(this._shouldRecreateView(G)){var Me;const rt=this._viewContainerRef;if(this._viewRef&&rt.remove(rt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Jt=this._createContextForwardProxy();this._viewRef=rt.createEmbeddedView(this.ngTemplateOutlet,Jt,{injector:null!==(Me=this.ngTemplateOutletInjector)&&void 0!==Me?Me:void 0})}}_shouldRecreateView(G){return!!G.ngTemplateOutlet||!!G.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(G,Me,rt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Me,rt),get:(G,Me,rt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Me,rt)}})}}return(w=Q).\u0275fac=function(G){return new(G||w)(c.rXU(c.c1b))},w.\u0275dir=c.FsC({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),Q})(),wt=(()=>{var w;class Q{}return(w=Q).\u0275fac=function(G){return new(G||w)},w.\u0275mod=c.$C({type:w}),w.\u0275inj=c.G2t({}),Q})();const En="browser",On="server";function Nn(w){return w===On}let sr=(()=>{var w;class Q{}return(w=Q).\u0275prov=(0,c.jDH)({token:w,providedIn:"root",factory:()=>function In(w){return w===En}((0,c.WQX)(c.Agw))?new fr((0,c.WQX)(ke),window):new hi}),Q})();class fr{constructor(Q,qe){this.document=Q,this.window=qe,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Q){this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){const qe=function ur(w,Q){const qe=w.getElementById(Q)||w.getElementsByName(Q)[0];if(qe)return qe;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const G=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let Me=G.currentNode;for(;Me;){const rt=Me.shadowRoot;if(rt){const Jt=rt.getElementById(Q)||rt.querySelector(`[name="${Q}"]`);if(Jt)return Jt}Me=G.nextNode()}}return null}(this.document,Q);qe&&(this.scrollToElement(qe),qe.focus())}setHistoryScrollRestoration(Q){this.window.history.scrollRestoration=Q}scrollToElement(Q){const qe=Q.getBoundingClientRect(),G=qe.left+this.window.pageXOffset,Me=qe.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(G-rt[0],Me-rt[1])}}class hi{setOffset(Q){}getScrollPosition(){return[0,0]}scrollToPosition(Q){}scrollToAnchor(Q){}setHistoryScrollRestoration(Q){}}class Or{}},1626:(Gn,St,k)=>{"use strict";k.d(St,{$R:()=>we,Nl:()=>Te,Qq:()=>Ke});var c=k(467),p=k(3953),U=k(7673),q=k(1985),ce=k(8455),Pe=k(274),ke=k(5964),Re=k(6354),ot=k(980),Ve=k(5558),me=k(177);class We{}class Ye{}class He{constructor(je){this.normalizedNames=new Map,this.lazyUpdate=null,je?"string"==typeof je?this.lazyInit=()=>{this.headers=new Map,je.split("\n").forEach(bt=>{const X=bt.indexOf(":");if(X>0){const be=bt.slice(0,X),ve=be.toLowerCase(),Xe=bt.slice(X+1).trim();this.maybeSetNormalizedName(be,ve),this.headers.has(ve)?this.headers.get(ve).push(Xe):this.headers.set(ve,[Xe])}})}:typeof Headers<"u"&&je instanceof Headers?(this.headers=new Map,je.forEach((bt,X)=>{this.setHeaderEntries(X,bt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(je).forEach(([bt,X])=>{this.setHeaderEntries(bt,X)})}:this.headers=new Map}has(je){return this.init(),this.headers.has(je.toLowerCase())}get(je){this.init();const bt=this.headers.get(je.toLowerCase());return bt&&bt.length>0?bt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(je){return this.init(),this.headers.get(je.toLowerCase())||null}append(je,bt){return this.clone({name:je,value:bt,op:"a"})}set(je,bt){return this.clone({name:je,value:bt,op:"s"})}delete(je,bt){return this.clone({name:je,value:bt,op:"d"})}maybeSetNormalizedName(je,bt){this.normalizedNames.has(bt)||this.normalizedNames.set(bt,je)}init(){this.lazyInit&&(this.lazyInit instanceof He?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(je=>this.applyUpdate(je)),this.lazyUpdate=null))}copyFrom(je){je.init(),Array.from(je.headers.keys()).forEach(bt=>{this.headers.set(bt,je.headers.get(bt)),this.normalizedNames.set(bt,je.normalizedNames.get(bt))})}clone(je){const bt=new He;return bt.lazyInit=this.lazyInit&&this.lazyInit instanceof He?this.lazyInit:this,bt.lazyUpdate=(this.lazyUpdate||[]).concat([je]),bt}applyUpdate(je){const bt=je.name.toLowerCase();switch(je.op){case"a":case"s":let X=je.value;if("string"==typeof X&&(X=[X]),0===X.length)return;this.maybeSetNormalizedName(je.name,bt);const be=("a"===je.op?this.headers.get(bt):void 0)||[];be.push(...X),this.headers.set(bt,be);break;case"d":const ve=je.value;if(ve){let Xe=this.headers.get(bt);if(!Xe)return;Xe=Xe.filter(at=>-1===ve.indexOf(at)),0===Xe.length?(this.headers.delete(bt),this.normalizedNames.delete(bt)):this.headers.set(bt,Xe)}else this.headers.delete(bt),this.normalizedNames.delete(bt)}}setHeaderEntries(je,bt){const X=(Array.isArray(bt)?bt:[bt]).map(ve=>ve.toString()),be=je.toLowerCase();this.headers.set(be,X),this.maybeSetNormalizedName(je,be)}forEach(je){this.init(),Array.from(this.normalizedNames.keys()).forEach(bt=>je(this.normalizedNames.get(bt),this.headers.get(bt)))}}class gt{encodeKey(je){return Tt(je)}encodeValue(je){return Tt(je)}decodeKey(je){return decodeURIComponent(je)}decodeValue(je){return decodeURIComponent(je)}}const ft=/%(\d[a-f0-9])/gi,Ot={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tt(ye){return encodeURIComponent(ye).replace(ft,(je,bt)=>{var X;return null!==(X=Ot[bt])&&void 0!==X?X:je})}function Qe(ye){return`${ye}`}class Te{constructor(je={}){if(this.updates=null,this.cloneFrom=null,this.encoder=je.encoder||new gt,je.fromString){if(je.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mt(ye,je){const bt=new Map;return ye.length>0&&ye.replace(/^\?/,"").split("&").forEach(be=>{const ve=be.indexOf("="),[Xe,at]=-1==ve?[je.decodeKey(be),""]:[je.decodeKey(be.slice(0,ve)),je.decodeValue(be.slice(ve+1))],dt=bt.get(Xe)||[];dt.push(at),bt.set(Xe,dt)}),bt}(je.fromString,this.encoder)}else je.fromObject?(this.map=new Map,Object.keys(je.fromObject).forEach(bt=>{const X=je.fromObject[bt],be=Array.isArray(X)?X.map(Qe):[Qe(X)];this.map.set(bt,be)})):this.map=null}has(je){return this.init(),this.map.has(je)}get(je){this.init();const bt=this.map.get(je);return bt?bt[0]:null}getAll(je){return this.init(),this.map.get(je)||null}keys(){return this.init(),Array.from(this.map.keys())}append(je,bt){return this.clone({param:je,value:bt,op:"a"})}appendAll(je){const bt=[];return Object.keys(je).forEach(X=>{const be=je[X];Array.isArray(be)?be.forEach(ve=>{bt.push({param:X,value:ve,op:"a"})}):bt.push({param:X,value:be,op:"a"})}),this.clone(bt)}set(je,bt){return this.clone({param:je,value:bt,op:"s"})}delete(je,bt){return this.clone({param:je,value:bt,op:"d"})}toString(){return this.init(),this.keys().map(je=>{const bt=this.encoder.encodeKey(je);return this.map.get(je).map(X=>bt+"="+this.encoder.encodeValue(X)).join("&")}).filter(je=>""!==je).join("&")}clone(je){const bt=new Te({encoder:this.encoder});return bt.cloneFrom=this.cloneFrom||this,bt.updates=(this.updates||[]).concat(je),bt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(je=>this.map.set(je,this.cloneFrom.map.get(je))),this.updates.forEach(je=>{switch(je.op){case"a":case"s":const bt=("a"===je.op?this.map.get(je.param):void 0)||[];bt.push(Qe(je.value)),this.map.set(je.param,bt);break;case"d":if(void 0===je.value){this.map.delete(je.param);break}{let X=this.map.get(je.param)||[];const be=X.indexOf(Qe(je.value));-1!==be&&X.splice(be,1),X.length>0?this.map.set(je.param,X):this.map.delete(je.param)}}}),this.cloneFrom=this.updates=null)}}class ct{constructor(){this.map=new Map}set(je,bt){return this.map.set(je,bt),this}get(je){return this.map.has(je)||this.map.set(je,je.defaultValue()),this.map.get(je)}delete(je){return this.map.delete(je),this}has(je){return this.map.has(je)}keys(){return this.map.keys()}}function Ut(ye){return typeof ArrayBuffer<"u"&&ye instanceof ArrayBuffer}function ae(ye){return typeof Blob<"u"&&ye instanceof Blob}function Et(ye){return typeof FormData<"u"&&ye instanceof FormData}class un{constructor(je,bt,X,be){var ve,Xe;let at;if(this.url=bt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=je.toUpperCase(),function vt(ye){switch(ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||be?(this.body=void 0!==X?X:null,at=be):at=X,at&&(this.reportProgress=!!at.reportProgress,this.withCredentials=!!at.withCredentials,at.responseType&&(this.responseType=at.responseType),at.headers&&(this.headers=at.headers),at.context&&(this.context=at.context),at.params&&(this.params=at.params),this.transferCache=at.transferCache),null!==(ve=this.headers)&&void 0!==ve||(this.headers=new He),null!==(Xe=this.context)&&void 0!==Xe||(this.context=new ct),this.params){const dt=this.params.toString();if(0===dt.length)this.urlWithParams=bt;else{const Bt=bt.indexOf("?");this.urlWithParams=bt+(-1===Bt?"?":Bt<bt.length-1?"&":"")+dt}}else this.params=new Te,this.urlWithParams=bt}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ut(this.body)||ae(this.body)||Et(this.body)||function Xt(ye){return typeof URLSearchParams<"u"&&ye instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Te?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Et(this.body)?null:ae(this.body)?this.body.type||null:Ut(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Te?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(je={}){var bt,X,be,ve;const Xe=je.method||this.method,at=je.url||this.url,dt=je.responseType||this.responseType,Bt=null!==(bt=je.transferCache)&&void 0!==bt?bt:this.transferCache,rn=void 0!==je.body?je.body:this.body,Wt=null!==(X=je.withCredentials)&&void 0!==X?X:this.withCredentials,Tn=null!==(be=je.reportProgress)&&void 0!==be?be:this.reportProgress;let Rn=je.headers||this.headers,kn=je.params||this.params;const lr=null!==(ve=je.context)&&void 0!==ve?ve:this.context;return void 0!==je.setHeaders&&(Rn=Object.keys(je.setHeaders).reduce((cr,nr)=>cr.set(nr,je.setHeaders[nr]),Rn)),je.setParams&&(kn=Object.keys(je.setParams).reduce((cr,nr)=>cr.set(nr,je.setParams[nr]),kn)),new un(Xe,at,rn,{params:kn,headers:Rn,context:lr,reportProgress:Tn,responseType:dt,withCredentials:Wt,transferCache:Bt})}}var Ht=function(ye){return ye[ye.Sent=0]="Sent",ye[ye.UploadProgress=1]="UploadProgress",ye[ye.ResponseHeader=2]="ResponseHeader",ye[ye.DownloadProgress=3]="DownloadProgress",ye[ye.Response=4]="Response",ye[ye.User=5]="User",ye}(Ht||{});class Ft{constructor(je,bt=200,X="OK"){this.headers=je.headers||new He,this.status=void 0!==je.status?je.status:bt,this.statusText=je.statusText||X,this.url=je.url||null,this.ok=this.status>=200&&this.status<300}}class Qn extends Ft{constructor(je={}){super(je),this.type=Ht.ResponseHeader}clone(je={}){return new Qn({headers:je.headers||this.headers,status:void 0!==je.status?je.status:this.status,statusText:je.statusText||this.statusText,url:je.url||this.url||void 0})}}class Ze extends Ft{constructor(je={}){super(je),this.type=Ht.Response,this.body=void 0!==je.body?je.body:null}clone(je={}){return new Ze({body:void 0!==je.body?je.body:this.body,headers:je.headers||this.headers,status:void 0!==je.status?je.status:this.status,statusText:je.statusText||this.statusText,url:je.url||this.url||void 0})}}class ee extends Ft{constructor(je){super(je,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${je.url||"(unknown url)"}`:`Http failure response for ${je.url||"(unknown url)"}: ${je.status} ${je.statusText}`,this.error=je.error||null}}function Be(ye,je){return{body:je,headers:ye.headers,context:ye.context,observe:ye.observe,params:ye.params,reportProgress:ye.reportProgress,responseType:ye.responseType,withCredentials:ye.withCredentials,transferCache:ye.transferCache}}let Ke=(()=>{var ye;class je{constructor(X){this.handler=X}request(X,be,ve={}){let Xe;if(X instanceof un)Xe=X;else{let Bt,rn;Bt=ve.headers instanceof He?ve.headers:new He(ve.headers),ve.params&&(rn=ve.params instanceof Te?ve.params:new Te({fromObject:ve.params})),Xe=new un(X,be,void 0!==ve.body?ve.body:null,{headers:Bt,context:ve.context,params:rn,reportProgress:ve.reportProgress,responseType:ve.responseType||"json",withCredentials:ve.withCredentials,transferCache:ve.transferCache})}const at=(0,U.of)(Xe).pipe((0,Pe.H)(Bt=>this.handler.handle(Bt)));if(X instanceof un||"events"===ve.observe)return at;const dt=at.pipe((0,ke.p)(Bt=>Bt instanceof Ze));switch(ve.observe||"body"){case"body":switch(Xe.responseType){case"arraybuffer":return dt.pipe((0,Re.T)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Bt.body}));case"blob":return dt.pipe((0,Re.T)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof Blob))throw new Error("Response is not a Blob.");return Bt.body}));case"text":return dt.pipe((0,Re.T)(Bt=>{if(null!==Bt.body&&"string"!=typeof Bt.body)throw new Error("Response is not a string.");return Bt.body}));default:return dt.pipe((0,Re.T)(Bt=>Bt.body))}case"response":return dt;default:throw new Error(`Unreachable: unhandled observe type ${ve.observe}}`)}}delete(X,be={}){return this.request("DELETE",X,be)}get(X,be={}){return this.request("GET",X,be)}head(X,be={}){return this.request("HEAD",X,be)}jsonp(X,be){return this.request("JSONP",X,{params:(new Te).append(be,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(X,be={}){return this.request("OPTIONS",X,be)}patch(X,be,ve={}){return this.request("PATCH",X,Be(ve,be))}post(X,be,ve={}){return this.request("POST",X,Be(ve,be))}put(X,be,ve={}){return this.request("PUT",X,Be(ve,be))}}return(ye=je).\u0275fac=function(X){return new(X||ye)(p.KVO(We))},ye.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac}),je})();const it=/^\)\]\}',?\n/;function Vt(ye){if(ye.url)return ye.url;const je="X-Request-URL".toLocaleLowerCase();return ye.headers.get(je)}let Ln=(()=>{var ye;class je{constructor(){var X,be;this.fetchImpl=null!==(X=null===(be=(0,p.WQX)(gn,{optional:!0}))||void 0===be?void 0:be.fetch)&&void 0!==X?X:fetch.bind(globalThis),this.ngZone=(0,p.WQX)(p.SKi)}handle(X){return new q.c(be=>{const ve=new AbortController;return this.doRequest(X,ve.signal,be).then(ir,Xe=>be.error(new ee({error:Xe}))),()=>ve.abort()})}doRequest(X,be,ve){var Xe=this;return(0,c.A)(function*(){var at;const dt=Xe.createRequestInit(X);let Bt;try{const Nr=Xe.ngZone.runOutsideAngular(()=>Xe.fetchImpl(X.urlWithParams,{signal:be,...dt}));(function zn(ye){ye.then(ir,ir)})(Nr),ve.next({type:Ht.Sent}),Bt=yield Nr}catch(Nr){var rn;return void ve.error(new ee({error:Nr,status:null!==(rn=Nr.status)&&void 0!==rn?rn:0,statusText:Nr.statusText,url:X.urlWithParams,headers:Nr.headers}))}const Wt=new He(Bt.headers),Tn=Bt.statusText,Rn=null!==(at=Vt(Bt))&&void 0!==at?at:X.urlWithParams;let kn=Bt.status,lr=null;if(X.reportProgress&&ve.next(new Qn({headers:Wt,status:kn,statusText:Tn,url:Rn})),Bt.body){const Nr=Bt.headers.get("content-length"),Ir=[],Qi=Bt.body.getReader();let Ci,oo,Ni=0;const co=typeof Zone<"u"&&Zone.current;yield Xe.ngZone.runOutsideAngular((0,c.A)(function*(){for(;;){const{done:ho,value:jr}=yield Qi.read();if(ho)break;if(Ir.push(jr),Ni+=jr.length,X.reportProgress){var vo,_s;oo="text"===X.responseType?(null!==(vo=oo)&&void 0!==vo?vo:"")+(null!==(_s=Ci)&&void 0!==_s?_s:Ci=new TextDecoder).decode(jr,{stream:!0}):void 0;const Do=()=>ve.next({type:Ht.DownloadProgress,total:Nr?+Nr:void 0,loaded:Ni,partialText:oo});co?co.run(Do):Do()}}}));const xo=Xe.concatChunks(Ir,Ni);try{var cr;const vo=null!==(cr=Bt.headers.get("Content-Type"))&&void 0!==cr?cr:"";lr=Xe.parseBody(X,xo,vo)}catch(vo){var nr;return void ve.error(new ee({error:vo,headers:new He(Bt.headers),status:Bt.status,statusText:Bt.statusText,url:null!==(nr=Vt(Bt))&&void 0!==nr?nr:X.urlWithParams}))}}0===kn&&(kn=lr?200:0),kn>=200&&kn<300?(ve.next(new Ze({body:lr,headers:Wt,status:kn,statusText:Tn,url:Rn})),ve.complete()):ve.error(new ee({error:lr,headers:Wt,status:kn,statusText:Tn,url:Rn}))})()}parseBody(X,be,ve){switch(X.responseType){case"json":const Xe=(new TextDecoder).decode(be).replace(it,"");return""===Xe?null:JSON.parse(Xe);case"text":return(new TextDecoder).decode(be);case"blob":return new Blob([be],{type:ve});case"arraybuffer":return be.buffer}}createRequestInit(X){const be={},ve=X.withCredentials?"include":void 0;if(X.headers.forEach((Xe,at)=>be[Xe]=at.join(",")),X.headers.has("Accept")||(be.Accept="application/json, text/plain, */*"),!X.headers.has("Content-Type")){const Xe=X.detectContentTypeHeader();null!==Xe&&(be["Content-Type"]=Xe)}return{body:X.serializeBody(),method:X.method,headers:be,credentials:ve}}concatChunks(X,be){const ve=new Uint8Array(be);let Xe=0;for(const at of X)ve.set(at,Xe),Xe+=at.length;return ve}}return(ye=je).\u0275fac=function(X){return new(X||ye)},ye.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac}),je})();class gn{}function ir(){}function gr(ye,je){return je(ye)}const Bn=new p.nKC(""),bn=new p.nKC(""),sn=new p.nKC("",{providedIn:"root",factory:()=>!0});let ln=(()=>{var ye;class je extends We{constructor(X,be){super(),this.backend=X,this.injector=be,this.chain=null,this.pendingTasks=(0,p.WQX)(p.TgB),this.contributeToStability=(0,p.WQX)(sn)}handle(X){if(null===this.chain){const be=Array.from(new Set([...this.injector.get(Bn),...this.injector.get(bn,[])]));this.chain=be.reduceRight((ve,Xe)=>function _r(ye,je,bt){return(X,be)=>(0,p.N4e)(bt,()=>je(X,ve=>ye(ve,be)))}(ve,Xe,this.injector),gr)}if(this.contributeToStability){const be=this.pendingTasks.add();return this.chain(X,ve=>this.backend.handle(ve)).pipe((0,ot.j)(()=>this.pendingTasks.remove(be)))}return this.chain(X,be=>this.backend.handle(be))}}return(ye=je).\u0275fac=function(X){return new(X||ye)(p.KVO(Ye),p.KVO(p.uvJ))},ye.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac}),je})();const Ii=/^\)\]\}',?\n/;let br=(()=>{var ye;class je{constructor(X){this.xhrFactory=X}handle(X){if("JSONP"===X.method)throw new p.wOt(-2800,!1);const be=this.xhrFactory;return(be.\u0275loadImpl?(0,ce.H)(be.\u0275loadImpl()):(0,U.of)(null)).pipe((0,Ve.n)(()=>new q.c(Xe=>{const at=be.build();if(at.open(X.method,X.urlWithParams),X.withCredentials&&(at.withCredentials=!0),X.headers.forEach((cr,nr)=>at.setRequestHeader(cr,nr.join(","))),X.headers.has("Accept")||at.setRequestHeader("Accept","application/json, text/plain, */*"),!X.headers.has("Content-Type")){const cr=X.detectContentTypeHeader();null!==cr&&at.setRequestHeader("Content-Type",cr)}if(X.responseType){const cr=X.responseType.toLowerCase();at.responseType="json"!==cr?cr:"text"}const dt=X.serializeBody();let Bt=null;const rn=()=>{if(null!==Bt)return Bt;const cr=at.statusText||"OK",nr=new He(at.getAllResponseHeaders()),ai=function rr(ye){return"responseURL"in ye&&ye.responseURL?ye.responseURL:/^X-Request-URL:/m.test(ye.getAllResponseHeaders())?ye.getResponseHeader("X-Request-URL"):null}(at)||X.url;return Bt=new Qn({headers:nr,status:at.status,statusText:cr,url:ai}),Bt},Wt=()=>{let{headers:cr,status:nr,statusText:ai,url:Nr}=rn(),Ir=null;204!==nr&&(Ir=typeof at.response>"u"?at.responseText:at.response),0===nr&&(nr=Ir?200:0);let Qi=nr>=200&&nr<300;if("json"===X.responseType&&"string"==typeof Ir){const Ni=Ir;Ir=Ir.replace(Ii,"");try{Ir=""!==Ir?JSON.parse(Ir):null}catch(Ci){Ir=Ni,Qi&&(Qi=!1,Ir={error:Ci,text:Ir})}}Qi?(Xe.next(new Ze({body:Ir,headers:cr,status:nr,statusText:ai,url:Nr||void 0})),Xe.complete()):Xe.error(new ee({error:Ir,headers:cr,status:nr,statusText:ai,url:Nr||void 0}))},Tn=cr=>{const{url:nr}=rn(),ai=new ee({error:cr,status:at.status||0,statusText:at.statusText||"Unknown Error",url:nr||void 0});Xe.error(ai)};let Rn=!1;const kn=cr=>{Rn||(Xe.next(rn()),Rn=!0);let nr={type:Ht.DownloadProgress,loaded:cr.loaded};cr.lengthComputable&&(nr.total=cr.total),"text"===X.responseType&&at.responseText&&(nr.partialText=at.responseText),Xe.next(nr)},lr=cr=>{let nr={type:Ht.UploadProgress,loaded:cr.loaded};cr.lengthComputable&&(nr.total=cr.total),Xe.next(nr)};return at.addEventListener("load",Wt),at.addEventListener("error",Tn),at.addEventListener("timeout",Tn),at.addEventListener("abort",Tn),X.reportProgress&&(at.addEventListener("progress",kn),null!==dt&&at.upload&&at.upload.addEventListener("progress",lr)),at.send(dt),Xe.next({type:Ht.Sent}),()=>{at.removeEventListener("error",Tn),at.removeEventListener("abort",Tn),at.removeEventListener("load",Wt),at.removeEventListener("timeout",Tn),X.reportProgress&&(at.removeEventListener("progress",kn),null!==dt&&at.upload&&at.upload.removeEventListener("progress",lr)),at.readyState!==at.DONE&&at.abort()}})))}}return(ye=je).\u0275fac=function(X){return new(X||ye)(p.KVO(me.N0))},ye.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac}),je})();const _i=new p.nKC(""),Vr=new p.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yi=new p.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vi{}let mi=(()=>{var ye;class je{constructor(X,be,ve){this.doc=X,this.platform=be,this.cookieName=ve,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const X=this.doc.cookie||"";return X!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me._b)(X,this.cookieName),this.lastCookieString=X),this.lastToken}}return(ye=je).\u0275fac=function(X){return new(X||ye)(p.KVO(me.qQ),p.KVO(p.Agw),p.KVO(Vr))},ye.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac}),je})();function Yt(ye,je){const bt=ye.url.toLowerCase();if(!(0,p.WQX)(_i)||"GET"===ye.method||"HEAD"===ye.method||bt.startsWith("http://")||bt.startsWith("https://"))return je(ye);const X=(0,p.WQX)(Vi).getToken(),be=(0,p.WQX)(yi);return null!=X&&!ye.headers.has(be)&&(ye=ye.clone({headers:ye.headers.set(be,X)})),je(ye)}function we(...ye){const je=[Ke,br,ln,{provide:We,useExisting:ln},{provide:Ye,useFactory:()=>{var bt;return null!==(bt=(0,p.WQX)(Ln,{optional:!0}))&&void 0!==bt?bt:(0,p.WQX)(br)}},{provide:Bn,useValue:Yt,multi:!0},{provide:_i,useValue:!0},{provide:Vi,useClass:mi}];for(const bt of ye)je.push(...bt.\u0275providers);return(0,p.EmA)(je)}},3953:(Gn,St,k)=>{"use strict";function c(e,t){return Object.is(e,t)}k.d(St,{iLQ:()=>Fy,sZ2:()=>fp,hnV:()=>cD,Hbi:()=>ax,o8S:()=>ld,BIS:()=>t_,gRc:()=>DD,Ql9:()=>PO,Ocv:()=>FO,Z63:()=>Rs,aKT:()=>Xh,uvJ:()=>js,zcH:()=>eo,bkB:()=>ku,$GK:()=>Cn,nKC:()=>Lr,zZn:()=>$a,_q3:()=>kI,MKu:()=>LI,xe9:()=>SI,Co$:()=>pA,Vns:()=>bf,SKi:()=>Go,Xx1:()=>Qa,Agw:()=>tf,PLl:()=>Qg,sFG:()=>_S,_9s:()=>vE,czy:()=>wp,kdw:()=>Gl,C4Q:()=>zm,NYb:()=>AO,giA:()=>lD,xvI:()=>YN,RxE:()=>tD,c1b:()=>uy,gXe:()=>Qs,mal:()=>_y,L39:()=>Vx,EWP:()=>$x,a0P:()=>Kx,Ol2:()=>OE,w6W:()=>uR,oH4:()=>CD,Rfq:()=>es,WQX:()=>dr,naY:()=>GO,QuC:()=>Co,EmA:()=>Nl,fpN:()=>sx,HJs:()=>Xx,N4e:()=>Ql,vPA:()=>QC,O8t:()=>Bx,H3F:()=>nD,zAP:()=>YD,H8p:()=>yl,KH2:()=>cg,TgB:()=>Xc,wOt:()=>ar,WHO:()=>sD,e01:()=>aD,H5H:()=>oI,Zy3:()=>pr,mq5:()=>yT,JZv:()=>yo,LfX:()=>Uo,plB:()=>vh,jNT:()=>TI,zjR:()=>uD,TL$:()=>S0,Tbb:()=>Di,Vt3:()=>PE,GFd:()=>fA,OA$:()=>Wn,Jv_:()=>Pb,aNF:()=>Mb,R7$:()=>wc,BMQ:()=>GE,AVh:()=>JE,wni:()=>nb,VBU:()=>Mn,FsC:()=>ui,jDH:()=>Ur,G2t:()=>ts,$C:()=>Kr,EJ8:()=>po,rXU:()=>Rd,nrm:()=>rI,eu8:()=>iI,bVm:()=>wy,qex:()=>Dy,k0s:()=>by,j41:()=>Ty,RV6:()=>mT,xGo:()=>Lv,KVO:()=>oi,kS0:()=>Gd,QTQ:()=>km,bIt:()=>lI,lsd:()=>ob,XpG:()=>HT,SdG:()=>GT,NAR:()=>WT,Y8G:()=>QE,lJ4:()=>xb,mGM:()=>ib,Njj:()=>wn,eBV:()=>Dt,B4B:()=>fm,n$t:()=>Cp,DNE:()=>kE,EFF:()=>gb,JRh:()=>hI,SpI:()=>Ny,GBs:()=>rb});let p=null,U=!1,q=1;const ce=Symbol("SIGNAL");function Pe(e){const t=p;return p=e,t}const Ve={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function me(e){if(U)throw new Error("");if(null===p)return;p.consumerOnSignalRead(e);const t=p.nextProducerIndex++;ct(p),t<p.producerNode.length&&p.producerNode[t]!==e&&$e(p)&&Te(p.producerNode[t],p.producerIndexOfThis[t]),p.producerNode[t]!==e&&(p.producerNode[t]=e,p.producerIndexOfThis[t]=$e(p)?Qe(e,p,t):0),p.producerLastReadVersion[t]=e.version}function Ye(e){if((!$e(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==q)){if(!e.producerMustRecompute(e)&&!Ot(e))return e.dirty=!1,void(e.lastCleanEpoch=q);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=q}}function He(e){if(void 0===e.liveConsumerNode)return;const t=U;U=!0;try{for(const r of e.liveConsumerNode)r.dirty||gt(r)}finally{U=t}}function ut(){var e;return!1!==(null===(e=p)||void 0===e?void 0:e.consumerAllowSignalWrites)}function gt(e){var t;e.dirty=!0,He(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function mt(e){return e&&(e.nextProducerIndex=0),Pe(e)}function ft(e,t){if(Pe(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if($e(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Te(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ot(e){ct(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(Ye(r),o!==r.version))return!0}return!1}function Tt(e){if(ct(e),$e(e))for(let t=0;t<e.producerNode.length;t++)Te(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Qe(e,t,r){if(vt(e),0===e.liveConsumerNode.length&&Ut(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Qe(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Te(e,t){if(vt(e),1===e.liveConsumerNode.length&&Ut(e))for(let o=0;o<e.producerNode.length;o++)Te(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];ct(a),a.producerIndexOfThis[o]=t}}function $e(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function ct(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function vt(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Ut(e){return void 0!==e.producerNode}const Et=Symbol("UNSET"),Xt=Symbol("COMPUTING"),un=Symbol("ERRORED"),Ht={...Ve,value:Et,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===Et||e.value===Xt,producerRecomputeValue(e){if(e.value===Xt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Xt;const r=mt(e);let o;try{o=e.computation()}catch(a){o=un,e.error=a}finally{ft(e,r)}t!==Et&&t!==un&&o!==un&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Qn=function Ft(){throw new Error};function Ze(){Qn()}let de=null;function Ke(e,t){ut()||Ze(),e.equal(e.value,t)||(e.value=t,function Ln(e){var t;e.version++,function We(){q++}(),He(e),null===(t=de)||void 0===t||t()}(e))}const Vt={...Ve,equal:c,value:void 0};var qr,hr,Kn=k(4412),_r=k(1413),Xn=k(8359),Bn=k(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const fo="https://g.co/ng/security#xss";class ar extends Error{constructor(t,r){super(pr(t,r)),this.code=t}}function pr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function no(e){return{toString:e}.toString()}const Zo="__parameters__";function us(e,t,r){return no(()=>{const o=function Pl(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...h){if(this instanceof a)return o.apply(this,h),this;const v=new a(...h);return A.annotation=v,A;function A(D,H,te){const Ce=D.hasOwnProperty(Zo)?D[Zo]:Object.defineProperty(D,Zo,{value:[]})[Zo];for(;Ce.length<=te;)Ce.push(null);return(Ce[te]=Ce[te]||[]).push(v),D}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const yo=globalThis;function bi(e){for(let t in e)if(e[t]===bi)return t;throw Error("Could not find renamed property on target object.")}function Da(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Di(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Di).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Ro(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const wa=bi({__forward_ref__:bi});function es(e){return e.__forward_ref__=es,e.toString=function(){return Di(this())},e}function Wr(e){return Is(e)?e():e}function Is(e){return"function"==typeof e&&e.hasOwnProperty(wa)&&e.__forward_ref__===es}function Ur(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ts(e){return{providers:e.providers||[],imports:e.imports||[]}}function As(e){return ll(e,aa)||ll(e,Zi)}function Uo(e){return null!==As(e)}function ll(e,t){return e.hasOwnProperty(t)?e[t]:null}function ns(e){return e&&(e.hasOwnProperty(ti)||e.hasOwnProperty(Wo))?e[ti]:null}const aa=bi({\u0275prov:bi}),ti=bi({\u0275inj:bi}),Zi=bi({ngInjectableDef:bi}),Wo=bi({ngInjectorDef:bi});class Lr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ur({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ra(e){return e&&!!e.\u0275providers}const ks=bi({\u0275cmp:bi}),Xa=bi({\u0275dir:bi}),Wl=bi({\u0275pipe:bi}),Ks=bi({\u0275mod:bi}),Xs=bi({\u0275fac:bi}),qa=bi({__NG_ELEMENT_ID__:bi}),ro=bi({__NG_ENV_ID__:bi});function Gr(e){return"string"==typeof e?e:null==e?"":String(e)}function rs(e,t){throw new ar(-201,!1)}var Cn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Cn||{});let Mr;function Jr(){return Mr}function fi(e){const t=Mr;return Mr=e,t}function Ls(e,t,r){const o=As(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Cn.Optional?null:void 0!==t?t:void rs()}const Q={},qe="__NG_DI_FLAG__",G="ngTempTokenPath",rt=/\n/gm,qn="__source";let Qr;function gi(e){const t=Qr;return Qr=e,t}function ni(e,t=Cn.Default){if(void 0===Qr)throw new ar(-203,!1);return null===Qr?Ls(e,void 0,t):Qr.get(e,t&Cn.Optional?null:void 0,t)}function oi(e,t=Cn.Default){return(Jr()||ni)(Wr(e),t)}function dr(e,t=Cn.Default){return oi(e,ko(t))}function ko(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ji(e){const t=[];for(let r=0;r<e.length;r++){const o=Wr(e[r]);if(Array.isArray(o)){if(0===o.length)throw new ar(900,!1);let a,h=Cn.Default;for(let v=0;v<o.length;v++){const A=o[v],D=Fs(A);"number"==typeof D?-1===D?a=A.token:h|=D:a=A}t.push(oi(a,h))}else t.push(oi(o))}return t}function Xo(e,t){return e[qe]=t,e.prototype[qe]=t,e}function Fs(e){return e[qe]}const Qa=Xo(us("Optional"),8),Gl=Xo(us("SkipSelf"),4);function Na(e,t){return e.hasOwnProperty(Xs)?e[Xs]:null}function qs(e,t){e.forEach(r=>Array.isArray(r)?qs(r,t):t(r))}function is(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Hu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Io(e,t,r){let o=Hi(e,t);return o>=0?e[1|o]=r:(o=~o,function Kl(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Us(e,t){const r=Hi(e,t);if(r>=0)return e[1|r]}function Hi(e,t){return function dl(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const h=o+(a-o>>1),v=e[h<<r];if(t===v)return h<<r;v>t?a=h:o=h+1}return~(a<<r)}(e,t,1)}const qo={},Ri=[],Rs=new Lr(""),cd=new Lr("",-1),Gu=new Lr("");class hl{get(t,r=Q){if(r===Q){const o=new Error(`NullInjectorError: No provider for ${Di(t)}!`);throw o.name="NullInjectorError",o}return r}}var Ya=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ya||{}),Qs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Qs||{}),$s=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}($s||{});function Ps(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const h=t.length;if(a+h===o||e.charCodeAt(a+h)<=32)return a}r=a+1}}function fl(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const h=r[o++],v=r[o++],A=r[o++];e.setAttribute(t,v,A,h)}else{const h=a,v=r[++o];cc(h)?e.setProperty(t,h,v):e.setAttribute(t,h,v),o++}}return o}function Eu(e){return 3===e||4===e||6===e}function cc(e){return 64===e.charCodeAt(0)}function pl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||Iu(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function Iu(e,t,r,o,a){let h=0,v=e.length;if(-1===t)v=-1;else for(;h<e.length;){const A=e[h++];if("number"==typeof A){if(A===t){v=-1;break}if(A>t){v=h-1;break}}}for(;h<e.length;){const A=e[h];if("number"==typeof A)break;if(A===r){if(null===o)return void(null!==a&&(e[h+1]=a));if(o===e[h+1])return void(e[h+2]=a)}h++,null!==o&&h++,null!==a&&h++}-1!==v&&(e.splice(v,0,t),h=v+1),e.splice(h++,0,r),null!==o&&e.splice(h++,0,o),null!==a&&e.splice(h++,0,a)}const Xl="ng-template";function Nc(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==Ps(t[a+1].toLowerCase(),r,0))return!0}else if(ha(e))return!1;if(a=t.indexOf(1,a),a>-1){let h;for(;++a<t.length&&"string"==typeof(h=t[a]);)if(h.toLowerCase()===r)return!0}return!1}function ha(e){return 4===e.type&&e.value!==Xl}function gl(e,t,r){return t===(4!==e.type||r?e.value:Xl)}function kd(e,t,r){let o=4;const a=e.attrs,h=null!==a?function P(e){for(let t=0;t<e.length;t++)if(Eu(e[t]))return t;return e.length}(a):0;let v=!1;for(let A=0;A<t.length;A++){const D=t[A];if("number"!=typeof D){if(!v)if(4&o){if(o=2|1&o,""!==D&&!gl(e,D,r)||""===D&&1===t.length){if(cs(o))return!1;v=!0}}else if(8&o){if(null===a||!Nc(e,a,D,r)){if(cs(o))return!1;v=!0}}else{const H=t[++A],te=Oc(D,a,ha(e),r);if(-1===te){if(cs(o))return!1;v=!0;continue}if(""!==H){let Ce;if(Ce=te>h?"":a[te+1].toLowerCase(),2&o&&H!==Ce){if(cs(o))return!1;v=!0}}}}else{if(!v&&!cs(o)&&!cs(D))return!1;if(v&&cs(D))continue;v=!1,o=D|1&o}}return cs(o)||v}function cs(e){return!(1&e)}function Oc(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let h=!1;for(;a<t.length;){const v=t[a];if(v===e)return a;if(3===v||6===v)h=!0;else{if(1===v||2===v){let A=t[++a];for(;"string"==typeof A;)A=t[++a];continue}if(4===v)break;if(0===v){a+=4;continue}}a+=h?1:2}return-1}return function V(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Oa(e,t,r=!1){for(let o=0;o<t.length;o++)if(kd(e,t[o],r))return!0;return!1}function S(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function $(e,t){return e?":not("+t.trim()+")":t}function De(e){let t=e[0],r=1,o=2,a="",h=!1;for(;r<e.length;){let v=e[r];if("string"==typeof v)if(2&o){const A=e[++r];a+="["+v+(A.length>0?'="'+A+'"':"")+"]"}else 8&o?a+="."+v:4&o&&(a+=" "+v);else""!==a&&!cs(v)&&(t+=$(h,a),a=""),o=v,h=h||!cs(o);r++}return""!==a&&(t+=$(h,a)),t}function Mn(e){return no(()=>{var t;const r=ml(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ya.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||Qs.Emulated,styles:e.styles||Ri,_:null,schemas:e.schemas||null,tView:null,id:""};vl(o);const a=e.dependencies;return o.directiveDefs=Ys(a,!1),o.pipeDefs=Ys(a,!0),o.id=function xc(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function Zt(e){return Yr(e)||Li(e)}function or(e){return null!==e}function Kr(e){return no(()=>({type:e.type,bootstrap:e.bootstrap||Ri,declarations:e.declarations||Ri,imports:e.imports||Ri,exports:e.exports||Ri,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Pi(e,t){if(null==e)return qo;const r={};for(const a in e)if(e.hasOwnProperty(a)){const h=e[a];let v,A,D=$s.None;var o;Array.isArray(h)?(D=h[0],v=h[1],A=null!==(o=h[2])&&void 0!==o?o:v):(v=h,A=h),t?(r[v]=D!==$s.None?[a,D]:a,t[v]=A):r[v]=a}return r}function ui(e){return no(()=>{const t=ml(e);return vl(t),t})}function po(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Yr(e){return e[ks]||null}function Li(e){return e[Xa]||null}function lo(e){return e[Wl]||null}function Co(e){const t=Yr(e)||Li(e)||lo(e);return null!==t&&t.standalone}function so(e,t){const r=e[Ks]||null;if(!r&&!0===t)throw new Error(`Type ${Di(e)} does not have '\u0275mod' property.`);return r}function ml(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||qo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ri,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pi(e.inputs,t),outputs:Pi(e.outputs),debugInfo:null}}function vl(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function Ys(e,t){if(!e)return null;const r=t?lo:Zt;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(or)}function Nl(e){return{\u0275providers:e}}function xa(...e){return{\u0275providers:Za(0,e),\u0275fromNgModule:!0}}function Za(e,...t){const r=[],o=new Set;let a;const h=v=>{r.push(v)};return qs(t,v=>{const A=v;el(A,h,[],o)&&(a||(a=[]),a.push(A))}),void 0!==a&&Ol(a,h),r}function Ol(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];hd(a,h=>{t(h,o)})}}function el(e,t,r,o){if(!(e=Wr(e)))return!1;let a=null,h=ns(e);const v=!h&&Yr(e);if(h||v){if(v&&!v.standalone)return!1;a=e}else{const D=e.ngModule;if(h=ns(D),!h)return!1;a=D}const A=o.has(a);if(v){if(A)return!1;if(o.add(a),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of D)el(H,t,r,o)}}else{if(!h)return!1;{if(null!=h.imports&&!A){let H;o.add(a);try{qs(h.imports,te=>{el(te,t,r,o)&&(H||(H=[]),H.push(te))})}finally{}void 0!==H&&Ol(H,t)}if(!A){const H=Na(a)||(()=>new a);t({provide:a,useFactory:H,deps:Ri},a),t({provide:Gu,useValue:a,multi:!0},a),t({provide:Rs,useValue:()=>oi(a),multi:!0},a)}const D=h.providers;if(null!=D&&!A){const H=e;hd(D,te=>{t(te,H)})}}}return a!==e&&void 0!==e.providers}function hd(e,t){for(let r of e)Ra(r)&&(r=r.\u0275providers),Array.isArray(r)?hd(r,t):t(r)}const fd=bi({provide:String,useValue:bi});function Cu(e){return null!==e&&"object"==typeof e&&fd in e}function _l(e){return"function"==typeof e}const yl=new Lr(""),Bs={},Tu={};let ql;function bu(){return void 0===ql&&(ql=new hl),ql}class js{}class os extends js{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yu(t,v=>this.processProvider(v)),this.records.set(cd,Fo(void 0,this)),a.has("environment")&&this.records.set(js,Fo(void 0,this));const h=this.records.get(yl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Gu,Ri,Cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=Pe(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=gi(this),o=fi(void 0);try{return t()}finally{gi(r),fi(o)}}get(t,r=Q,o=Cn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ro))return t[ro](this);o=ko(o);const h=gi(this),v=fi(void 0);try{if(!(o&Cn.SkipSelf)){let D=this.records.get(t);if(void 0===D){const H=function Ds(e){return"function"==typeof e||"object"==typeof e&&e instanceof Lr}(t)&&As(t);D=H&&this.injectableDefInScope(H)?Fo(El(t),Bs):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(o&Cn.Self?bu():this.parent).get(t,r=o&Cn.Optional&&r===Q?null:r)}catch(A){if("NullInjectorError"===A.name){if((A[G]=A[G]||[]).unshift(Di(t)),h)throw A;return function Vs(e,t,r,o){const a=e[G];throw t[qn]&&a.unshift(t[qn]),e.message=function da(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Di(t);if(Array.isArray(t))a=t.map(Di).join(" -> ");else if("object"==typeof t){let h=[];for(let v in t)if(t.hasOwnProperty(v)){let A=t[v];h.push(v+":"+("string"==typeof A?JSON.stringify(A):Di(A)))}a=`{${h.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(rt,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[G]=null,e}(A,t,"R3InjectorError",this.source)}throw A}finally{fi(v),gi(h)}}resolveInjectorInitializers(){const t=Pe(null),r=gi(this),o=fi(void 0);try{const h=this.get(Rs,Ri,Cn.Self);for(const v of h)v()}finally{gi(r),fi(o),Pe(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Di(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ar(205,!1)}processProvider(t){let r=_l(t=Wr(t))?t:Wr(t&&t.provide);const o=function Js(e){return Cu(e)?Fo(void 0,e.useValue):Fo(qu(e),Bs)}(t);if(!_l(t)&&!0===t.multi){let a=this.records.get(r);a||(a=Fo(void 0,Bs,!0),a.factory=()=>ji(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=Pe(null);try{return r.value===Bs&&(r.value=Tu,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Qu(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Pe(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Wr(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function El(e){const t=As(e),r=null!==t?t.factory:Na(e);if(null!==r)return r;if(e instanceof Lr)throw new ar(204,!1);if(e instanceof Function)return function Xu(e){if(e.length>0)throw new ar(204,!1);const r=function sa(e){return e&&(e[aa]||e[Zi])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new ar(204,!1)}function qu(e,t,r){let o;if(_l(e)){const a=Wr(e);return Na(a)||El(a)}if(Cu(e))o=()=>Wr(e.useValue);else if(function Au(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ji(e.deps||[]));else if(function Ku(e){return!(!e||!e.useExisting)}(e))o=()=>oi(Wr(e.useExisting));else{const a=Wr(e&&(e.useClass||e.provide));if(!function dc(e){return!!e.deps}(e))return Na(a)||El(a);o=()=>new a(...ji(e.deps))}return o}function Fo(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Yu(e,t){for(const r of e)Array.isArray(r)?Yu(r,t):r&&Ra(r)?Yu(r.\u0275providers,t):t(r)}function Ql(e,t){e instanceof os&&e.assertNotDestroyed();const o=gi(e),a=fi(void 0);try{return t()}finally{gi(o),fi(a)}}function Yl(){return void 0!==Jr()||null!=function pi(){return Qr}()}const Ao=0,tr=1,Fr=2,uo=3,fa=4,ds=5,Qo=6,ws=7,Eo=8,$o=9,Zs=10,ii=11,io=12,Fd=13,wu=14,To=15,Jl=16,tl=17,La=18,nl=19,pc=20,Cl=21,Zl=22,ea=23,xr=25,Su=1,ta=7,Ru=9,Wi=10;var Pu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Pu||{});function go(e){return Array.isArray(e)&&"object"==typeof e[Su]}function Bo(e){return Array.isArray(e)&&!0===e[Su]}function hs(e){return!!(4&e.flags)}function pa(e){return e.componentOffset>-1}function tu(e){return!(1&~e.flags)}function rl(e){return!!e.template}function ga(e){return!!(512&e[Fr])}class Lt{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function hn(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function Wn(){return Sr}function Sr(e){return e.type.prototype.ngOnChanges&&(e.setInput=$i),Ar}function Ar(){const e=Fa(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===qo)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function $i(e,t,r,o,a){const h=this.declaredInputs[o],v=Fa(e)||function iu(e,t){return e[Ms]=t}(e,{previous:qo,current:null}),A=v.current||(v.current={}),D=v.previous,H=D[h];A[h]=new Lt(H&&H.currentValue,r,D===qo),hn(e,t,a,r)}Wn.ngInherit=!0;const Ms="__ngSimpleChanges__";function Fa(e){return e[Ms]||null}const il=function(e,t,r){};function Ki(e){for(;Array.isArray(e);)e=e[Ao];return e}function ol(e,t){return Ki(t[e])}function fs(e,t){return Ki(t[e.index])}function Al(e,t){return e.data[t]}function ps(e,t){const r=t[e];return go(r)?r:r[Ao]}function $d(e){return!(128&~e[Fr])}function Va(e,t){return null==t?null:e[t]}function su(e){e[tl]=0}function wh(e){1024&e[Fr]||(e[Fr]|=1024,$d(e)&&Gc(e))}function Wc(e){var t;return!!(9216&e[Fr]||null!==(t=e[ea])&&void 0!==t&&t.dirty)}function Bd(e){var t;null===(t=e[Zs].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[Fr]&&(e[Fr]|=1024),Wc(e)&&Gc(e)}function Gc(e){var t;null===(t=e[Zs].changeDetectionScheduler)||void 0===t||t.notify(0);let r=Mu(e);for(;null!==r&&!(8192&r[Fr])&&(r[Fr]|=8192,$d(r));)r=Mu(r)}function jd(e,t){if(!(256&~e[Fr]))throw new ar(911,!1);null===e[Cl]&&(e[Cl]=[]),e[Cl].push(t)}function Mu(e){const t=e[uo];return Bo(t)?t[uo]:t}const ci={lFrame:_g(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Sh=!1;function g(){return ci.bindingsEnabled}function d(){return null!==ci.skipHydrationRootTNode}function ue(){return ci.lFrame.lView}function et(){return ci.lFrame.tView}function Dt(e){return ci.lFrame.contextLView=e,e[Eo]}function wn(e){return ci.lFrame.contextLView=null,e}function cn(){let e=Un();for(;null!==e&&64===e.type;)e=e.parent;return e}function Un(){return ci.lFrame.currentTNode}function Rr(e,t){const r=ci.lFrame;r.currentTNode=e,r.isParent=t}function Fi(){return ci.lFrame.isParent}function ss(){ci.lFrame.isParent=!1}function bv(){return Sh}function Dv(e){Sh=e}function Ll(){return ci.lFrame.bindingIndex++}function fg(e,t){const r=ci.lFrame;r.bindingIndex=r.bindingRootIndex=e,kf(t)}function kf(e){ci.lFrame.currentDirectiveIndex=e}function gg(){return ci.lFrame.currentQueryIndex}function Mh(e){ci.lFrame.currentQueryIndex=e}function qy(e){const t=e[tr];return 2===t.type?t.declTNode:1===t.type?e[ds]:null}function mg(e,t,r){if(r&Cn.SkipSelf){let a=t,h=e;for(;!(a=a.parent,null!==a||r&Cn.Host||(a=qy(h),null===a||(h=h[wu],10&a.type))););if(null===a)return!1;t=a,e=h}const o=ci.lFrame=vg();return o.currentTNode=t,o.lView=e,!0}function Lf(e){const t=vg(),r=e[tr];ci.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function vg(){const e=ci.lFrame,t=null===e?null:e.child;return null===t?_g(e):t}function _g(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Sv(){const e=ci.lFrame;return ci.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rv=Sv;function yg(){const e=Sv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zs(){return ci.lFrame.selectedIndex}function Id(e){ci.lFrame.selectedIndex=e}function Oo(){const e=ci.lFrame;return Al(e.tView,e.selectedIndex)}let Ff=!0;function Nh(){return Ff}function au(e){Ff=e}function zd(e,t){for(let H=t.directiveStart,te=t.directiveEnd;H<te;H++){const lt=e.data[H].type.prototype,{ngAfterContentInit:yt,ngAfterContentChecked:pt,ngAfterViewInit:_n,ngAfterViewChecked:$n,ngOnDestroy:er}=lt;var r,o,a,h,v,A,D;yt&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-H,yt),pt&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(H,pt),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(H,pt)),_n&&(null!==(h=e.viewHooks)&&void 0!==h?h:e.viewHooks=[]).push(-H,_n),$n&&((null!==(v=e.viewHooks)&&void 0!==v?v:e.viewHooks=[]).push(H,$n),(null!==(A=e.viewCheckHooks)&&void 0!==A?A:e.viewCheckHooks=[]).push(H,$n)),null!=er&&(null!==(D=e.destroyHooks)&&void 0!==D?D:e.destroyHooks=[]).push(H,er)}}function Oh(e,t,r){Nv(e,t,3,r)}function Hd(e,t,r,o){(3&e[Fr])===r&&Nv(e,t,r,o)}function Vf(e,t){let r=e[Fr];(3&r)===t&&(r&=16383,r+=1,e[Fr]=r)}function Nv(e,t,r,o){const h=null!=o?o:-1,v=t.length-1;let A=0;for(let D=void 0!==o?65535&e[tl]:0;D<v;D++)if("number"==typeof t[D+1]){if(A=t[D],null!=o&&A>=o)break}else t[D]<0&&(e[tl]+=65536),(A<h||-1==h)&&(Jy(e,r,t,D),e[tl]=(4294901760&e[tl])+D+2),D++}function Uf(e,t){il(4,e,t);const r=Pe(null);try{t.call(e)}finally{Pe(r),il(5,e,t)}}function Jy(e,t,r,o){const a=r[o]<0,h=r[o+1],A=e[a?-r[o]:r[o]];a?e[Fr]>>14<e[tl]>>16&&(3&e[Fr])===t&&(e[Fr]+=16384,Uf(A,h)):Uf(A,h)}const Kc=-1;class xh{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const Lh={};class Cd{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=ko(o);const a=this.injector.get(t,Lh,o);return a!==Lh||r===Lh?a:this.parentInjector.get(t,r,o)}}function Fh(e){return e!==Kc}function Fl(e){return 32767&e}function Vh(e,t){let r=function wg(e){return e>>16}(e),o=t;for(;r>0;)o=o[wu],r--;return o}let Rg=!0;function Bf(e){const t=Rg;return Rg=e,t}const xv=255,jf=5;let e0=0;const lu={};function Wd(e,t){const r=Hf(e,t);if(-1!==r)return r;const o=t[tr];o.firstCreatePass&&(e.injectorIndex=t.length,zf(o.data,e),zf(t,null),zf(o.blueprint,null));const a=Uh(e,t),h=e.injectorIndex;if(Fh(a)){const v=Fl(a),A=Vh(a,t),D=A[tr].data;for(let H=0;H<8;H++)t[h+H]=A[v+H]|D[v+H]}return t[h+8]=a,h}function zf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Hf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Uh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=Bh(a),null===o)return Kc;if(r++,a=a[wu],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Kc}function Pg(e,t,r){!function t0(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(qa)&&(o=r[qa]),null==o&&(o=r[qa]=e0++);const a=o&xv;t.data[e+(a>>jf)]|=1<<a}(e,t,r)}function Wf(e,t,r){if(r&Cn.Optional||void 0!==e)return e;rs()}function kv(e,t,r,o){if(r&Cn.Optional&&void 0===o&&(o=null),!(r&(Cn.Self|Cn.Host))){const a=e[$o],h=fi(void 0);try{return a?a.get(t,o,r&Cn.Optional):Ls(t,o,r&Cn.Optional)}finally{fi(h)}}return Wf(o,0,r)}function Gf(e,t,r,o=Cn.Default,a){if(null!==e){if(2048&t[Fr]&&!(o&Cn.Self)){const v=function s0(e,t,r,o,a){let h=e,v=t;for(;null!==h&&null!==v&&2048&v[Fr]&&!(512&v[Fr]);){const A=$h(h,v,r,o|Cn.Self,lu);if(A!==lu)return A;let D=h.parent;if(!D){const H=v[pc];if(H){const te=H.get(r,lu,o);if(te!==lu)return te}D=Bh(v),v=v[wu]}h=D}return a}(e,t,r,o,lu);if(v!==lu)return v}const h=$h(e,t,r,o,lu);if(h!==lu)return h}return kv(t,r,o,a)}function $h(e,t,r,o,a){const h=function r0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qa)?e[qa]:void 0;return"number"==typeof t?t>=0?t&xv:o0:t}(r);if("function"==typeof h){if(!mg(t,e,o))return o&Cn.Host?Wf(a,0,o):kv(t,r,o,a);try{let v;if(v=h(o),null!=v||o&Cn.Optional)return v;rs()}finally{Rv()}}else if("number"==typeof h){let v=null,A=Hf(e,t),D=Kc,H=o&Cn.Host?t[To][ds]:null;for((-1===A||o&Cn.SkipSelf)&&(D=-1===A?Uh(e,t):t[A+8],D!==Kc&&Ng(o,!1)?(v=t[tr],A=Fl(D),t=Vh(D,t)):A=-1);-1!==A;){const te=t[tr];if(Xf(h,A,te.data)){const Ce=Mg(A,t,r,v,o,H);if(Ce!==lu)return Ce}D=t[A+8],D!==Kc&&Ng(o,t[tr].data[A+8]===H)&&Xf(h,A,t)?(v=te,A=Fl(D),t=Vh(D,t)):A=-1}}return a}function Mg(e,t,r,o,a,h){const v=t[tr],A=v.data[e+8],te=Kf(A,v,r,null==o?pa(A)&&Rg:o!=v&&!!(3&A.type),a&Cn.Host&&h===A);return null!==te?uu(t,v,te,A):lu}function Kf(e,t,r,o,a){const h=e.providerIndexes,v=t.data,A=1048575&h,D=e.directiveStart,te=h>>20,lt=a?A+te:e.directiveEnd;for(let yt=o?A:A+te;yt<lt;yt++){const pt=v[yt];if(yt<D&&r===pt||yt>=D&&pt.type===r)return yt}if(a){const yt=v[D];if(yt&&rl(yt)&&yt.type===r)return D}return null}function uu(e,t,r,o){let a=e[r];const h=t.data;if(function Ag(e){return e instanceof xh}(a)){const v=a;v.resolving&&function Pa(e,t){throw t&&t.join(" > "),new ar(-200,e)}(function Oi(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Gr(e)}(h[r]));const A=Bf(v.canSeeViewProviders);v.resolving=!0;const H=v.injectImpl?fi(v.injectImpl):null;mg(e,o,Cn.Default);try{a=e[r]=v.factory(void 0,h,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Yy(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:h}=t.type.prototype;if(o){var v,A;const Ce=Sr(t);(null!==(v=r.preOrderHooks)&&void 0!==v?v:r.preOrderHooks=[]).push(e,Ce),(null!==(A=r.preOrderCheckHooks)&&void 0!==A?A:r.preOrderCheckHooks=[]).push(e,Ce)}var D,H,te;a&&(null!==(D=r.preOrderHooks)&&void 0!==D?D:r.preOrderHooks=[]).push(0-e,a),h&&((null!==(H=r.preOrderHooks)&&void 0!==H?H:r.preOrderHooks=[]).push(e,h),(null!==(te=r.preOrderCheckHooks)&&void 0!==te?te:r.preOrderCheckHooks=[]).push(e,h))}(r,h[r],t)}finally{null!==H&&fi(H),Bf(A),v.resolving=!1,Rv()}}return a}function Xf(e,t,r){return!!(r[t+(e>>jf)]&1<<e)}function Ng(e,t){return!(e&Cn.Self||e&Cn.Host&&t)}class gs{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Gf(this._tNode,this._lView,t,ko(o),r)}}function o0(){return new gs(cn(),ue())}function Lv(e){return no(()=>{const t=e.prototype.constructor,r=t[Xs]||Og(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const h=a[Xs]||Og(a);if(h&&h!==r)return h;a=Object.getPrototypeOf(a)}return h=>new h})}function Og(e){return Is(e)?()=>{const t=Og(Wr(e));return t&&t()}:Na(e)}function Bh(e){const t=e[tr],r=t.type;return 2===r?t.declTNode:1===r?e[ds]:null}function Gd(e){return function n0(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const h=r[a];if(Eu(h))break;if(0===h)a+=2;else if("number"==typeof h)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(h===t)return r[a+1];a+=2}}}return null}(cn(),e)}function Bv(e,t=null,r=null,o){const a=jv(e,t,r,o);return a.resolveInjectorInitializers(),a}function jv(e,t=null,r=null,o,a=new Set){const h=[r||Ri,xa(e)];return o=o||("object"==typeof e?void 0:Di(e)),new os(h,t||bu(),o||null,a)}class $a{static create(t,r){if(Array.isArray(t))return Bv({name:""},r,t,"");{var o;const a=null!==(o=t.name)&&void 0!==o?o:"";return Bv({name:a},t.parent,t.providers,a)}}}(qr=$a).THROW_IF_NOT_FOUND=Q,qr.NULL=new hl,qr.\u0275prov=Ur({token:qr,providedIn:"any",factory:()=>oi(cd)}),qr.__NG_ELEMENT_ID__=-1,new Lr("").__NG_ELEMENT_ID__=e=>{const t=cn();if(null===t)throw new ar(204,!1);if(2&t.type)return t.value;if(e&Cn.Optional)return null;throw new ar(204,!1)};function Lg(e){return e.ngOriginalError}const Hv=!0;let jh=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=d0,e.__NG_ENV_ID__=r=>r,t})();class c0 extends jh{constructor(t){super(),this._lView=t}onDestroy(t){return jd(this._lView,t),()=>function _d(e,t){if(null===e[Cl])return;const r=e[Cl].indexOf(t);-1!==r&&e[Cl].splice(r,1)}(this._lView,t)}}function d0(){return new c0(ue())}let Xc=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=Ur({token:e,providedIn:"root",factory:()=>new e}),t})();const ku=class Fg extends _r.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Yl()&&(this.destroyRef=null!==(r=dr(jh,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=dr(Xc,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=Pe(null);try{super.next(t)}finally{Pe(r)}}subscribe(t,r,o){let a=t,h=r||(()=>null),v=o;if(t&&"object"==typeof t){var A,D,H;const Ce=t;a=null===(A=Ce.next)||void 0===A?void 0:A.bind(Ce),h=null===(D=Ce.error)||void 0===D?void 0:D.bind(Ce),v=null===(H=Ce.complete)||void 0===H?void 0:H.bind(Ce)}this.__isAsync&&(h=this.wrapInTimeout(h),a&&(a=this.wrapInTimeout(a)),v&&(v=this.wrapInTimeout(v)));const te=super.subscribe({next:a,error:h,complete:v});return t instanceof Xn.yU&&t.add(te),te}wrapInTimeout(t){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var h;t(r),void 0!==a&&(null===(h=this.pendingTasks)||void 0===h||h.remove(a))})}}};function zh(...e){}function Vg(e){let t,r;function o(){e=zh;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Hh(e){return queueMicrotask(()=>e()),()=>{e=zh}}const ep="isAngularZone",Wh=ep+"_ID";let Gh=0;class Go{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ku(!1),this.onMicrotaskEmpty=new ku(!1),this.onStable=new ku(!1),this.onError=new ku(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:h=Hv}=t;if(typeof Zone>"u")throw new ar(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!a&&o,v.shouldCoalesceRunChangeDetection=a,v.callbackScheduled=!1,v.scheduleInRootZone=h,function f0(e){const t=()=>{!function oc(e){function t(){Vg(()=>{e.callbackScheduled=!1,Ug(e),e.isCheckStableRunning=!0,Yo(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ug(e))}(e)},r=Gh++;e._inner=e._inner.fork({name:"angular",properties:{[ep]:!0,[Wh]:r,[Wh+r]:!0},onInvokeTask:(o,a,h,v,A,D)=>{if(function p0(e){return Gv(e,"__ignore_ng_zone__")}(D))return o.invokeTask(h,v,A,D);try{return $g(e),o.invokeTask(h,v,A,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||e.shouldCoalesceRunChangeDetection)&&t(),Wv(e)}},onInvoke:(o,a,h,v,A,D,H)=>{try{return $g(e),o.invoke(h,v,A,D,H)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Bg(e){return Gv(e,"__scheduler_tick__")}(D)&&t(),Wv(e)}},onHasTask:(o,a,h,v)=>{o.hasTask(h,v),a===h&&("microTask"==v.change?(e._hasPendingMicrotasks=v.microTask,Ug(e),Yo(e)):"macroTask"==v.change&&(e.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,a,h,v)=>(o.handleError(h,v),e.runOutsideAngular(()=>e.onError.emit(v)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ep)}static assertInAngularZone(){if(!Go.isInAngularZone())throw new ar(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new ar(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+a,t,va,zh,zh);try{return h.runTask(v,r,o)}finally{h.cancelTask(v)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const va={};function Yo(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ug(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function $g(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wv(e){e._nesting--,Yo(e)}class Kh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ku,this.onMicrotaskEmpty=new ku,this.onStable=new ku,this.onError=new ku}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Gv(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class eo{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Lg(t);for(;r&&Lg(r);)r=Lg(r);return r||null}}const jI=new Lr("",{providedIn:"root",factory:()=>{const e=dr(Go),t=dr(eo);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function _0(){return qd(cn(),ue())}function qd(e,t){return new Xh(fs(e,t))}let Xh=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=_0,t})();function Xv(e){return e instanceof Xh?e.nativeElement:e}function WI(){return this._results[Symbol.iterator]()}class jg{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new ku}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=jg.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=WI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function bs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function _u(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],h=t[o];if(r&&(a=r(a),h=r(h)),h!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function cu(e){return!(128&~e.flags)}const Ic=new Map;let tp=0;function rp(e){Ic.delete(e[nl])}const Dd="__ngContext__";function na(e,t){go(t)?(e[Dd]=t[nl],function E0(e){Ic.set(e[nl],e)}(t)):e[Dd]=t}function Yh(e){return Qd(e[io])}function Kg(e){return Qd(e[fa])}function Qd(e){for(;null!==e&&!Bo(e);)e=e[fa];return e}let qg;function S0(e){qg=e}const fp=new Lr("",{providedIn:"root",factory:()=>R0}),R0="ng",Qg=new Lr(""),tf=new Lr("",{providedIn:"platform",factory:()=>"unknown"}),t_=new Lr("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Lu(){if(void 0!==qg)return qg;if(typeof document<"u")return document;throw new ar(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let i_=()=>null;function tm(e,t,r=!1){return i_(e,t,r)}const f_=new Lr("",{providedIn:"root",factory:()=>!1});let am;function um(e){var t;return(null===(t=function __(){if(void 0===am&&(am=null,yo.trustedTypes))try{am=yo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return am}())||void 0===t?void 0:t.createScriptURL(e))||e}class $0{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fo})`}}function n(e){return e instanceof $0?e.changingThisBreaksApplicationSecurity:e}function i(e,t){const r=function s(e){return e instanceof $0&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${fo})`)}return r===t}const an=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ih=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ih||{});function fm(e){const t=df();return t?t.sanitize(ih.URL,e)||"":i(e,"URL")?n(e):function Fn(e){return(e=String(e)).match(an)?e:"unsafe:"+e}(Gr(e))}function cf(e){const t=df();if(t)return um(t.sanitize(ih.RESOURCE_URL,e)||"");if(i(e,"ResourceURL"))return um(n(e));throw new ar(904,!1)}function Cp(e,t,r){return function mm(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?cf:fm}(t,r)(e)}function df(){const e=ue();return e&&e[Zs].sanitizer}const I_=/^>|^->|<!--|-->|--!>|<!-$/g,C_=/(<|>)/g,vm="\u200b$1\u200b";function Dl(e){return e instanceof Function?e():e}var wp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(wp||{});let wm;function lh(e,t){return wm(e,t)}function ed(e,t,r,o,a){if(null!=o){let h,v=!1;Bo(o)?h=o:go(o)&&(v=!0,o=o[Ao]);const A=Ki(o);0===e&&null!==r?null==a?Mp(t,r,A):nd(t,r,A,a||null,!0):1===e&&null!==r?nd(t,r,A,a||null,!0):2===e?function dh(e,t,r){e.removeChild(null,t,r)}(t,A,v):3===e&&t.destroyNode(A),null!=h&&function x_(e,t,r,o,a){const h=r[ta];h!==Ki(r)&&ed(t,e,o,h,a);for(let A=Wi;A<r.length;A++){const D=r[A];rd(D[tr],D,e,t,o,h)}}(t,e,h,r,a)}}function Sp(e,t){return e.createComment(function _m(e){return e.replace(I_,t=>t.replace(C_,vm))}(t))}function pf(e,t,r){return e.createElement(t,r)}function Pm(e,t){var r;null===(r=t[Zs].changeDetectionScheduler)||void 0===r||r.notify(9),rd(e,t,t[ii],2,null,null)}function gf(e,t){const r=e[Ru],o=t[uo];(go(o)||t[To]!==o[uo][To])&&(e[Fr]|=Pu.HasTransplantedViews),null===r?e[Ru]=[t]:r.push(t)}function Rp(e,t){const r=e[Ru],o=r.indexOf(t);r.splice(o,1)}function Sd(e,t){if(e.length<=Wi)return;const r=Wi+t,o=e[r];if(o){const a=o[Jl];null!==a&&a!==e&&Rp(a,o),t>0&&(e[r-1][fa]=o[fa]);const h=Hu(e,Wi+t);!function Sm(e,t){Pm(e,t),t[Ao]=null,t[ds]=null}(o[tr],o);const v=h[La];null!==v&&v.detachView(h[tr]),o[uo]=null,o[fa]=null,o[Fr]&=-129}return o}function td(e,t){if(!(256&t[Fr])){const r=t[ii];r.destroyNode&&rd(e,t,r,3,null,null),function S_(e){let t=e[io];if(!t)return Dc(e[tr],e);for(;t;){let r=null;if(go(t))r=t[io];else{const o=t[Wi];o&&(r=o)}if(!r){for(;t&&!t[fa]&&t!==e;)go(t)&&Dc(t[tr],t),t=t[uo];null===t&&(t=e),go(t)&&Dc(t[tr],t),r=t&&t[fa]}t=r}}(t)}}function Dc(e,t){if(256&t[Fr])return;const r=Pe(null);try{t[Fr]&=-129,t[Fr]|=256,t[ea]&&Tt(t[ea]),function J0(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof xh)){const h=r[o+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const A=a[h[v]],D=h[v+1];il(4,A,D);try{D.call(A)}finally{il(5,A,D)}}else{il(4,a,h);try{h.call(a)}finally{il(5,a,h)}}}}}(e,t),function Mm(e,t){const r=e.cleanup,o=t[ws];if(null!==r)for(let h=0;h<r.length-1;h+=2)if("string"==typeof r[h]){const v=r[h+3];v>=0?o[v]():o[-v].unsubscribe(),h+=2}else r[h].call(o[r[h+1]]);null!==o&&(t[ws]=null);const a=t[Cl];if(null!==a){t[Cl]=null;for(let h=0;h<a.length;h++)(0,a[h])()}}(e,t),1===t[tr].type&&t[ii].destroy();const o=t[Jl];if(null!==o&&Bo(t[uo])){o!==t[uo]&&Rp(o,t);const a=t[La];null!==a&&a.detachView(e)}rp(t)}finally{Pe(r)}}function Pp(e,t,r){return function Nm(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Ao];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:h}=e.data[o.directiveStart+a];if(h===Qs.None||h===Qs.Emulated)return null}return fs(o,r)}}(e,t.parent,r)}function nd(e,t,r,o,a){e.insertBefore(t,r,o,a)}function Mp(e,t,r){e.appendChild(t,r)}function Np(e,t,r,o,a){null!==o?nd(e,t,r,o,a):Mp(e,t,r)}function Op(e,t){return e.parentNode(t)}function P_(e,t,r){return Om(e,t,r)}let xp,Om=function M_(e,t,r){return 40&e.type?fs(e,r):null};function sc(e,t,r,o){const a=Pp(e,o,t),h=t[ii],A=P_(o.parent||t[ds],o,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)Np(h,a,r[D],A,!1);else Np(h,a,r,A,!1);void 0!==xp&&xp(h,o,t,r,a)}function al(e,t){if(null!==t){const r=t.type;if(3&r)return fs(t,e);if(4&r)return ch(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return al(e,o);{const a=e[t.index];return Bo(a)?ch(-1,a):Ki(a)}}if(128&r)return al(e,t.next);if(32&r)return lh(t,e)()||Ki(e[t.index]);{const o=mf(e,t);return null!==o?Array.isArray(o)?o[0]:al(Mu(e[To]),o):al(e,t.next)}}return null}function mf(e,t){return null!==t?e[To][ds].projection[t.projection]:null}function ch(e,t){const r=Wi+e+1;if(r<t.length){const o=t[r],a=o[tr].firstChild;if(null!==a)return al(o,a)}return t[ta]}function hh(e,t,r,o,a,h,v){for(;null!=r;){if(128===r.type){r=r.next;continue}const A=o[r.index],D=r.type;if(v&&0===t&&(A&&na(Ki(A),o),r.flags|=2),32&~r.flags)if(8&D)hh(e,t,r.child,o,a,h,!1),ed(t,e,a,A,h);else if(32&D){const H=lh(r,o);let te;for(;te=H();)ed(t,e,a,te,h);ed(t,e,a,A,h)}else 16&D?O_(e,t,o,r,a,h):ed(t,e,a,A,h);r=v?r.projectionNext:r.next}}function rd(e,t,r,o,a,h){hh(r,o,e.firstChild,t,a,h,!1)}function O_(e,t,r,o,a,h){const v=r[To],D=v[ds].projection[o.projection];if(Array.isArray(D))for(let H=0;H<D.length;H++)ed(t,e,a,D[H],h);else{let H=D;const te=v[uo];cu(o)&&(H.flags|=128),hh(e,t,H,te,a,h,!0)}}function k_(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function L_(e,t,r){const{mergedAttrs:o,classes:a,styles:h}=r;null!==o&&fl(e,t,o),null!==a&&k_(e,t,a),null!==h&&function eE(e,t,r){e.setAttribute(t,"style",r)}(e,t,h)}const vi={};function wc(e=1){xm(et(),ue(),zs()+e,!1)}function xm(e,t,r,o){if(!o)if(3&~t[Fr]){const h=e.preOrderHooks;null!==h&&Hd(t,h,0,r)}else{const h=e.preOrderCheckHooks;null!==h&&Oh(t,h,r)}Id(r)}function Rd(e,t=Cn.Default){const r=ue();return null===r?oi(e,t):Gf(cn(),r,Wr(e),t)}function km(){throw new Error("invalid")}function Pd(e,t,r,o,a,h){const v=Pe(null);try{let A=null;a&$s.SignalBased&&(A=t[o][ce]),null!==A&&void 0!==A.transformFn&&(h=A.transformFn(h)),a&$s.HasDecoratorInputTransform&&(h=e.inputTransforms[o].call(t,h)),null!==e.setInput?e.setInput(t,A,h,r,o):hn(t,A,o,h)}finally{Pe(v)}}function kp(e,t,r,o,a,h,v,A,D,H,te){const Ce=t.blueprint.slice();return Ce[Ao]=a,Ce[Fr]=204|o,(null!==H||e&&2048&e[Fr])&&(Ce[Fr]|=2048),su(Ce),Ce[uo]=Ce[wu]=e,Ce[Eo]=r,Ce[Zs]=v||e&&e[Zs],Ce[ii]=A||e&&e[ii],Ce[$o]=D||e&&e[$o]||null,Ce[ds]=h,Ce[nl]=function np(){return tp++}(),Ce[Qo]=te,Ce[pc]=H,Ce[To]=2==t.type?e[To]:Ce,Ce}function Md(e,t,r,o,a){let h=e.data[t];if(null===h)h=function ac(e,t,r,o,a){const h=Un(),v=Fi(),D=e.data[t]=function j_(e,t,r,o,a,h){let v=t?t.injectorIndex:-1,A=0;return d()&&(A|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:a,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=D),null!==h&&(v?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(e,t,r,o,a),function Xy(){return ci.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=r,h.value=o,h.attrs=a;const v=function Cr(){const e=ci.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Rr(h,!0),h}function _f(e,t,r,o){if(0===r)return-1;const a=t.length;for(let h=0;h<r;h++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function F_(e,t,r,o,a){const h=zs(),v=2&o;try{Id(-1),v&&t.length>xr&&xm(e,t,xr,!1),il(v?2:0,a),r(o,a)}finally{Id(h),il(v?3:1,a)}}function Nd(e,t,r){if(hs(t)){const o=Pe(null);try{const h=t.directiveEnd;for(let v=t.directiveStart;v<h;v++){const A=e.data[v];A.contentQueries&&A.contentQueries(1,r[v],v)}}finally{Pe(o)}}}function fh(e,t,r){g()&&(function G_(e,t,r,o){const a=r.directiveStart,h=r.directiveEnd;pa(r)&&function Y_(e,t,r){const o=fs(t,e),a=ph(r);let v=16;r.signals?v=4096:r.onPush&&(v=64);const A=Ha(e,kp(e,a,null,v,o,t,null,e[Zs].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=A}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||Wd(r,t),na(o,t);const v=r.initialInputs;for(let A=a;A<h;A++){const D=e.data[A],H=uu(t,e,A,r);na(H,t),null!==v&&J_(0,A-a,H,D,0,v),rl(D)&&(ps(r.index,t)[Eo]=uu(t,e,A,r))}}(e,t,r,fs(r,t)),!(64&~r.flags)&&mh(e,t,r))}function Lp(e,t,r=fs){const o=t.localNames;if(null!==o){let a=t.index+1;for(let h=0;h<o.length;h+=2){const v=o[h+1],A=-1===v?r(t,e):e[v];e[a++]=A}}}function ph(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Od(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Od(e,t,r,o,a,h,v,A,D,H,te){const Ce=xr+o,lt=Ce+a,yt=function V_(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:vi);return r}(Ce,lt),pt="function"==typeof H?H():H;return yt[tr]={type:e,blueprint:yt,template:r,queries:null,viewQuery:A,declTNode:t,data:yt.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:pt,incompleteFirstPass:!1,ssrId:te}}let U_=()=>null;function yf(e,t,r,o,a){for(let v in t){var h;if(!t.hasOwnProperty(v))continue;const A=t[v];if(void 0===A)continue;null!==(h=o)&&void 0!==h||(o={});let D,H=$s.None;Array.isArray(A)?(D=A[0],H=A[1]):D=A;let te=v;if(null!==a){if(!a.hasOwnProperty(v))continue;te=a[v]}0===e?Fm(o,r,te,D,H):Fm(o,r,te,D)}return o}function Fm(e,t,r,o,a){let h;e.hasOwnProperty(r)?(h=e[r]).push(t,o):h=e[r]=[t,o],void 0!==a&&h.push(a)}function gh(e,t,r,o){if(g()){const a=null===o?null:{"":-1},h=function X_(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let v=0;v<r.length;v++){const A=r[v];if(Oa(t,A.selectors,!1))if(o||(o=[]),rl(A))if(null!==A.findHostDirectiveDefs){const D=[];a=a||new Map,A.findHostDirectiveDefs(A,D,a),o.unshift(...D,A),If(e,t,D.length)}else o.unshift(A),If(e,t,0);else{var h;a=a||new Map,null===(h=A.findHostDirectiveDefs)||void 0===h||h.call(A,A,o,a),o.push(A)}}return null===o?null:[o,a]}(e,r);let v,A;null===h?v=A=null:[v,A]=h,null!==v&&Vm(e,t,r,v,a,A),a&&function Um(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const h=r[t[a+1]];if(null==h)throw new ar(-301,!1);o.push(t[a],h)}}}(r,o,a)}r.mergedAttrs=pl(r.mergedAttrs,r.attrs)}function Vm(e,t,r,o,a,h){for(let Ce=0;Ce<o.length;Ce++)Pg(Wd(r,t),e,o[Ce].type);!function Vp(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let Ce=0;Ce<o.length;Ce++){const lt=o[Ce];lt.providersResolver&&lt.providersResolver(lt)}let v=!1,A=!1,D=_f(e,t,o.length,null);for(let Ce=0;Ce<o.length;Ce++){const lt=o[Ce];r.mergedAttrs=pl(r.mergedAttrs,lt.hostAttrs),Q_(e,r,t,D,lt),q_(D,lt,a),null!==lt.contentQueries&&(r.flags|=4),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(r.flags|=64);const yt=lt.type.prototype;var H,te;!v&&(yt.ngOnChanges||yt.ngOnInit||yt.ngDoCheck)&&((null!==(H=e.preOrderHooks)&&void 0!==H?H:e.preOrderHooks=[]).push(r.index),v=!0),A||!yt.ngOnChanges&&!yt.ngDoCheck||((null!==(te=e.preOrderCheckHooks)&&void 0!==te?te:e.preOrderCheckHooks=[]).push(r.index),A=!0),D++}!function Sc(e,t,r){const a=t.directiveEnd,h=e.data,v=t.attrs,A=[];let D=null,H=null;for(let te=t.directiveStart;te<a;te++){const Ce=h[te],lt=r?r.get(Ce):null,pt=lt?lt.outputs:null;D=yf(0,Ce.inputs,te,D,lt?lt.inputs:null),H=yf(1,Ce.outputs,te,H,pt);const _n=null===D||null===v||ha(t)?null:Z_(D,te,v);A.push(_n)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=8),D.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=A,t.inputs=D,t.outputs=H}(e,r,h)}function mh(e,t,r){const o=r.directiveStart,a=r.directiveEnd,h=r.index,v=function pg(){return ci.lFrame.currentDirectiveIndex}();try{Id(h);for(let A=o;A<a;A++){const D=e.data[A],H=t[A];kf(A),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&K_(D,H)}}finally{Id(-1),kf(v)}}function K_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function If(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function q_(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;rl(t)&&(r[""]=e)}}function Q_(e,t,r,o,a){e.data[o]=a;const h=a.factory||(a.factory=Na(a.type)),v=new xh(h,rl(a),Rd);e.blueprint[o]=v,r[o]=v,function Fp(e,t,r,o,a){const h=a.hostBindings;if(h){let v=e.hostBindingOpCodes;null===v&&(v=e.hostBindingOpCodes=[]);const A=~t.index;(function rE(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(v)!=A&&v.push(A),v.push(r,o,h)}}(e,t,o,_f(e,r,a.hostVars,vi),a)}function za(e,t,r,o,a,h){const v=fs(e,t);!function Up(e,t,r,o,a,h,v){if(null==h)e.removeAttribute(t,a,r);else{const A=null==v?Gr(h):v(h,o||"",a);e.setAttribute(t,a,A,r)}}(t[ii],v,h,e.value,r,o,a)}function J_(e,t,r,o,a,h){const v=h[t];if(null!==v)for(let A=0;A<v.length;)Pd(o,r,v[A++],v[A++],v[A++],v[A++])}function Z_(e,t,r){let o=null,a=0;for(;a<r.length;){const h=r[a];if(0!==h)if(5!==h){if("number"==typeof h)break;if(e.hasOwnProperty(h)){null===o&&(o=[]);const v=e[h];for(let A=0;A<v.length;A+=3)if(v[A]===t){o.push(h,v[A+1],v[A+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function $m(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function Cf(e,t){const r=e.contentQueries;if(null!==r){const o=Pe(null);try{for(let a=0;a<r.length;a+=2){const v=r[a+1];if(-1!==v){const A=e.data[v];Mh(r[a]),A.contentQueries(2,t[v],v)}}}finally{Pe(o)}}}function Ha(e,t){return e[io]?e[Fd][fa]=t:e[io]=t,e[Fd]=t,t}function $p(e,t,r){Mh(0);const o=Pe(null);try{t(e,r)}finally{Pe(o)}}function xd(e){var t;return null!==(t=e[ws])&&void 0!==t?t:e[ws]=[]}function I(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function oe(e,t){const r=e[$o],o=r?r.get(eo,null):null;o&&o.handleError(t)}function ze(e,t,r,o,a){for(let h=0;h<r.length;){const v=r[h++],A=r[h++],D=r[h++];Pd(e.data[v],t[v],o,A,D,a)}}function Sn(e,t){const r=ps(t,e),o=r[tr];!function vr(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Ao];null!==a&&null===r[Qo]&&(r[Qo]=tm(a,r[$o])),bo(o,r,r[Eo])}function bo(e,t,r){Lf(t);try{var o;const a=e.viewQuery;null!==a&&$p(1,a,r);const h=e.template;null!==h&&F_(e,t,h,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[La])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&Cf(e,t),e.staticViewQueries&&$p(2,e.viewQuery,r);const v=e.components;null!==v&&function Ea(e,t){for(let r=0;r<t.length;r++)Sn(e,t[r])}(t,v)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[Fr]&=-5,yg()}}function Ji(e,t,r,o){const a=Pe(null);try{var h,v,A;const D=t.tView,Ce=kp(e,D,r,4096&e[Fr]?4096:16,null,t,null,null,null!==(h=null==o?void 0:o.injector)&&void 0!==h?h:null,null!==(v=null==o?void 0:o.embeddedViewInjector)&&void 0!==v?v:null,null!==(A=null==o?void 0:o.dehydratedView)&&void 0!==A?A:null);Ce[Jl]=e[t.index];const yt=e[La];return null!==yt&&(Ce[La]=yt.createEmbeddedView(D)),bo(D,Ce,r),Ce}finally{Pe(a)}}function vs(e,t){return!t||null===t.firstChild||cu(e)}function Uu(e,t,r,o=!0){const a=t[tr];if(function Y0(e,t,r,o){const a=Wi+o,h=r.length;o>0&&(r[a-1][fa]=t),o<h-Wi?(t[fa]=r[a],is(r,Wi+o,t)):(r.push(t),t[fa]=null),t[uo]=r;const v=t[Jl];null!==v&&r!==v&&gf(v,t);const A=t[La];null!==A&&A.insertView(e),Bd(t),t[Fr]|=128}(a,t,e,r),o){const v=ch(r,e),A=t[ii],D=Op(A,e[ta]);null!==D&&function Rm(e,t,r,o,a,h){o[Ao]=a,o[ds]=t,rd(e,o,r,1,a,h)}(a,e[ds],A,t,D,v)}const h=t[Qo];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function id(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const h=t[r.index];null!==h&&o.push(Ki(h)),Bo(h)&&Bp(h,o);const v=r.type;if(8&v)id(e,t,r.child,o);else if(32&v){const A=lh(r,t);let D;for(;D=A();)o.push(D)}else if(16&v){const A=mf(t,r);if(Array.isArray(A))o.push(...A);else{const D=Mu(t[To]);id(D[tr],D,A,o,!0)}}r=a?r.projectionNext:r.next}return o}function Bp(e,t){for(let r=Wi;r<e.length;r++){const o=e[r],a=o[tr].firstChild;null!==a&&id(o[tr],o,a,t)}e[ta]!==e[Ao]&&t.push(e[ta])}let tC=[];const fw={...Ve,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Gc(e.lView)},consumerOnSignalRead(){this.lView[ea]=this}},gw={...Ve,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Mu(e.lView);for(;t&&!nC(t[tr]);)t=Mu(t);t&&wh(t)},consumerOnSignalRead(){this.lView[ea]=this}};function nC(e){return 2!==e.type}const mw=100;function ey(e,t=!0,r=0){const o=e[Zs],a=o.rendererFactory;var v;null===(v=a.begin)||void 0===v||v.call(a);try{!function vw(e,t){const r=bv();try{Dv(!0),oE(e,t);let o=0;for(;Wc(e);){if(o===mw)throw new ar(103,!1);o++,oE(e,1)}}finally{Dv(r)}}(e,r)}catch(H){throw t&&oe(e,H),H}finally{var A,D;null===(A=a.end)||void 0===A||A.call(a),null===(D=o.inlineEffectRunner)||void 0===D||D.flush()}}function _w(e,t,r,o){var a;const h=t[Fr];if(!(256&~h))return;null===(a=t[Zs].inlineEffectRunner)||void 0===a||a.flush(),Lf(t);let D=!0,H=null,te=null;nC(e)?(te=function cw(e){var t;return null!==(t=e[ea])&&void 0!==t?t:function dw(e){var t;const r=null!==(t=tC.pop())&&void 0!==t?t:Object.create(fw);return r.lView=e,r}(e)}(t),H=mt(te)):null===function ke(){return p}()?(D=!1,te=function pw(e){var t;const r=null!==(t=e[ea])&&void 0!==t?t:Object.create(gw);return r.lView=e,r}(t),H=mt(te)):t[ea]&&(Tt(t[ea]),t[ea]=null);try{su(t),function xf(e){return ci.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&F_(e,t,r,2,o);const Ce=!(3&~h);if(Ce){const pt=e.preOrderCheckHooks;null!==pt&&Oh(t,pt,null)}else{const pt=e.preOrderHooks;null!==pt&&Hd(t,pt,0,null),Vf(t,0)}if(function yw(e){for(let t=Yh(e);null!==t;t=Kg(t)){if(!(t[Fr]&Pu.HasTransplantedViews))continue;const r=t[Ru];for(let o=0;o<r.length;o++)wh(r[o])}}(t),iC(t,0),null!==e.contentQueries&&Cf(e,t),Ce){const pt=e.contentCheckHooks;null!==pt&&Oh(t,pt)}else{const pt=e.contentHooks;null!==pt&&Hd(t,pt,1),Vf(t,1)}!function tE(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Id(~a);else{const h=a,v=r[++o],A=r[++o];fg(v,h),A(2,t[h])}}}finally{Id(-1)}}(e,t);const lt=e.components;null!==lt&&sC(t,lt,0);const yt=e.viewQuery;if(null!==yt&&$p(2,yt,o),Ce){const pt=e.viewCheckHooks;null!==pt&&Oh(t,pt)}else{const pt=e.viewHooks;null!==pt&&Hd(t,pt,2),Vf(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Zl]){for(const pt of t[Zl])pt();t[Zl]=null}t[Fr]&=-73}catch(Ce){throw Gc(t),Ce}finally{null!==te&&(ft(te,H),D&&function hw(e){e.lView[ea]!==e&&(e.lView=null,tC.push(e))}(te)),yg()}}function iC(e,t){for(let r=Yh(e);null!==r;r=Kg(r))for(let o=Wi;o<r.length;o++)oC(r[o],t)}function Ew(e,t,r){oC(ps(t,e),r)}function oC(e,t){$d(e)&&oE(e,t)}function oE(e,t){const o=e[tr],a=e[Fr],h=e[ea];let v=!!(0===t&&16&a);if(v||(v=!!(64&a&&0===t)),v||(v=!!(1024&a)),v||(v=!(null==h||!h.dirty||!Ot(h))),v||(v=!1),h&&(h.dirty=!1),e[Fr]&=-9217,v)_w(o,e,o.template,e[Eo]);else if(8192&a){iC(e,1);const A=o.components;null!==A&&sC(e,A,1)}}function sC(e,t,r){for(let o=0;o<t.length;o++)Ew(e,t[o],r)}function Bm(e,t){var r;const o=bv()?64:1088;for(null===(r=e[Zs].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[Fr]|=o;const a=Mu(e);if(ga(e)&&!a)return e;e=a}return null}class jm{get rootNodes(){const t=this._lView,r=t[tr];return id(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Eo]}set context(t){this._lView[Eo]=t}get destroyed(){return!(256&~this._lView[Fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[uo];if(Bo(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Sd(t,o),Hu(r,o))}this._attachedToViewContainer=!1}td(this._lView[tr],this._lView)}onDestroy(t){jd(this._lView,t)}markForCheck(){Bm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Fr]&=-129}reattach(){Bd(this._lView),this._lView[Fr]|=128}detectChanges(){this._lView[Fr]|=1024,ey(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ar(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=ga(this._lView),r=this._lView[Jl];null!==r&&!t&&Rp(r,this._lView),Pm(this._lView[tr],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ar(902,!1);this._appRef=t;const r=ga(this._lView),o=this._lView[Jl];null!==o&&!r&&gf(o,this._lView),Bd(this._lView)}}let zm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aw,t})();const Iw=zm,Cw=class extends Iw{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=Ji(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new jm(a)}};function Aw(){return ty(cn(),ue())}function ty(e,t){return 4&e.type?new Cw(t,e,qd(e,t)):null}let wC=()=>null;function Tf(e,t){return wC(e,t)}class zp{}const Ym=new Lr("",{providedIn:"root",factory:()=>!1}),SC=new Lr(""),mE=new Lr("");class gS{}class RC{}class vS{resolveComponentFactory(t){throw function mS(e){const t=Error(`No component factory found for ${Di(e)}.`);return t.ngComponent=e,t}(t)}}class Jm{}Jm.NULL=new vS;class vE{}let _S=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function yS(){const e=ue(),r=ps(cn().index,e);return(go(r)?r:e)[ii]}(),t})(),ES=(()=>{var e;class t{}return(e=t).\u0275prov=Ur({token:e,providedIn:"root",factory:()=>null}),t})();function vh(e){return!!so(e)}function ly(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,h=0;if(null!==t)for(let v=0;v<t.length;v++){const A=t[v];"number"==typeof A?h=A:1==h?a=Ro(a,A):2==h&&(o=Ro(o,A+": "+t[++v]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class OC extends Jm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Yr(t);return new tv(r,this.ngModule)}}function xC(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const h=Array.isArray(a),v=h?a[0]:a;r.push(t?{propName:v,templateName:o,isSignal:!!((h?a[1]:$s.None)&$s.SignalBased)}:{propName:v,templateName:o})}return r}class tv extends RC{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=xC(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return xC(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function xe(e){return e.map(De).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const h=Pe(null);try{var A;let D=(a=a||this.ngModule)instanceof js?a:null===(A=a)||void 0===A?void 0:A.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const H=D?new Cd(t,D):t,te=H.get(vE,null);if(null===te)throw new ar(407,!1);const yt={rendererFactory:te,sanitizer:H.get(ES,null),inlineEffectRunner:null,changeDetectionScheduler:H.get(zp,null)},pt=te.createRenderer(null,this.componentDef),_n=this.componentDef.selectors[0][0]||"div",$n=o?function Lm(e,t,r,o){const h=o.get(f_,!1)||r===Qs.ShadowDom,v=e.selectRootElement(t,h);return function ms(e){U_(e)}(v),v}(pt,o,this.componentDef.encapsulation,H):pf(pt,_n,function AS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(_n));let er=512;this.componentDef.signals?er|=4096:this.componentDef.onPush||(er|=16);let Pn=null;null!==$n&&(Pn=tm($n,H,!0));const di=Od(0,null,null,1,0,null,null,null,null,null,null),Ei=kp(null,di,null,er,null,null,yt,pt,H,null,Pn);Lf(Ei);let zo,Ta,Rl=null;try{const Bu=this.componentDef;let Mf,$I=null;Bu.findHostDirectiveDefs?(Mf=[],$I=new Map,Bu.findHostDirectiveDefs(Bu,Mf,$I),Mf.push(Bu)):Mf=[Bu];const qx=function bS(e,t){const r=e[tr],o=xr;return e[o]=t,Md(r,o,2,"#host",null)}(Ei,$n);Rl=function DS(e,t,r,o,a,h,v){const A=a[tr];!function wS(e,t,r,o){for(const a of e)t.mergedAttrs=pl(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(ly(t,t.mergedAttrs,!0),null!==r&&L_(o,r,t))}(o,e,t,v);let D=null;null!==t&&(D=tm(t,a[$o]));const H=h.rendererFactory.createRenderer(t,r);let te=16;r.signals?te=4096:r.onPush&&(te=64);const Ce=kp(a,ph(r),null,te,a[e.index],e,h,H,null,null,D);return A.firstCreatePass&&If(A,e,o.length-1),Ha(a,Ce),a[e.index]=Ce}(qx,$n,Bu,Mf,Ei,yt,pt),Ta=Al(di,xr),$n&&function RS(e,t,r,o){if(o)fl(e,r,["ng-version","18.2.2"]);else{const{attrs:a,classes:h}=function Gt(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let h=e[o];if("string"==typeof h)2===a?""!==h&&t.push(h,e[++o]):8===a&&r.push(h);else{if(!cs(a))break;a=h}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&fl(e,r,a),h&&h.length>0&&k_(e,r,h.join(" "))}}(pt,Bu,$n,o),void 0!==r&&function PS(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const h=r[a];o.push(null!=h?Array.from(h):null)}}(Ta,this.ngContentSelectors,r),zo=function SS(e,t,r,o,a,h){const v=cn(),A=a[tr],D=fs(v,a);Vm(A,a,v,r,null,o);for(let te=0;te<r.length;te++)na(uu(a,A,v.directiveStart+te,v),a);mh(A,a,v),D&&na(D,a);const H=uu(a,A,v.directiveStart+v.componentOffset,v);if(e[Eo]=a[Eo]=H,null!==h)for(const te of h)te(H,t);return Nd(A,v,a),H}(Rl,Bu,Mf,$I,Ei,[MS]),bo(di,Ei,null)}catch(Bu){throw null!==Rl&&rp(Rl),rp(Ei),Bu}finally{yg()}return new TS(this.componentType,zo,qd(Ta,Ei),Ei,Ta)}finally{Pe(h)}}}class TS extends gS{constructor(t,r,o,a,h){super(),this.location=o,this._rootLView=a,this._tNode=h,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new jm(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const v=this._rootLView;ze(v[tr],v,a,t,r),this.previousInputValues.set(t,r),Bm(ps(this._tNode.index,v),1)}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function MS(){const e=cn();zd(ue()[tr],e)}let uy=(()=>{class t{}return t.__NG_ELEMENT_ID__=NS,t})();function NS(){return FC(cn(),ue())}const OS=uy,kC=class extends OS{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Uh(this._hostTNode,this._hostLView);if(Fh(t)){const r=Vh(t,this._hostLView),o=Fl(t);return new gs(r[tr].data[o+8],r)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=LC(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(t,r,o){let a,h;"number"==typeof o?a=o:null!=o&&(a=o.index,h=o.injector);const v=Tf(this._lContainer,t.ssrId),A=t.createEmbeddedViewImpl(r||{},h,v);return this.insertImpl(A,a,vs(this._hostTNode,v)),A}createComponent(t,r,o,a,h){var v,A,D;const H=t&&!function fc(e){return"function"==typeof e}(t);let te;if(H)te=r;else{const er=r||{};te=er.index,o=er.injector,a=er.projectableNodes,h=er.environmentInjector||er.ngModuleRef}const Ce=H?t:new tv(Yr(t)),lt=o||this.parentInjector;if(!h&&null==Ce.ngModule){const Pn=(H?lt:this.parentInjector).get(js,null);Pn&&(h=Pn)}const yt=Yr(null!==(v=Ce.componentType)&&void 0!==v?v:{}),pt=Tf(this._lContainer,null!==(A=null==yt?void 0:yt.id)&&void 0!==A?A:null),_n=null!==(D=null==pt?void 0:pt.firstChild)&&void 0!==D?D:null,$n=Ce.create(lt,a,_n,h);return this.insertImpl($n.hostView,te,vs(this._hostTNode,pt)),$n}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Dh(e){return Bo(e[uo])}(a)){const A=this.indexOf(t);if(-1!==A)this.detach(A);else{const D=a[uo],H=new kC(D,D[ds],D[uo]);H.detach(H.indexOf(t))}}const h=this._adjustIndex(r),v=this._lContainer;return Uu(v,a,h,o),t.attachToViewContainerRef(),is(EE(v),h,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=LC(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Sd(this._lContainer,r);o&&(Hu(EE(this._lContainer),r),td(o[tr],o))}detach(t){const r=this._adjustIndex(t,-1),o=Sd(this._lContainer,r);return o&&null!=Hu(EE(this._lContainer),r)?new jm(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function LC(e){return e[8]}function EE(e){return e[8]||(e[8]=[])}function FC(e,t){let r;const o=t[e.index];return Bo(o)?r=o:(r=$m(o,t,null,e),t[e.index]=r,Ha(t,r)),VC(r,t,e,o),new kC(r,e,t)}let VC=function $C(e,t,r,o){if(e[ta])return;let a;a=8&r.type?Ki(o):function xS(e,t){const r=e[ii],o=r.createComment(""),a=fs(t,e);return nd(r,Op(r,a),o,function R_(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[ta]=a},IE=()=>!1;class CE{constructor(t){this.queryList=t,this.matches=null}clone(){return new CE(this.queryList)}setDirty(){this.queryList.setDirty()}}class AE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let h=0;h<o;h++){const v=r.getByIndex(h);a.push(this.queries[v.indexInDeclarationView].clone())}return new AE(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==SE(t,r).matches&&this.queries[r].setDirty()}}class BC{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function jS(e){return e.split(",").map(t=>t.trim())}(t):t}}class TE{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,h=this.getByIndex(o).embeddedTView(t,a);h&&(h.indexInDeclarationView=o,null!==r?r.push(h):r=[h])}return null!==r?new TE(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bE{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new bE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const h=o[a];this.matchTNodeWithReadOption(t,r,VS(r,h)),this.matchTNodeWithReadOption(t,r,Kf(r,t,h,!1,!1))}else o===zm?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Kf(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Xh||a===uy||a===zm&&4&r.type)this.addMatch(r.index,-2);else{const h=Kf(r,t,a,!1,!1);null!==h&&this.addMatch(r.index,h)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function VS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function $S(e,t,r,o){return-1===r?function US(e,t){return 11&e.type?qd(e,t):4&e.type?ty(e,t):null}(t,e):-2===r?function BS(e,t,r){return r===Xh?qd(t,e):r===zm?ty(t,e):r===uy?FC(t,e):void 0}(e,t,o):uu(e,e[tr],r,t)}function jC(e,t,r,o){const a=t[La].queries[o];if(null===a.matches){const h=e.data,v=r.matches,A=[];for(let D=0;null!==v&&D<v.length;D+=2){const H=v[D];A.push(H<0?null:$S(t,h[H],v[D+1],r.metadata.read))}a.matches=A}return a.matches}function DE(e,t,r,o){const a=e.queries.getByIndex(r),h=a.matches;if(null!==h){const v=jC(e,t,a,r);for(let A=0;A<h.length;A+=2){const D=h[A];if(D>0)o.push(v[A/2]);else{const H=h[A+1],te=t[-D];for(let Ce=Wi;Ce<te.length;Ce++){const lt=te[Ce];lt[Jl]===lt[uo]&&DE(lt[tr],lt,H,o)}if(null!==te[Ru]){const Ce=te[Ru];for(let lt=0;lt<Ce.length;lt++){const yt=Ce[lt];DE(yt[tr],yt,H,o)}}}}}return o}function zC(e,t,r){var o;const a=new jg(!(4&~r));return function B_(e,t,r,o){const a=xd(t);a.push(r),e.firstCreatePass&&I(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[La])&&void 0!==o?o:t[La]=new AE).queries.push(new CE(a))-1}function GC(e,t,r){null===e.queries&&(e.queries=new TE),e.queries.track(new bE(t,r))}function SE(e,t){return e.queries.getByIndex(t)}function KC(e,t){const r=e[tr],o=SE(r,t);return o.crossesNgTemplate?DE(r,e,t,[]):jC(r,e,o,t)}const XC=new Set;function Ul(e){var t,r;XC.has(e)||(XC.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function QC(e,t){Ul("NgSignals");const r=function Se(e){const t=Object.create(Vt);t.value=e;const r=()=>(me(t),t.value);return r[ce]=t,r}(e),o=r[ce];return null!=t&&t.equal&&(o.equal=t.equal),r.set=a=>Ke(o,a),r.update=a=>function it(e,t){ut()||Ze(),Ke(e,t(e.value))}(o,a),r.asReadonly=YC.bind(r),r}function YC(){const e=this[ce];if(void 0===e.readonlyFn){const t=()=>this();t[ce]=e,e.readonlyFn=t}return e.readonlyFn}function PE(e){let t=function uA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(rl(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ar(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const v=e;v.inputs=dy(e.inputs),v.inputTransforms=dy(e.inputTransforms),v.declaredInputs=dy(e.declaredInputs),v.outputs=dy(e.outputs);const A=a.hostBindings;A&&rR(e,A);const D=a.viewQuery,H=a.contentQueries;if(D&&tR(e,D),H&&nR(e,H),ZS(e,a),Da(e.outputs,a.outputs),rl(a)&&a.data.animation){const te=e.data;te.animation=(te.animation||[]).concat(a.data.animation)}}const h=a.features;if(h)for(let v=0;v<h.length;v++){const A=h[v];A&&A.ngInherit&&A(e),A===PE&&(r=!1)}}t=Object.getPrototypeOf(t)}!function eR(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=pl(a.hostAttrs,r=pl(r,a.hostAttrs))}}(o)}function ZS(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const h=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(h))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[h]=t.inputTransforms[h]}}}function dy(e){return e===qo?{}:e===Ri?[]:e}function tR(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function nR(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,h)=>{t(o,a,h),r(o,a,h)}:t}function rR(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function fA(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class bf{}class pA{}function uR(e,t){return new ME(e,null!=t?t:null,[])}class ME extends bf{constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new OC(this);const h=so(t);this._bootstrapComponents=Dl(h.bootstrap),this._r3Injector=jv(t,r,[{provide:bf,useValue:this},{provide:Jm,useValue:this.componentFactoryResolver},...o],Di(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class NE extends pA{constructor(t){super(),this.moduleType=t}create(t){return new ME(this.moduleType,t,[])}}class gA extends bf{constructor(t){super(),this.componentFactoryResolver=new OC(this),this.instance=null;const r=new os([...t.providers,{provide:bf,useValue:this},{provide:Jm,useValue:this.componentFactoryResolver}],t.parent||bu(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function OE(e,t,r=null){return new gA({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function hy(e){return!!xE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function xE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Hs(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function iv(e,t,r,o,a,h,v,A,D,H){const te=r+xr,Ce=t.firstCreatePass?function gR(e,t,r,o,a,h,v,A,D){const H=t.consts,te=Md(t,e,4,v||null,A||null);gh(t,r,te,Va(H,D)),zd(t,te);const Ce=te.tView=Od(2,te,o,a,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,H,null);return null!==t.queries&&(t.queries.template(t,te),Ce.queries=t.queries.embeddedTView(te)),te}(te,t,e,o,a,h,v,A,D):t.data[te];Rr(Ce,!1);const lt=mA(t,e,Ce,r);Nh()&&sc(t,e,lt,Ce),na(lt,e);const yt=$m(lt,e,lt,Ce);return e[te]=yt,Ha(e,yt),function UC(e,t,r){return IE(e,t,r)}(yt,Ce,e),tu(Ce)&&fh(t,e,Ce),null!=D&&Lp(e,Ce,H),Ce}function kE(e,t,r,o,a,h,v,A){const D=ue(),H=et();return iv(D,H,e,t,r,o,a,Va(H.consts,h),v,A),kE}let mA=function vA(e,t,r,o){return au(!0),t[ii].createComment("")};var Kp=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Kp||{});let AA=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=Ur({token:e,providedIn:"root",factory:()=>new e}),t})();class vy{constructor(){this.ngZone=dr(Go),this.scheduler=dr(zp),this.errorHandler=dr(eo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of vy.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(hr=vy).PHASES=[Kp.EarlyRead,Kp.Write,Kp.MixedReadWrite,Kp.Read],hr.\u0275prov=Ur({token:hr,providedIn:"root",factory:()=>new hr});class yR{constructor(t,r,o,a){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function _y(e,t){var r;(null==t||!t.injector)&&function Ju(e){if(!Yl())throw new ar(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:dr($a);return function ya(e){return"browser"===(null!=e?e:dr($a)).get(tf)}(o)?(Ul("NgAfterNextRender"),function TA(e,t,r,o){var a,h;const v=t.get(AA);null!==(a=v.impl)&&void 0!==a||(v.impl=t.get(vy));const A=null!==(h=null==r?void 0:r.phase)&&void 0!==h?h:Kp.MixedReadWrite,D=new yR(v.impl,function IR(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,A),o,t.get(jh));return v.impl.register(D),D}(e,o,t,!0)):bA}const bA={destroy(){}};function GE(e,t,r,o){const a=ue();return Hs(a,Ll(),t)&&(et(),za(Oo(),a,e,t,r,o)),GE}function Iy(e,t){return e<<17|t<<2}function Eh(e){return e>>17&32767}function KE(e){return 2|e}function Sf(e){return(131068&e)>>2}function XE(e,t){return-131069&e|t<<2}function qE(e){return 1|e}function YA(e,t,r,o){const a=e[r+1],h=null===t;let v=o?Eh(a):Sf(a),A=!1;for(;0!==v&&(!1===A||h);){const H=e[v+1];rP(e[v],t)&&(A=!0,e[v+1]=o?qE(H):KE(H)),v=o?Eh(H):Sf(H)}A&&(e[r+1]=o?KE(a):qE(a))}function rP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Hi(e,t)>=0}function QE(e,t,r){const o=ue();return Hs(o,Ll(),t)&&function Sl(e,t,r,o,a,h,v,A){const D=fs(t,r);let te,H=t.inputs;!A&&null!=H&&(te=H[o])?(ze(e,r,te,o,a),pa(t)&&function Ef(e,t){const r=ps(t,e);16&r[Fr]||(r[Fr]|=64)}(r,t.index)):3&t.type&&(o=function z_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=v?v(a,t.value||"",o):a,h.setProperty(D,o,a))}(et(),Oo(),o,e,t,o[ii],r,!1),QE}function YE(e,t,r,o,a){const v=a?"class":"style";ze(e,r,t.inputs[v],v,o)}function JE(e,t){return function Rc(e,t,r,o){const a=ue(),h=et(),v=function Ou(e){const t=ci.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);h.firstUpdatePass&&function sT(e,t,r,o){const a=e.data;if(null===a[r+1]){const h=a[zs()],v=function oT(e,t){return t>=e.expandoStartIndex}(e,r);(function cT(e,t){return!!(e.flags&(t?8:16))})(h,o)&&null===t&&!v&&(t=!1),t=function hP(e,t,r,o){const a=function Ph(e){const t=ci.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=lv(r=ZE(null,e,t,r,o),t.attrs,o),h=null);else{const v=t.directiveStylingLast;if(-1===v||e[v]!==a)if(r=ZE(a,e,t,r,o),null===h){let D=function fP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Sf(o))return e[Eh(o)]}(e,t,o);void 0!==D&&Array.isArray(D)&&(D=ZE(null,e,t,D[1],o),D=lv(D,t.attrs,o),function pP(e,t,r,o){e[Eh(r?t.classBindings:t.styleBindings)]=o}(e,t,o,D))}else h=function gP(e,t,r){let o;const a=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<a;h++)o=lv(o,e[h].hostAttrs,r);return lv(o,t.attrs,r)}(e,t,o)}return void 0!==h&&(o?t.residualClasses=h:t.residualStyles=h),r}(a,h,t,o),function tP(e,t,r,o,a,h){let v=h?t.classBindings:t.styleBindings,A=Eh(v),D=Sf(v);e[o]=r;let te,H=!1;if(Array.isArray(r)?(te=r[1],(null===te||Hi(r,te)>0)&&(H=!0)):te=r,a)if(0!==D){const lt=Eh(e[A+1]);e[o+1]=Iy(lt,A),0!==lt&&(e[lt+1]=XE(e[lt+1],o)),e[A+1]=function ZR(e,t){return 131071&e|t<<17}(e[A+1],o)}else e[o+1]=Iy(A,0),0!==A&&(e[A+1]=XE(e[A+1],o)),A=o;else e[o+1]=Iy(D,0),0===A?A=o:e[D+1]=XE(e[D+1],o),D=o;H&&(e[o+1]=KE(e[o+1])),YA(e,te,o,!0),YA(e,te,o,!1),function nP(e,t,r,o,a){const h=a?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Hi(h,t)>=0&&(r[o+1]=qE(r[o+1]))}(t,te,e,o,h),v=Iy(A,D),h?t.classBindings=v:t.styleBindings=v}(a,h,t,r,v,o)}}(h,e,v,o),t!==vi&&Hs(a,v,t)&&function lT(e,t,r,o,a,h,v,A){if(!(3&t.type))return;const D=e.data,H=D[A+1],te=function eP(e){return!(1&~e)}(H)?uT(D,t,r,a,Sf(H),v):void 0;Cy(te)||(Cy(h)||function JR(e){return!(2&~e)}(H)&&(h=uT(D,null,r,a,A,v)),function Z0(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let h=-1===o.indexOf("-")?void 0:wp.DashCase;null==a?e.removeStyle(r,o,h):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),h|=wp.Important),e.setStyle(r,o,a,h))}}(o,v,ol(zs(),r),a,h))}(h,h.data[zs()],a,a[ii],e,a[v+1]=function yP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Di(n(e)))),e}(t,r),o,v)}(e,t,null,!0),JE}function ZE(e,t,r,o,a){let h=null;const v=r.directiveEnd;let A=r.directiveStylingLast;for(-1===A?A=r.directiveStart:A++;A<v&&(h=t[A],o=lv(o,h.hostAttrs,a),h!==e);)A++;return null!==e&&(r.directiveStylingLast=A),o}function lv(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let h=0;h<t.length;h++){const v=t[h];"number"==typeof v?a=v:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Io(e,v,!!r||t[++h]))}return void 0===e?null:e}function uT(e,t,r,o,a,h){const v=null===t;let A;for(;a>0;){const D=e[a],H=Array.isArray(D),te=H?D[1]:D,Ce=null===te;let lt=r[a+1];lt===vi&&(lt=Ce?Ri:void 0);let yt=Ce?Us(lt,o):te===o?lt:void 0;if(H&&!Cy(yt)&&(yt=Us(D,o)),Cy(yt)&&(A=yt,v))return A;const pt=e[a+1];a=v?Eh(pt):Sf(pt)}if(null!==t){let D=h?t.residualClasses:t.residualStyles;null!=D&&(A=Us(D,o))}return A}function Cy(e){return void 0!==e}function Ty(e,t,r,o){const a=ue(),h=et(),v=xr+e,A=a[ii],D=h.firstCreatePass?function jP(e,t,r,o,a,h){const v=t.consts,D=Md(t,e,2,o,Va(v,a));return gh(t,r,D,Va(v,h)),null!==D.attrs&&ly(D,D.attrs,!1),null!==D.mergedAttrs&&ly(D,D.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,D),D}(v,h,a,t,r,o):h.data[v],H=pT(h,a,D,A,t,e);a[v]=H;const te=tu(D);return Rr(D,!0),L_(A,H,D),!function Wp(e){return!(32&~e.flags)}(D)&&Nh()&&sc(h,a,H,D),0===function Of(){return ci.lFrame.elementDepthCount}()&&na(H,a),function Av(){ci.lFrame.elementDepthCount++}(),te&&(fh(h,a,D),Nd(h,D,a)),null!==o&&Lp(a,D),Ty}function by(){let e=cn();Fi()?ss():(e=e.parent,Rr(e,!1));const t=e;(function f(e){return ci.skipHydrationRootTNode===e})(t)&&function ne(){ci.skipHydrationRootTNode=null}(),function Tv(){ci.lFrame.elementDepthCount--}();const r=et();return r.firstCreatePass&&(zd(r,e),hs(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function bg(e){return!!(8&e.flags)}(t)&&YE(r,t,ue(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Dg(e){return!!(16&e.flags)}(t)&&YE(r,t,ue(),t.stylesWithoutHost,!1),by}function rI(e,t,r,o){return Ty(e,t,r,o),by(),rI}let pT=(e,t,r,o,a,h)=>(au(!0),pf(o,a,function Mv(){return ci.lFrame.currentNamespace}()));function Dy(e,t,r){const o=ue(),a=et(),h=e+xr,v=a.firstCreatePass?function WP(e,t,r,o,a){const h=t.consts,v=Va(h,o),A=Md(t,e,8,"ng-container",v);return null!==v&&ly(A,v,!0),gh(t,r,A,Va(h,a)),null!==t.queries&&t.queries.elementStart(t,A),A}(h,a,o,t,r):a.data[h];Rr(v,!0);const A=gT(a,o,v,e);return o[h]=A,Nh()&&sc(a,o,A,v),na(A,o),tu(v)&&(fh(a,o,v),Nd(a,v,o)),null!=r&&Lp(o,v),Dy}function wy(){let e=cn();const t=et();return Fi()?ss():(e=e.parent,Rr(e,!1)),t.firstCreatePass&&(zd(t,e),hs(e)&&t.queries.elementEnd(e)),wy}function iI(e,t,r){return Dy(e,t,r),wy(),iI}let gT=(e,t,r,o)=>(au(!0),Sp(t[ii],""));function mT(){return ue()}const Rf=void 0;var qP=["en",[["a","p"],["AM","PM"],Rf],[["AM","PM"],Rf,Rf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rf,"{1} 'at' {0}",Rf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XP(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let ug={};function oI(e){const t=function QP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=ET(t);if(r)return r;const o=t.split("-")[0];if(r=ET(o),r)return r;if("en"===o)return qP;throw new ar(701,!1)}function yT(e){return oI(e)[cg.PluralCase]}function ET(e){return e in ug||(ug[e]=yo.ng&&yo.ng.common&&yo.ng.common.locales&&yo.ng.common.locales[e]),ug[e]}var cg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(cg||{});const Sy="en-US";let IT=Sy,UT=(e,t,r)=>{};function lI(e,t,r,o){const a=ue(),h=et(),v=cn();return function uI(e,t,r,o,a,h,v){const A=tu(o),H=e.firstCreatePass&&I(e),te=t[Eo],Ce=xd(t);let lt=!0;if(3&o.type||v){const _n=fs(o,t),$n=v?v(_n):_n,er=Ce.length,Pn=v?Ei=>v(Ki(Ei[o.index])):o.index;let di=null;if(!v&&A&&(di=function VM(e,t,r,o){const a=e.cleanup;if(null!=a)for(let h=0;h<a.length-1;h+=2){const v=a[h];if(v===r&&a[h+1]===o){const A=t[ws],D=a[h+2];return A.length>D?A[D]:null}"string"==typeof v&&(h+=2)}return null}(e,t,a,o.index)),null!==di)(di.__ngLastListenerFn__||di).__ngNextListenerFn__=h,di.__ngLastListenerFn__=h,lt=!1;else{h=zT(o,t,te,h),UT(_n,a,h);const Ei=r.listen($n,a,h);Ce.push(h,Ei),H&&H.push(a,Pn,er,er+1)}}else h=zT(o,t,te,h);const yt=o.outputs;let pt;if(lt&&null!==yt&&(pt=yt[a])){const _n=pt.length;if(_n)for(let $n=0;$n<_n;$n+=2){const zo=t[pt[$n]][pt[$n+1]].subscribe(h),Ta=Ce.length;Ce.push(h,zo),H&&H.push(a,o.index,Ta,-(Ta+1))}}}(h,a,a[ii],v,e,t,o),lI}function jT(e,t,r,o){const a=Pe(null);try{return il(6,t,r),!1!==r(o)}catch(h){return oe(e,h),!1}finally{il(7,t,r),Pe(a)}}function zT(e,t,r,o){return function a(h){if(h===Function)return o;Bm(e.componentOffset>-1?ps(e.index,t):t,5);let A=jT(t,r,o,h),D=a.__ngNextListenerFn__;for(;D;)A=jT(t,r,D,h)&&A,D=D.__ngNextListenerFn__;return A}}function HT(e=1){return function Qy(e){return(ci.lFrame.contextLView=function Nf(e,t){for(;e>0;)t=t[wu],e--;return t}(e,ci.lFrame.contextLView))[Eo]}(e)}function UM(e,t){let r=null;const o=function T(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const h=t[a];if("*"!==h){if(null===o?Oa(e,h,!0):S(o,h))return a}else r=a}return r}function WT(e){const t=ue()[To][ds];if(!t.projection){const o=t.projection=function Wu(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let h=t.child;for(;null!==h;){if(128!==h.type){const v=e?UM(h,e):0;null!==v&&(a[v]?a[v].projectionNext=h:o[v]=h,a[v]=h)}h=h.next}}}function GT(e,t=0,r,o,a,h){const v=ue(),A=et(),D=o?e+1:null;null!==D&&iv(v,A,D,o,a,h,null,r);const H=Md(A,xr+e,16,null,r||null);null===H.projection&&(H.projection=t),ss();const Ce=!v[Qo]||d();null===v[To][ds].projection[H.projection]&&null!==D?function $M(e,t,r){const o=xr+r,a=t.data[o],h=e[o],v=Tf(h,a.tView.ssrId);Uu(h,Ji(e,a,void 0,{dehydratedView:v}),0,vs(a,v))}(v,A,D):Ce&&32&~H.flags&&function vf(e,t,r){O_(t[ii],0,t,r,Pp(e,r,t),P_(r.parent||t[ds],r,t))}(A,v,H)}function nb(e,t,r,o){!function WC(e,t,r,o){const a=et();if(a.firstCreatePass){const h=cn();GC(a,new BC(t,r,o),h.index),function zS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return zC(a,ue(),r)}(e,t,r,o)}function rb(e,t,r){!function HC(e,t,r){const o=et();return o.firstCreatePass&&(GC(o,new BC(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),zC(o,ue(),t)}(e,t,r)}function ib(e){const t=ue(),r=et(),o=gg();Mh(o+1);const a=SE(r,o);if(e.dirty&&function bh(e){return!(4&~e[Fr])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const h=KC(t,o);e.reset(h,Xv),e.notifyOnChanges()}return!0}return!1}function ob(){return function wE(e,t){return e[La].queries[t].queryList}(ue(),gg())}function gb(e,t=""){const r=ue(),o=et(),a=e+xr,h=o.firstCreatePass?Md(o,a,1,t,null):o.data[a],v=mb(o,r,h,t,e);r[a]=v,Nh()&&sc(o,r,v,h),Rr(h,!1)}let mb=(e,t,r,o,a)=>(au(!0),function uh(e,t){return e.createText(t)}(t[ii],o));function hI(e){return Ny("",e,""),hI}function Ny(e,t,r){const o=ue(),a=function eg(e,t,r,o){return Hs(e,Ll(),r)?t+Gr(r)+o:vi}(o,e,t,r);return a!==vi&&function nn(e,t,r){const o=ol(t,e);!function bc(e,t,r){e.setValue(t,r)}(e[ii],o,r)}(o,zs(),a),Ny}function fI(e,t,r,o,a){if(e=Wr(e),Array.isArray(e))for(let h=0;h<e.length;h++)fI(e[h],t,r,o,a);else{const h=et(),v=ue(),A=cn();let D=_l(e)?e:Wr(e.provide);const H=qu(e),te=1048575&A.providerIndexes,Ce=A.directiveStart,lt=A.providerIndexes>>20;if(_l(e)||!e.multi){const yt=new xh(H,a,Rd),pt=gI(D,t,a?te:te+lt,Ce);-1===pt?(Pg(Wd(A,v),h,D),pI(h,e,t.length),t.push(D),A.directiveStart++,A.directiveEnd++,a&&(A.providerIndexes+=1048576),r.push(yt),v.push(yt)):(r[pt]=yt,v[pt]=yt)}else{const yt=gI(D,t,te+lt,Ce),pt=gI(D,t,te,te+lt),$n=pt>=0&&r[pt];if(a&&!$n||!a&&!(yt>=0&&r[yt])){Pg(Wd(A,v),h,D);const er=function lN(e,t,r,o,a){const h=new xh(e,r,Rd);return h.multi=[],h.index=t,h.componentProviders=0,Rb(h,a,o&&!r),h}(a?aN:sN,r.length,a,o,H);!a&&$n&&(r[pt].providerFactory=er),pI(h,e,t.length,0),t.push(D),A.directiveStart++,A.directiveEnd++,a&&(A.providerIndexes+=1048576),r.push(er),v.push(er)}else pI(h,e,yt>-1?yt:pt,Rb(r[a?pt:yt],H,!a&&o));!a&&o&&$n&&r[pt].componentProviders++}}}function pI(e,t,r,o){const a=_l(t),h=function kc(e){return!!e.useClass}(t);if(a||h){const D=(h?Wr(t.useClass):t).prototype.ngOnDestroy;if(D){const H=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const te=H.indexOf(r);-1===te?H.push(r,[o,D]):H[te+1].push(o,D)}else H.push(r,D)}}}function Rb(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function gI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function sN(e,t,r,o){return mI(this.multi,[])}function aN(e,t,r,o){const a=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,A=uu(r,r[tr],this.providerFactory.index,o);h=A.slice(0,v),mI(a,h);for(let D=v;D<A.length;D++)h.push(A[D])}else h=[],mI(a,h);return h}function mI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function Pb(e,t=[]){return r=>{r.providersResolver=(o,a)=>function oN(e,t,r){const o=et();if(o.firstCreatePass){const a=rl(e);fI(r,o.data,o.blueprint,a,!0),fI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let uN=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Za(0,o.type),h=a.length>0?OE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,h)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Ur({token:e,providedIn:"environment",factory:()=>new e(oi(js))}),t})();function Mb(e){Ul("NgStandalone"),e.getStandaloneInjector=t=>t.get(uN).getOrCreateStandaloneInjector(e)}function xb(e,t,r){const o=function Ua(){const e=ci.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}()+e,a=ue();return a[o]===vi?function od(e,t,r){return e[t]=r}(a,o,r?t.call(r):t()):function rv(e,t){return e[t]}(a,o)}class tD{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const YN=new tD("18.2.2");let nD=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const sD=new Lr(""),aD=new Lr("");let AI,AO=(()=>{var e;class t{constructor(o,a,h){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,AI||(function TO(e){AI=e}(h),h.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,h){let v=-1;a&&a>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==v),o()},a)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:h})}whenStable(o,a,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,h),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,h){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(oi(Go),oi(lD),oi(aD))},e.\u0275prov=Ur({token:e,factory:e.\u0275fac}),t})(),lD=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var h,v;return null!==(h=null===(v=AI)||void 0===v?void 0:v.findTestabilityInTree(this,o,a))&&void 0!==h?h:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function TI(e){return!!e&&"function"==typeof e.then}function uD(e){return!!e&&"function"==typeof e.subscribe}const cD=new Lr("");let dD=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h}),this.appInits=null!==(o=dr(cD,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const h of this.appInits){const v=h();if(TI(v))o.push(v);else if(uD(v)){const A=new Promise((D,H)=>{v.subscribe({complete:D,error:H})});o.push(A)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(h=>{this.reject(h)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Fy=new Lr("");function fD(e,t){return Array.isArray(t)?t.reduce(fD,e):{...e,...t}}let ld=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dr(jI),this.afterRenderManager=dr(AA),this.zonelessEnabled=dr(Ym),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new _r.B,this.afterTick=new _r.B,this.componentTypes=[],this.components=[],this.isStable=dr(Xc).hasPendingTasks.pipe((0,Bn.T)(o=>!o)),this._injector=dr(js)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:h=>{h&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const h=o instanceof RC;if(!this._injector.get(dD).done)throw!h&&Co(o),new ar(405,!1);let A;A=h?o:this._injector.get(Jm).resolveComponentFactory(o),this.componentTypes.push(A.componentType);const D=function bO(e){return e.isBoundToModule}(A)?void 0:this._injector.get(bf),te=A.create($a.NULL,[],a||A.selector,D),Ce=te.location.nativeElement,lt=te.injector.get(sD,null);return null==lt||lt.registerApplication(Ce),te.onDestroy(()=>{this.detachView(te.hostView),Vy(this.components,te),null==lt||lt.unregisterApplication(Ce)}),this._loadComponent(te),te}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ar(101,!1);const o=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,Pe(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(vE,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const v=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(v);for(let{_lView:A,notifyErrorHandler:D}of this._views)SO(A,D,v,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,h;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(h=o.end)||void 0===h||h.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>Wc(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Vy(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Fy,[]);[...this._bootstrapListeners,...a].forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Vy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ar(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Vy(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function SO(e,t,r,o){(r||Wc(e))&&ey(e,t,r&&!o?0:1)}class RO{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let PO=(()=>{var e;class t{compileModuleSync(o){return new NE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),v=Dl(so(o).declarations).reduce((A,D)=>{const H=Yr(D);return H&&A.push(new tv(H)),A},[]);return new RO(a,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),OO=(()=>{var e;class t{constructor(){this.zone=dr(Go),this.changeDetectionScheduler=dr(zp),this.applicationRef=dr(ld)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function bI({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new Go({...DI(),scheduleInRootZone:r})),[{provide:Go,useFactory:e},{provide:Rs,multi:!0,useFactory:()=>{const a=dr(OO,{optional:!0});return()=>a.initialize()}},{provide:Rs,multi:!0,useFactory:()=>{const a=dr(kO);return()=>{a.initialize()}}},!0===t?{provide:SC,useValue:!0}:[],{provide:mE,useValue:null!=r?r:Hv}]}function DI(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let kO=(()=>{var e;class t{constructor(){this.subscription=new Xn.yU,this.initialized=!1,this.zone=dr(Go),this.pendingTasks=dr(Xc)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;Go.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),yv=(()=>{var e;class t{constructor(){var o,a,h;this.appRef=dr(ld),this.taskService=dr(Xc),this.ngZone=dr(Go),this.zonelessEnabled=dr(Ym),this.disableScheduling=null!==(o=dr(SC,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Xn.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(Wh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(h=dr(mE,{optional:!0}))&&void 0!==h&&h,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Kh||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?Hh:Vg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const SI=new Lr("",{providedIn:"root",factory:()=>dr(SI,Cn.Optional|Cn.SkipSelf)||function LO(){return typeof $localize<"u"&&$localize.locale||Sy}()}),FO=new Lr("",{providedIn:"root",factory:()=>"USD"}),RI=new Lr("");function Uy(e){return!!e.platformInjector}let ED=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const h=null==a?void 0:a.scheduleInRootZone,D=[bI({ngZoneFactory:()=>function g0(e="zone.js",t){return"noop"===e?new Kh:"zone.js"===e?new Go(t):e}(null==a?void 0:a.ngZone,{...DI({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:h}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:zp,useExisting:yv}],H=function cR(e,t,r){return new ME(e,t,r,!1)}(o.moduleType,this.injector,D);return function yD(e){const t=Uy(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Go);return r.run(()=>{Uy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(eo,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:h=>{o.handleError(h)}})}),Uy(e)){const h=()=>t.destroy(),v=e.platformInjector.get(RI);v.add(h),t.onDestroy(()=>{a.unsubscribe(),v.delete(h)})}else e.moduleRef.onDestroy(()=>{Vy(e.allPlatformModules,e.moduleRef),a.unsubscribe()});return function wO(e,t,r){try{const o=r();return TI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const h=t.get(dD);return h.runInitializers(),h.donePromise.then(()=>{if(function eM(e){"string"==typeof e&&(IT=e.toLowerCase().replace(/_/g,"-"))}(t.get(SI,Sy)||Sy),Uy(e)){const A=t.get(ld);return void 0!==e.rootComponent&&A.bootstrap(e.rootComponent),A}return function jO(e,t){const r=e.injector.get(ld);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new ar(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:H,allPlatformModules:this._modules})}bootstrapModule(o,a=[]){const h=fD({},a);return function NO(e,t,r){const o=new NE(r);return Promise.resolve(o)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,h))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ar(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(RI,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(oi($a))},e.\u0275prov=Ur({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Ih=null;const ID=new Lr("");function CD(e,t,r=[]){const o=`Platform: ${t}`,a=new Lr(o);return(h=[])=>{let v=PI();if(!v||v.injector.get(ID,!1)){const A=[...r,...h,{provide:a,useValue:!0}];e?e(A):function zO(e){if(Ih&&!Ih.get(ID,!1))throw new ar(400,!1);(function hD(){!function ee(e){Qn=e}(()=>{throw new ar(600,!1)})})(),Ih=e;const t=e.get(ED);(function TD(e){const t=e.get(Qg,null);null==t||t.forEach(r=>r())})(e)}(function AD(e=[],t){return $a.create({name:t,providers:[{provide:yl,useValue:"platform"},{provide:RI,useValue:new Set([()=>Ih=null])},...e]})}(A,o))}return function HO(){const t=PI();if(!t)throw new ar(401,!1);return t}()}}function PI(){var e,t;return null!==(e=null===(t=Ih)||void 0===t?void 0:t.get(ED))&&void 0!==e?e:null}function GO(){return!1}let DD=(()=>{class t{}return t.__NG_ELEMENT_ID__=KO,t})();function KO(e){return function XO(e,t,r){if(pa(e)&&!r){const o=ps(e.index,t);return new jm(o,o)}return 175&e.type?new jm(t[To],t):null}(cn(),ue(),!(16&~e))}class PD{constructor(){}supports(t){return hy(t)}create(t){return new ZO(t)}}const JO=(e,t)=>t;class ZO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JO}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,h=null;for(;r||o;){const v=!o||r&&r.currentIndex<ND(o,a,h)?r:o,A=ND(v,a,h),D=v.currentIndex;if(v===o)a--,o=o._nextRemoved;else if(r=r._next,null==v.previousIndex)a++;else{h||(h=[]);const H=A-a,te=D-a;if(H!=te){for(let lt=0;lt<H;lt++){const yt=lt<h.length?h[lt]:h[lt]=0,pt=yt+lt;te<=pt&&pt<H&&(h[lt]=yt+1)}h[v.previousIndex]=te-H}}A!==D&&t(v,A,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!hy(t))throw new ar(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,h,v,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let A=0;A<this.length;A++)h=t[A],v=this._trackByFn(A,h),null!==r&&Object.is(r.trackById,v)?(o&&(r=this._verifyReinsertion(r,h,v,A)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,v,A),o=!0),r=r._next}else a=0,function fR(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,A=>{v=this._trackByFn(a,A),null!==r&&Object.is(r.trackById,v)?(o&&(r=this._verifyReinsertion(r,A,v,a)),Object.is(r.item,A)||this._addIdentityChange(r,A)):(r=this._mismatch(r,A,v,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,h,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,h,a)):t=this._addAfter(new ex(r,o),h,a),t}_verifyReinsertion(t,r,o,a){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?t=this._reinsertAfter(h,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,h=t._nextRemoved;return null===a?this._removalsHead=h:a._nextRemoved=h,null===h?this._removalsTail=a:h._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new MD),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ex{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class MD{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new tx,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ND(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class OD{constructor(){}supports(t){return t instanceof Map||xE(t)}create(){return new nx}}class nx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||xE(t)))throw new ar(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const h=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,h)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const h=a._prev,v=a._next;return h&&(h._next=v),v&&(v._prev=h),a._next=null,a._prev=null,a}const o=new rx(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class rx{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xD(){return new kI([new PD])}let kI=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const h=a.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||xD()),deps:[[t,new Gl,new Qa]]}}find(o){const a=this.factories.find(h=>h.supports(o));if(null!=a)return a;throw new ar(901,!1)}}return(e=t).\u0275prov=Ur({token:e,providedIn:"root",factory:xD}),t})();function kD(){return new LI([new OD])}let LI=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const h=a.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||kD()),deps:[[t,new Gl,new Qa]]}}find(o){const a=this.factories.find(h=>h.supports(o));if(a)return a;throw new ar(901,!1)}}return(e=t).\u0275prov=Ur({token:e,providedIn:"root",factory:kD}),t})();const sx=CD(null,"core",[]);let ax=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(oi(ld))},e.\u0275mod=Kr({type:e}),e.\u0275inj=ts({}),t})();const YD=new Lr("");function Vx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function $x(e,t){Ul("NgSignals");const r=function ae(e){const t=Object.create(Ht);t.computation=e;const r=()=>{if(Ye(t),me(t),t.value===un)throw t.error;return t.value};return r[ce]=t,r}(e);return null!=t&&t.equal&&(r[ce].equal=t.equal),r}function Bx(e){const t=Pe(null);try{return e()}finally{Pe(t)}}function Kx(e,t){const r=Yr(e),o=t.elementInjector||bu();return new tv(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function Xx(e){const t=Yr(e);if(!t)return null;const r=new tv(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1977:(Gn,St,k)=>{"use strict";k.d(St,{DS:()=>Qn,X8:()=>Ze,$z:()=>Xt,UB:()=>Ht,yy:()=>ae,ZP:()=>Et,AU:()=>un,CP:()=>Ut,gF:()=>Ft});var c=k(9842),U=(k(2438),k(177)),q=k(3953),ce=k(5407),Pe=k(9253),ke=k(1413),Re=k(7673),ot=k(1985),Ve=k(8455),me=k(7786),We=k(941),Ye=k(5558),He=k(6354),ut=k(6129);class gt extends ke.B{constructor(de=1/0,Se=1/0,he=ut.U){super(),this._bufferSize=de,this._windowTime=Se,this._timestampProvider=he,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,de),this._windowTime=Math.max(1,Se)}next(de){const{isStopped:Se,_buffer:he,_infiniteTimeWindow:Be,_timestampProvider:Ke,_windowTime:it}=this;Se||(he.push(de),!Be&&he.push(Ke.now()+it)),this._trimBuffer(),super.next(de)}_subscribe(de){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(de),{_infiniteTimeWindow:he,_buffer:Be}=this,Ke=Be.slice();for(let it=0;it<Ke.length&&!de.closed;it+=he?1:2)de.next(Ke[it]);return this._checkFinalizedStatuses(de),Se}_trimBuffer(){const{_bufferSize:de,_timestampProvider:Se,_buffer:he,_infiniteTimeWindow:Be}=this,Ke=(Be?1:2)*de;if(de<1/0&&Ke<he.length&&he.splice(0,he.length-Ke),!Be){const it=Se.now();let nt=0;for(let Vt=1;Vt<he.length&&he[Vt]<=it;Vt+=2)nt=Vt;nt&&he.splice(0,nt+1)}}}var mt=k(7647);function ft(ee,de,Se){let he,Be=!1;return ee&&"object"==typeof ee?({bufferSize:he=1/0,windowTime:de=1/0,refCount:Be=!1,scheduler:Se}=ee):he=null!=ee?ee:1/0,(0,mt.u)({connector:()=>new gt(he,de,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}var Ot=k(1594),Tt=k(8071);function Qe(ee,de){return(0,Tt.T)(de)?(0,Ye.n)(()=>ee,de):(0,Ye.n)(()=>ee)}var Te=k(6745),$e=k(5964),ct=k(7935);const Ut=new q.nKC("angularfire2.auth.use-emulator"),ae=new q.nKC("angularfire2.auth.settings"),Et=new q.nKC("angularfire2.auth.tenant-id"),Xt=new q.nKC("angularfire2.auth.langugage-code"),un=new q.nKC("angularfire2.auth.use-device-language"),Ht=new q.nKC("angularfire.auth.persistence"),Ft=(ee,de,Se,he,Be,Ke,it,nt)=>(0,Pe.BM)(`${ee.name}.auth`,"AngularFireAuth",ee.name,()=>{const Vt=de.runOutsideAngular(()=>ee.auth());if(Se&&Vt.useEmulator(...Se),he&&(Vt.tenantId=he),Vt.languageCode=Be,Ke&&Vt.useDeviceLanguage(),it)for(const[Ln,gn]of Object.entries(it))Vt.settings[Ln]=gn;return nt&&Vt.setPersistence(nt),Vt},[Se,he,Be,Ke,it,nt]);let Qn=(()=>{var ee;class de{constructor(he,Be,Ke,it,nt,Vt,Ln,gn,ir,zn,gr,Kn){(0,c.A)(this,"authState",void 0),(0,c.A)(this,"idToken",void 0),(0,c.A)(this,"user",void 0),(0,c.A)(this,"idTokenResult",void 0),(0,c.A)(this,"credential",void 0);const _r=new ke.B,Xn=(0,Re.of)(void 0).pipe((0,We.Q)(nt.outsideAngular),(0,Ye.n)(()=>it.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2438)))),(0,He.T)(()=>(0,Pe.iB)(he,it,Be)),(0,He.T)(Bn=>Ft(Bn,it,Vt,gn,ir,zn,Ln,gr)),ft({bufferSize:1,refCount:!1}));if((0,U.Vy)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Re.of)(null);else{Xn.pipe((0,Ot.$)()).subscribe();const Bn=Xn.pipe((0,Ye.n)(At=>At.getRedirectResult().then(Kt=>Kt,()=>null)),ce.U0,ft({bufferSize:1,refCount:!1})),bn=Xn.pipe((0,Ye.n)(At=>new ot.c(Kt=>({unsubscribe:it.runOutsideAngular(()=>At.onAuthStateChanged(vn=>Kt.next(vn),vn=>Kt.error(vn),()=>Kt.complete()))})))),sn=Xn.pipe((0,Ye.n)(At=>new ot.c(Kt=>({unsubscribe:it.runOutsideAngular(()=>At.onIdTokenChanged(vn=>Kt.next(vn),vn=>Kt.error(vn),()=>Kt.complete()))}))));this.authState=Bn.pipe(Qe(bn),(0,Te._)(nt.outsideAngular),(0,We.Q)(nt.insideAngular)),this.user=Bn.pipe(Qe(sn),(0,Te._)(nt.outsideAngular),(0,We.Q)(nt.insideAngular)),this.idToken=this.user.pipe((0,Ye.n)(At=>At?(0,Ve.H)(At.getIdToken()):(0,Re.of)(null))),this.idTokenResult=this.user.pipe((0,Ye.n)(At=>At?(0,Ve.H)(At.getIdTokenResult()):(0,Re.of)(null))),this.credential=(0,me.h)(Bn,_r,this.authState.pipe((0,$e.p)(At=>!At))).pipe((0,He.T)(At=>null!=At&&At.user?At:null),(0,Te._)(nt.outsideAngular),(0,We.Q)(nt.insideAngular))}return(0,Pe.Gt)(this,Xn,it,{spy:{apply:(Bn,bn,sn)=>{(Bn.startsWith("signIn")||Bn.startsWith("createUser"))&&sn.then(At=>_r.next(At))}}})}}return ee=de,(0,c.A)(de,"\u0275fac",function(he){return new(he||ee)(q.KVO(Pe.rx),q.KVO(Pe.uP,8),q.KVO(q.Agw),q.KVO(q.SKi),q.KVO(ce.u0),q.KVO(Ut,8),q.KVO(ae,8),q.KVO(Et,8),q.KVO(Xt,8),q.KVO(un,8),q.KVO(Ht,8),q.KVO(ce.Jv,8))}),(0,c.A)(de,"\u0275prov",q.jDH({token:ee,factory:ee.\u0275fac,providedIn:"any"})),de})(),Ze=(()=>{var ee;class de{constructor(){ct.A.registerVersion("angularfire",ce.xv.full,"auth-compat")}}return ee=de,(0,c.A)(de,"\u0275fac",function(he){return new(he||ee)}),(0,c.A)(de,"\u0275mod",q.$C({type:ee})),(0,c.A)(de,"\u0275inj",q.G2t({providers:[Qn]})),de})()},9253:(Gn,St,k)=>{"use strict";k.d(St,{BM:()=>ut,Gt:()=>Pe,bf:()=>He,e7:()=>ke,iB:()=>me,rx:()=>ot,uP:()=>Ve});var c=k(9842),p=k(3953),U=k(5407),q=k(7935);const ce=["ngOnDestroy"],Pe=(Ot,Tt,Qe,Te={})=>new Proxy(Ot,{get:($e,ct)=>Qe.runOutsideAngular(()=>{var vt;if(Ot[ct])return null!=Te&&null!==(vt=Te.spy)&&void 0!==vt&&vt.get&&Te.spy.get(ct,Ot[ct]),Ot[ct];if(ce.indexOf(ct)>-1)return()=>{};const Ut=Tt.toPromise().then(ae=>{const Et=null==ae?void 0:ae[ct];return"function"==typeof Et?Et.bind(ae):null!=Et&&Et.then?Et.then(Xt=>Qe.run(()=>Xt)):Qe.run(()=>Et)});return new Proxy(()=>{},{get:(ae,Et)=>Ut[Et],apply:(ae,Et,Xt)=>Ut.then(un=>{var Ht;const Ft=null==un?void 0:un(...Xt);return null!=Te&&null!==(Ht=Te.spy)&&void 0!==Ht&&Ht.apply&&Te.spy.apply(ct,Xt,Ft),Ft})})})}),ke=(Ot,Tt)=>{Tt.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Te=>{Object.defineProperty(Ot.prototype,Te,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Te))})})};class Re{constructor(Tt){return Tt}}const ot=new p.nKC("angularfire2.app.options"),Ve=new p.nKC("angularfire2.app.name");function me(Ot,Tt,Qe){const $e="object"==typeof Qe&&Qe||{};$e.name=$e.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const vt=q.A.apps.filter(Ut=>Ut&&Ut.name===$e.name)[0]||Tt.runOutsideAngular(()=>q.A.initializeApp(Ot,$e));try{if(JSON.stringify(Ot)!==JSON.stringify(vt.options)){const Ut=!!module.hot;We("error",`${vt.name} Firebase App already initialized with different options${Ut?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Re(vt)}const We=(Ot,...Tt)=>{(0,p.naY)()&&typeof console<"u"&&console[Ot](...Tt)},Ye={provide:Re,useFactory:me,deps:[ot,p.SKi,[new p.Xx1,Ve]]};let He=(()=>{var Ot;class Tt{static initializeApp(Te,$e){return{ngModule:Tt,providers:[{provide:ot,useValue:Te},{provide:Ve,useValue:$e}]}}constructor(Te){q.A.registerVersion("angularfire",U.xv.full,"core"),q.A.registerVersion("angularfire",U.xv.full,"app-compat"),q.A.registerVersion("angular",p.xvI.full,Te.toString())}}return Ot=Tt,(0,c.A)(Tt,"\u0275fac",function(Te){return new(Te||Ot)(p.KVO(p.Agw))}),(0,c.A)(Tt,"\u0275mod",p.$C({type:Ot})),(0,c.A)(Tt,"\u0275inj",p.G2t({providers:[Ye]})),Tt})();function ut(Ot,Tt,Qe,Te,$e){const[,ct,vt]=globalThis.\u0275AngularfireInstanceCache.find(Ut=>Ut[0]===Ot)||[];if(ct)return function gt(Ot,Tt){try{return Ot.toString()===Tt.toString()}catch{return Ot===Tt}}($e,vt)||(ft("error",`${Tt} was already initialized on the ${Qe} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),ft("warn",{is:$e,was:vt})),ct;{const Ut=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ot,Ut,$e]),Ut}}const mt=typeof module<"u"&&!!module.hot,ft=(Ot,...Tt)=>{(0,p.naY)()&&typeof console<"u"&&console[Ot](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(Gn,St,k)=>{"use strict";k.d(St,{xv:()=>ut,U0:()=>un,u0:()=>ct,Jv:()=>Ot,CA:()=>ft,lR:()=>mt,S3:()=>Qn});var c=k(9842),p=k(3953),U=k(2214),q=k(6780),Pe=k(9687);const Re=new class ke extends Pe.q{}(class ce extends q.R{constructor(ee,de){super(ee,de),this.scheduler=ee,this.work=de}schedule(ee,de=0){return de>0?super.schedule(ee,de):(this.delay=de,this.state=ee,this.scheduler.flush(this),this)}execute(ee,de){return de>0||this.closed?super.execute(ee,de):this._execute(ee,de)}requestAsyncId(ee,de,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(ee,de,Se):(ee.flush(this),0)}});var Ve=k(3236),me=k(1985),We=k(8141),Ye=k(6745),He=k(941);const ut=new p.RxE("ANGULARFIRE2_VERSION");function mt(Ze,ee,de){if(ee){if(1===ee.length)return ee[0];const Be=ee.filter(Ke=>Ke.app===de);if(1===Be.length)return Be[0]}return de.container.getProvider(Ze).getImmediate({optional:!0})}const ft=(Ze,ee)=>{const de=ee?[ee]:(0,U.Dk)(),Se=[];return de.forEach(he=>{he.container.getProvider(Ze).instances.forEach(Ke=>{Se.includes(Ke)||Se.push(Ke)})}),Se};class Ot{constructor(){return ft(Tt)}}const Tt="app-check";function Qe(){}class Te{constructor(ee,de=Re){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=ee,this.delegate=de}now(){return this.delegate.now()}schedule(ee,de,Se){const he=this.zone;return this.delegate.schedule(function(Ke){he.runGuarded(()=>{ee.apply(this,[Ke])})},de,Se)}}class $e{constructor(ee){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=ee}call(ee,de){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)),de.pipe((0,We.M)({next:Se,complete:Se,error:Se})).subscribe(ee).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ct=(()=>{var Ze;class ee{constructor(Se){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new Te(Zone.current)),this.insideAngular=Se.run(()=>new Te(Zone.current,Ve.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ze=ee,(0,c.A)(ee,"\u0275fac",function(Se){return new(Se||Ze)(p.KVO(p.SKi))}),(0,c.A)(ee,"\u0275prov",p.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})),ee})();function vt(){const Ze=globalThis.\u0275AngularFireScheduler;if(!Ze)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ze}function ae(Ze){return vt().ngZone.run(()=>Ze())}function un(Ze){return function Ht(Ze){return function(de){return(de=de.lift(new $e(Ze.ngZone))).pipe((0,Ye._)(Ze.outsideAngular),(0,He.Q)(Ze.insideAngular))}}(vt())(Ze)}const Ft=(Ze,ee)=>function(){const Se=arguments;return ee&&setTimeout(()=>{"scheduled"===ee.state&&ee.invoke()},10),ae(()=>Ze.apply(void 0,Se))},Qn=(Ze,ee)=>function(){let de;const Se=arguments;for(let Be=0;Be<arguments.length;Be++)"function"==typeof Se[Be]&&(ee&&(de||(de=ae(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)))),Se[Be]=Ft(Se[Be],de));const he=function Ut(Ze){return vt().ngZone.runOutsideAngular(()=>Ze())}(()=>Ze.apply(this,Se));if(!ee){if(he instanceof me.c){const Be=vt();return he.pipe((0,Ye._)(Be.outsideAngular),(0,He.Q)(Be.insideAngular))}return ae(()=>he)}return he instanceof me.c?he.pipe(un):he instanceof Promise?ae(()=>new Promise((Be,Ke)=>he.then(it=>ae(()=>Be(it)),it=>ae(()=>Ke(it))))):"function"==typeof he&&de?function(){return setTimeout(()=>{de&&"scheduled"===de.state&&de.invoke()},10),he.apply(this,arguments)}:ae(()=>he)}},4341:(Gn,St,k)=>{"use strict";k.d(St,{ok:()=>Po,JD:()=>ur,j4:()=>En,YN:()=>jl,zX:()=>So,VZ:()=>ys,cz:()=>vt,kq:()=>gt,vO:()=>vn,BC:()=>Zn,cb:()=>mn,X1:()=>Ko,k0:()=>Et,qT:()=>O});var c=k(3953),p=k(177),U=k(8455),q=k(1985),ce=k(3073),Pe=k(8750),ke=k(3794),Re=k(4360),ot=k(6450),Ve=k(8496),We=k(1413),Ye=k(6354);let He=(()=>{var Y;class L{constructor(z,Ie){this._renderer=z,this._elementRef=Ie,this.onChange=Dn=>{},this.onTouched=()=>{}}setProperty(z,Ie){this._renderer.setProperty(this._elementRef.nativeElement,z,Ie)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}}return(Y=L).\u0275fac=function(z){return new(z||Y)(c.rXU(c.sFG),c.rXU(c.aKT))},Y.\u0275dir=c.FsC({type:Y}),L})(),ut=(()=>{var Y;class L extends He{}return(Y=L).\u0275fac=(()=>{let Ee;return function(Ie){return(Ee||(Ee=c.xGo(Y)))(Ie||Y)}})(),Y.\u0275dir=c.FsC({type:Y,features:[c.Vt3]}),L})();const gt=new c.nKC(""),Ot={provide:gt,useExisting:(0,c.Rfq)(()=>Te),multi:!0},Qe=new c.nKC("");let Te=(()=>{var Y;class L extends He{constructor(z,Ie,Dn){super(z,Ie),this._compositionMode=Dn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tt(){const Y=(0,p.QT)()?(0,p.QT)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(z){this.setProperty("value",null==z?"":z)}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}}return(Y=L).\u0275fac=function(z){return new(z||Y)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Qe,8))},Y.\u0275dir=c.FsC({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,Ie){1&z&&c.bIt("input",function(Er){return Ie._handleInput(Er.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Er){return Ie._compositionEnd(Er.target.value)})},features:[c.Jv_([Ot]),c.Vt3]}),L})();function $e(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function ct(Y){return null!=Y&&"number"==typeof Y.length}const vt=new c.nKC(""),Ut=new c.nKC(""),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Et{static min(L){return Xt(L)}static max(L){return un(L)}static required(L){return function Ht(Y){return $e(Y.value)?{required:!0}:null}(L)}static requiredTrue(L){return function Ft(Y){return!0===Y.value?null:{required:!0}}(L)}static email(L){return function Qn(Y){return $e(Y.value)||ae.test(Y.value)?null:{email:!0}}(L)}static minLength(L){return function Ze(Y){return L=>$e(L.value)||!ct(L.value)?null:L.value.length<Y?{minlength:{requiredLength:Y,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function ee(Y){return L=>ct(L.value)&&L.value.length>Y?{maxlength:{requiredLength:Y,actualLength:L.value.length}}:null}(L)}static pattern(L){return function de(Y){if(!Y)return Se;let L,Ee;return"string"==typeof Y?(Ee="","^"!==Y.charAt(0)&&(Ee+="^"),Ee+=Y,"$"!==Y.charAt(Y.length-1)&&(Ee+="$"),L=new RegExp(Ee)):(Ee=Y.toString(),L=Y),z=>{if($e(z.value))return null;const Ie=z.value;return L.test(Ie)?null:{pattern:{requiredPattern:Ee,actualValue:Ie}}}}(L)}static nullValidator(L){return null}static compose(L){return Ln(L)}static composeAsync(L){return ir(L)}}function Xt(Y){return L=>{if($e(L.value)||$e(Y))return null;const Ee=parseFloat(L.value);return!isNaN(Ee)&&Ee<Y?{min:{min:Y,actual:L.value}}:null}}function un(Y){return L=>{if($e(L.value)||$e(Y))return null;const Ee=parseFloat(L.value);return!isNaN(Ee)&&Ee>Y?{max:{max:Y,actual:L.value}}:null}}function Se(Y){return null}function he(Y){return null!=Y}function Be(Y){return(0,c.jNT)(Y)?(0,U.H)(Y):Y}function Ke(Y){let L={};return Y.forEach(Ee=>{L=null!=Ee?{...L,...Ee}:L}),0===Object.keys(L).length?null:L}function it(Y,L){return L.map(Ee=>Ee(Y))}function Vt(Y){return Y.map(L=>function nt(Y){return!Y.validate}(L)?L:Ee=>L.validate(Ee))}function Ln(Y){if(!Y)return null;const L=Y.filter(he);return 0==L.length?null:function(Ee){return Ke(it(Ee,L))}}function gn(Y){return null!=Y?Ln(Vt(Y)):null}function ir(Y){if(!Y)return null;const L=Y.filter(he);return 0==L.length?null:function(Ee){return function me(...Y){const L=(0,ke.ms)(Y),{args:Ee,keys:z}=(0,ce.D)(Y),Ie=new q.c(Dn=>{const{length:Er}=Ee;if(!Er)return void Dn.complete();const Si=new Array(Er);let to=Er,Mo=Er;for(let Ur=0;Ur<Er;Ur++){let Ga=!1;(0,Pe.Tg)(Ee[Ur]).subscribe((0,Re._)(Dn,ts=>{Ga||(Ga=!0,Mo--),Si[Ur]=ts},()=>to--,void 0,()=>{(!to||!Ga)&&(Mo||Dn.next(z?(0,Ve.e)(z,Si):Si),Dn.complete())}))}});return L?Ie.pipe((0,ot.I)(L)):Ie}(it(Ee,L).map(Be)).pipe((0,Ye.T)(Ke))}}function zn(Y){return null!=Y?ir(Vt(Y)):null}function gr(Y,L){return null===Y?[L]:Array.isArray(Y)?[...Y,L]:[Y,L]}function Kn(Y){return Y._rawValidators}function _r(Y){return Y._rawAsyncValidators}function Xn(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Bn(Y,L){return Array.isArray(Y)?Y.includes(L):Y===L}function bn(Y,L){const Ee=Xn(L);return Xn(Y).forEach(Ie=>{Bn(Ee,Ie)||Ee.push(Ie)}),Ee}function sn(Y,L){return Xn(L).filter(Ee=>!Bn(Y,Ee))}class At{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=gn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,Ee){return!!this.control&&this.control.hasError(L,Ee)}getError(L,Ee){return this.control?this.control.getError(L,Ee):null}}class Kt extends At{get formDirective(){return null}get path(){return null}}class vn extends At{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ln{constructor(L){this._cd=L}get isTouched(){var L,Ee,z;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(Ee=L._touched)||void 0===Ee||Ee.call(L),!(null===(z=this._cd)||void 0===z||null===(z=z.control)||void 0===z||!z.touched)}get isUntouched(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.untouched)}get isPristine(){var L,Ee,z;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(Ee=L._pristine)||void 0===Ee||Ee.call(L),!(null===(z=this._cd)||void 0===z||null===(z=z.control)||void 0===z||!z.pristine)}get isDirty(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.dirty)}get isValid(){var L,Ee,z;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(Ee=L._status)||void 0===Ee||Ee.call(L),!(null===(z=this._cd)||void 0===z||null===(z=z.control)||void 0===z||!z.valid)}get isInvalid(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.invalid)}get isPending(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.pending)}get isSubmitted(){var L,Ee,z;return null===(L=this._cd)||void 0===L||null===(Ee=L._submitted)||void 0===Ee||Ee.call(L),!(null===(z=this._cd)||void 0===z||!z.submitted)}}let Zn=(()=>{var Y;class L extends ln{constructor(z){super(z)}}return(Y=L).\u0275fac=function(z){return new(z||Y)(c.rXU(vn,2))},Y.\u0275dir=c.FsC({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,Ie){2&z&&c.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[c.Vt3]}),L})(),mn=(()=>{var Y;class L extends ln{constructor(z){super(z)}}return(Y=L).\u0275fac=function(z){return new(z||Y)(c.rXU(Kt,10))},Y.\u0275dir=c.FsC({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(z,Ie){2&z&&c.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[c.Vt3]}),L})();const Mt="VALID",qt="INVALID",_t="PENDING",we="DISABLED";class Z{}class x extends Z{constructor(L,Ee){super(),this.value=L,this.source=Ee}}class W extends Z{constructor(L,Ee){super(),this.pristine=L,this.source=Ee}}class pe extends Z{constructor(L,Ee){super(),this.touched=L,this.source=Ee}}class Fe extends Z{constructor(L,Ee){super(),this.status=L,this.source=Ee}}class Ct extends Z{constructor(L){super(),this.source=L}}class zt extends Z{constructor(L){super(),this.source=L}}function dn(Y){return(Hn(Y)?Y.validators:Y)||null}function An(Y,L){return(Hn(L)?L.asyncValidators:Y)||null}function Hn(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}function wr(Y,L,Ee){const z=Y.controls;if(!(L?Object.keys(z):z).length)throw new c.wOt(1e3,"");if(!z[Ee])throw new c.wOt(1001,"")}function Ai(Y,L,Ee){Y._forEachChild((z,Ie)=>{if(void 0===Ee[Ie])throw new c.wOt(1002,"")})}class Ui{constructor(L,Ee){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new We.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(Ee)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(L){(0,c.O8t)(()=>this.statusReactive.set(L))}get valid(){return this.status===Mt}get invalid(){return this.status===qt}get pending(){return this.status==_t}get disabled(){return this.status===we}get enabled(){return this.status!==we}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(L){(0,c.O8t)(()=>this.pristineReactive.set(L))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(L){(0,c.O8t)(()=>this.touchedReactive.set(L))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(bn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(bn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(sn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(sn(L,this._rawAsyncValidators))}hasValidator(L){return Bn(this._rawValidators,L)}hasAsyncValidator(L){return Bn(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){var Ee;const z=!1===this.touched;this.touched=!0;const Ie=null!==(Ee=L.sourceControl)&&void 0!==Ee?Ee:this;this._parent&&!L.onlySelf&&this._parent.markAsTouched({...L,sourceControl:Ie}),z&&!1!==L.emitEvent&&this._events.next(new pe(!0,Ie))}markAllAsTouched(L={}){this.markAsTouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:this}),this._forEachChild(Ee=>Ee.markAllAsTouched(L))}markAsUntouched(L={}){var Ee;const z=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ie=null!==(Ee=L.sourceControl)&&void 0!==Ee?Ee:this;this._forEachChild(Dn=>{Dn.markAsUntouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:Ie})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,Ie),z&&!1!==L.emitEvent&&this._events.next(new pe(!1,Ie))}markAsDirty(L={}){var Ee;const z=!0===this.pristine;this.pristine=!1;const Ie=null!==(Ee=L.sourceControl)&&void 0!==Ee?Ee:this;this._parent&&!L.onlySelf&&this._parent.markAsDirty({...L,sourceControl:Ie}),z&&!1!==L.emitEvent&&this._events.next(new W(!1,Ie))}markAsPristine(L={}){var Ee;const z=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ie=null!==(Ee=L.sourceControl)&&void 0!==Ee?Ee:this;this._forEachChild(Dn=>{Dn.markAsPristine({onlySelf:!0,emitEvent:L.emitEvent})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L,Ie),z&&!1!==L.emitEvent&&this._events.next(new W(!0,Ie))}markAsPending(L={}){var Ee;this.status=_t;const z=null!==(Ee=L.sourceControl)&&void 0!==Ee?Ee:this;!1!==L.emitEvent&&(this._events.next(new Fe(this.status,z)),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.markAsPending({...L,sourceControl:z})}disable(L={}){var Ee;const z=this._parentMarkedDirty(L.onlySelf);this.status=we,this.errors=null,this._forEachChild(Dn=>{Dn.disable({...L,onlySelf:!0})}),this._updateValue();const Ie=null!==(Ee=L.sourceControl)&&void 0!==Ee?Ee:this;!1!==L.emitEvent&&(this._events.next(new x(this.value,Ie)),this._events.next(new Fe(this.status,Ie)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:z},this),this._onDisabledChange.forEach(Dn=>Dn(!0))}enable(L={}){const Ee=this._parentMarkedDirty(L.onlySelf);this.status=Mt,this._forEachChild(z=>{z.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:Ee},this),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(L,Ee){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine({},Ee),this._parent._updateTouched({},Ee))}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){var Ee;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ie=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mt||this.status===_t)&&this._runAsyncValidator(Ie,L.emitEvent)}const z=null!==(Ee=L.sourceControl)&&void 0!==Ee?Ee:this;!1!==L.emitEvent&&(this._events.next(new x(this.value,z)),this._events.next(new Fe(this.status,z)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity({...L,sourceControl:z})}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(Ee=>Ee._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?we:Mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L,Ee){if(this.asyncValidator){this.status=_t,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Ee};const z=Be(this.asyncValidator(this));this._asyncValidationSubscription=z.subscribe(Ie=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ie,{emitEvent:Ee,shouldHaveEmitted:L})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var L,Ee;this._asyncValidationSubscription.unsubscribe();const z=null!==(L=null===(Ee=this._hasOwnPendingAsyncValidator)||void 0===Ee?void 0:Ee.emitEvent)&&void 0!==L&&L;return this._hasOwnPendingAsyncValidator=null,z}return!1}setErrors(L,Ee={}){this.errors=L,this._updateControlsErrors(!1!==Ee.emitEvent,this,Ee.shouldHaveEmitted)}get(L){let Ee=L;return null==Ee||(Array.isArray(Ee)||(Ee=Ee.split(".")),0===Ee.length)?null:Ee.reduce((z,Ie)=>z&&z._find(Ie),this)}getError(L,Ee){const z=Ee?this.get(Ee):this;return z&&z.errors?z.errors[L]:null}hasError(L,Ee){return!!this.getError(L,Ee)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L,Ee,z){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),(L||z)&&this._events.next(new Fe(this.status,Ee)),this._parent&&this._parent._updateControlsErrors(L,Ee,z)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?we:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_t)?_t:this._anyControlsHaveStatus(qt)?qt:Mt}_anyControlsHaveStatus(L){return this._anyControls(Ee=>Ee.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L,Ee){const z=!this._anyControlsDirty(),Ie=this.pristine!==z;this.pristine=z,this._parent&&!L.onlySelf&&this._parent._updatePristine(L,Ee),Ie&&this._events.next(new W(this.pristine,Ee))}_updateTouched(L={},Ee){this.touched=this._anyControlsTouched(),this._events.next(new pe(this.touched,Ee)),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,Ee)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Hn(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function xn(Y){return Array.isArray(Y)?gn(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function yn(Y){return Array.isArray(Y)?zn(Y):Y||null}(this._rawAsyncValidators)}}class si extends Ui{constructor(L,Ee,z){super(dn(Ee),An(z,Ee)),this.controls=L,this._initObservables(),this._setUpdateStrategy(Ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,Ee){return this.controls[L]?this.controls[L]:(this.controls[L]=Ee,Ee.setParent(this),Ee._registerOnCollectionChange(this._onCollectionChange),Ee)}addControl(L,Ee,z={}){this.registerControl(L,Ee),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(L,Ee={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}setControl(L,Ee,z={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],Ee&&this.registerControl(L,Ee),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,Ee={}){Ai(this,0,L),Object.keys(L).forEach(z=>{wr(this,!0,z),this.controls[z].setValue(L[z],{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee)}patchValue(L,Ee={}){null!=L&&(Object.keys(L).forEach(z=>{const Ie=this.controls[z];Ie&&Ie.patchValue(L[z],{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee))}reset(L={},Ee={}){this._forEachChild((z,Ie)=>{z.reset(L?L[Ie]:null,{onlySelf:!0,emitEvent:Ee.emitEvent})}),this._updatePristine(Ee,this),this._updateTouched(Ee,this),this.updateValueAndValidity(Ee)}getRawValue(){return this._reduceChildren({},(L,Ee,z)=>(L[z]=Ee.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(Ee,z)=>!!z._syncPendingControls()||Ee);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(Ee=>{const z=this.controls[Ee];z&&L(z,Ee)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[Ee,z]of Object.entries(this.controls))if(this.contains(Ee)&&L(z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ee,z,Ie)=>((z.enabled||this.disabled)&&(Ee[Ie]=z.value),Ee))}_reduceChildren(L,Ee){let z=L;return this._forEachChild((Ie,Dn)=>{z=Ee(z,Ie,Dn)}),z}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class qi extends si{}const fe=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>le}),le="always";function _e(Y,L,Ee=le){var z,Ie;pn(Y,L),L.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===Ee)&&(null===(z=(Ie=L.valueAccessor).setDisabledState)||void 0===z||z.call(Ie,Y.disabled)),function ye(Y,L){L.valueAccessor.registerOnChange(Ee=>{Y._pendingValue=Ee,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&bt(Y,L)})}(Y,L),function X(Y,L){const Ee=(z,Ie)=>{L.valueAccessor.writeValue(z),Ie&&L.viewToModelUpdate(z)};Y.registerOnChange(Ee),L._registerOnDestroy(()=>{Y._unregisterOnChange(Ee)})}(Y,L),function je(Y,L){L.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&bt(Y,L),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,L),function jt(Y,L){if(L.valueAccessor.setDisabledState){const Ee=z=>{L.valueAccessor.setDisabledState(z)};Y.registerOnDisabledChange(Ee),L._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(Ee)})}}(Y,L)}function ge(Y,L,Ee=!0){const z=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(z),L.valueAccessor.registerOnTouched(z)),jn(Y,L),Y&&(L._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function Ge(Y,L){Y.forEach(Ee=>{Ee.registerOnValidatorChange&&Ee.registerOnValidatorChange(L)})}function pn(Y,L){const Ee=Kn(Y);null!==L.validator?Y.setValidators(gr(Ee,L.validator)):"function"==typeof Ee&&Y.setValidators([Ee]);const z=_r(Y);null!==L.asyncValidator?Y.setAsyncValidators(gr(z,L.asyncValidator)):"function"==typeof z&&Y.setAsyncValidators([z]);const Ie=()=>Y.updateValueAndValidity();Ge(L._rawValidators,Ie),Ge(L._rawAsyncValidators,Ie)}function jn(Y,L){let Ee=!1;if(null!==Y){if(null!==L.validator){const Ie=Kn(Y);if(Array.isArray(Ie)&&Ie.length>0){const Dn=Ie.filter(Er=>Er!==L.validator);Dn.length!==Ie.length&&(Ee=!0,Y.setValidators(Dn))}}if(null!==L.asyncValidator){const Ie=_r(Y);if(Array.isArray(Ie)&&Ie.length>0){const Dn=Ie.filter(Er=>Er!==L.asyncValidator);Dn.length!==Ie.length&&(Ee=!0,Y.setAsyncValidators(Dn))}}}const z=()=>{};return Ge(L._rawValidators,z),Ge(L._rawAsyncValidators,z),Ee}function bt(Y,L){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function Ir(Y,L){const Ee=Y.indexOf(L);Ee>-1&&Y.splice(Ee,1)}function Qi(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}Promise.resolve();const Ni=class extends Ui{constructor(L=null,Ee,z){super(dn(Ee),An(z,Ee)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(Ee),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hn(Ee)&&(Ee.nonNullable||Ee.initialValueIsDefault)&&(this.defaultValue=Qi(L)?L.value:L)}setValue(L,Ee={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==Ee.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==Ee.emitViewToModelChange)),this.updateValueAndValidity(Ee)}patchValue(L,Ee={}){this.setValue(L,Ee)}reset(L=this.defaultValue,Ee={}){this._applyFormState(L),this.markAsPristine(Ee),this.markAsUntouched(Ee),this.setValue(this.value,Ee),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Ir(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Ir(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){Qi(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}};Promise.resolve();let O=(()=>{var Y;class L{}return(Y=L).\u0275fac=function(z){return new(z||Y)},Y.\u0275dir=c.FsC({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const st=new c.nKC(""),wt={provide:Kt,useExisting:(0,c.Rfq)(()=>En)};let En=(()=>{var Y;class L extends Kt{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(z){this._submittedReactive.set(z)}constructor(z,Ie,Dn){super(),this.callSetDisabledState=Dn,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(z),this._setAsyncValidators(Ie)}ngOnChanges(z){this._checkFormPresent(),z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(z){const Ie=this.form.get(z.path);return _e(Ie,z,this.callSetDisabledState),Ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(z),Ie}getControl(z){return this.form.get(z.path)}removeControl(z){ge(z.control||null,z,!1),function lr(Y,L){const Ee=Y.indexOf(L);Ee>-1&&Y.splice(Ee,1)}(this.directives,z)}addFormGroup(z){this._setUpFormContainer(z)}removeFormGroup(z){this._cleanUpFormContainer(z)}getFormGroup(z){return this.form.get(z.path)}addFormArray(z){this._setUpFormContainer(z)}removeFormArray(z){this._cleanUpFormContainer(z)}getFormArray(z){return this.form.get(z.path)}updateModel(z,Ie){this.form.get(z.path).setValue(Ie)}onSubmit(z){var Ie;return this._submittedReactive.set(!0),function Rn(Y,L){Y._syncPendingControls(),L.forEach(Ee=>{const z=Ee.control;"submit"===z.updateOn&&z._pendingChange&&(Ee.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(z),this.form._events.next(new Ct(this.control)),"dialog"===(null==z||null===(Ie=z.target)||void 0===Ie?void 0:Ie.method)}onReset(){this.resetForm()}resetForm(z=void 0){this.form.reset(z),this._submittedReactive.set(!1),this.form._events.next(new zt(this.form))}_updateDomValue(){this.directives.forEach(z=>{const Ie=z.control,Dn=this.form.get(z.path);Ie!==Dn&&(ge(Ie||null,z),(Y=>Y instanceof Ni)(Dn)&&(_e(Dn,z,this.callSetDisabledState),z.control=Dn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(z){const Ie=this.form.get(z.path);(function be(Y,L){pn(Y,L)})(Ie,z),Ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(z){if(this.form){const Ie=this.form.get(z.path);Ie&&function ve(Y,L){return jn(Y,L)}(Ie,z)&&Ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pn(this.form,this),this._oldForm&&jn(this._oldForm,this)}_checkFormPresent(){}}return(Y=L).\u0275fac=function(z){return new(z||Y)(c.rXU(vt,10),c.rXU(Ut,10),c.rXU(fe,8))},Y.\u0275dir=c.FsC({type:Y,selectors:[["","formGroup",""]],hostBindings:function(z,Ie){1&z&&c.bIt("submit",function(Er){return Ie.onSubmit(Er)})("reset",function(){return Ie.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([wt]),c.Vt3,c.OA$]}),L})();const fr={provide:vn,useExisting:(0,c.Rfq)(()=>ur)};let ur=(()=>{var Y;class L extends vn{set isDisabled(z){}constructor(z,Ie,Dn,Er,Si){super(),this._ngModelWarningConfig=Si,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=z,this._setValidators(Ie),this._setAsyncValidators(Dn),this.valueAccessor=function kn(Y,L){if(!L)return null;let Ee,z,Ie;return Array.isArray(L),L.forEach(Dn=>{Dn.constructor===Te?Ee=Dn:function Tn(Y){return Object.getPrototypeOf(Y.constructor)===ut}(Dn)?z=Dn:Ie=Dn}),Ie||z||Ee||null}(0,Er)}ngOnChanges(z){this._added||this._setUpControl(),function Wt(Y,L){if(!Y.hasOwnProperty("model"))return!1;const Ee=Y.model;return!!Ee.isFirstChange()||!Object.is(L,Ee.currentValue)}(z,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}get path(){return function Je(Y,L){return[...L.path,Y]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(Y=L)._ngModelWarningSentOnce=!1,Y.\u0275fac=function(z){return new(z||Y)(c.rXU(Kt,13),c.rXU(vt,10),c.rXU(Ut,10),c.rXU(gt,10),c.rXU(st,8))},Y.\u0275dir=c.FsC({type:Y,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([fr]),c.Vt3,c.OA$]}),L})();function Wa(Y){return"number"==typeof Y?Y:parseFloat(Y)}let _o=(()=>{var Y;class L{constructor(){this._validator=Se}ngOnChanges(z){if(this.inputName in z){const Ie=this.normalizeInput(z[this.inputName].currentValue);this._enabled=this.enabled(Ie),this._validator=this._enabled?this.createValidator(Ie):Se,this._onChange&&this._onChange()}}validate(z){return this._validator(z)}registerOnValidatorChange(z){this._onChange=z}enabled(z){return null!=z}}return(Y=L).\u0275fac=function(z){return new(z||Y)},Y.\u0275dir=c.FsC({type:Y,features:[c.OA$]}),L})();const no={provide:vt,useExisting:(0,c.Rfq)(()=>So),multi:!0};let So=(()=>{var Y;class L extends _o{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=z=>Wa(z),this.createValidator=z=>un(z)}}return(Y=L).\u0275fac=(()=>{let Ee;return function(Ie){return(Ee||(Ee=c.xGo(Y)))(Ie||Y)}})(),Y.\u0275dir=c.FsC({type:Y,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(z,Ie){2&z&&c.BMQ("max",Ie._enabled?Ie.max:null)},inputs:{max:"max"},features:[c.Jv_([no]),c.Vt3]}),L})();const Zo={provide:vt,useExisting:(0,c.Rfq)(()=>ys),multi:!0};let ys=(()=>{var Y;class L extends _o{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=z=>Wa(z),this.createValidator=z=>Xt(z)}}return(Y=L).\u0275fac=(()=>{let Ee;return function(Ie){return(Ee||(Ee=c.xGo(Y)))(Ie||Y)}})(),Y.\u0275dir=c.FsC({type:Y,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(z,Ie){2&z&&c.BMQ("min",Ie._enabled?Ie.min:null)},inputs:{min:"min"},features:[c.Jv_([Zo]),c.Vt3]}),L})(),Is=(()=>{var Y;class L{}return(Y=L).\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=c.$C({type:Y}),Y.\u0275inj=c.G2t({}),L})();class Yi extends Ui{constructor(L,Ee,z){super(dn(Ee),An(z,Ee)),this.controls=L,this._initObservables(),this._setUpdateStrategy(Ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,Ee={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}insert(L,Ee,z={}){this.controls.splice(L,0,Ee),this._registerControl(Ee),this.updateValueAndValidity({emitEvent:z.emitEvent})}removeAt(L,Ee={}){let z=this._adjustIndex(L);z<0&&(z=0),this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),this.controls.splice(z,1),this.updateValueAndValidity({emitEvent:Ee.emitEvent})}setControl(L,Ee,z={}){let Ie=this._adjustIndex(L);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),Ee&&(this.controls.splice(Ie,0,Ee),this._registerControl(Ee)),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,Ee={}){Ai(this,0,L),L.forEach((z,Ie)=>{wr(this,!1,Ie),this.at(Ie).setValue(z,{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee)}patchValue(L,Ee={}){null!=L&&(L.forEach((z,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(z,{onlySelf:!0,emitEvent:Ee.emitEvent})}),this.updateValueAndValidity(Ee))}reset(L=[],Ee={}){this._forEachChild((z,Ie)=>{z.reset(L[Ie],{onlySelf:!0,emitEvent:Ee.emitEvent})}),this._updatePristine(Ee,this),this._updateTouched(Ee,this),this.updateValueAndValidity(Ee)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(Ee=>Ee._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((Ee,z)=>!!z._syncPendingControls()||Ee,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((Ee,z)=>{L(Ee,z)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(Ee=>Ee.enabled&&L(Ee))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){var Ee;return null!==(Ee=this.at(L))&&void 0!==Ee?Ee:null}}function wi(Y){return!!Y&&(void 0!==Y.asyncValidators||void 0!==Y.validators||void 0!==Y.updateOn)}let Po=(()=>{var Y;class L{constructor(){this.useNonNullable=!1}get nonNullable(){const z=new L;return z.useNonNullable=!0,z}group(z,Ie=null){const Dn=this._reduceControls(z);let Er={};return wi(Ie)?Er=Ie:null!==Ie&&(Er.validators=Ie.validator,Er.asyncValidators=Ie.asyncValidator),new si(Dn,Er)}record(z,Ie=null){const Dn=this._reduceControls(z);return new qi(Dn,Ie)}control(z,Ie,Dn){let Er={};return this.useNonNullable?(wi(Ie)?Er=Ie:(Er.validators=Ie,Er.asyncValidators=Dn),new Ni(z,{...Er,nonNullable:!0})):new Ni(z,Ie,Dn)}array(z,Ie,Dn){const Er=z.map(Si=>this._createControl(Si));return new Yi(Er,Ie,Dn)}_reduceControls(z){const Ie={};return Object.keys(z).forEach(Dn=>{Ie[Dn]=this._createControl(z[Dn])}),Ie}_createControl(z){return z instanceof Ni||z instanceof Ui?z:Array.isArray(z)?this.control(z[0],z.length>1?z[1]:null,z.length>2?z[2]:null):this.control(z)}}return(Y=L).\u0275fac=function(z){return new(z||Y)},Y.\u0275prov=c.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"}),L})(),jl=(()=>{var Y;class L{static withConfig(z){var Ie;return{ngModule:L,providers:[{provide:fe,useValue:null!==(Ie=z.callSetDisabledState)&&void 0!==Ie?Ie:le}]}}}return(Y=L).\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=c.$C({type:Y}),Y.\u0275inj=c.G2t({imports:[Is]}),L})(),Ko=(()=>{var Y;class L{static withConfig(z){var Ie,Dn;return{ngModule:L,providers:[{provide:st,useValue:null!==(Ie=z.warnOnNgModelWithFormControl)&&void 0!==Ie?Ie:"always"},{provide:fe,useValue:null!==(Dn=z.callSetDisabledState)&&void 0!==Dn?Dn:le}]}}}return(Y=L).\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=c.$C({type:Y}),Y.\u0275inj=c.G2t({imports:[Is]}),L})()},345:(Gn,St,k)=>{"use strict";k.d(St,{Bb:()=>Xn,hE:()=>sn,sG:()=>zn});var c=k(177),p=k(3953);class U extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class q extends U{static makeCurrent(){(0,c.ZD)(new q)}onAndCancel(Mt,qt,_t){return Mt.addEventListener(qt,_t),()=>{Mt.removeEventListener(qt,_t)}}dispatchEvent(Mt,qt){Mt.dispatchEvent(qt)}remove(Mt){Mt.remove()}createElement(Mt,qt){return(qt=qt||this.getDefaultDocument()).createElement(Mt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Mt){return Mt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Mt){return Mt instanceof DocumentFragment}getGlobalEventTarget(Mt,qt){return"window"===qt?window:"document"===qt?Mt:"body"===qt?Mt.body:null}getBaseHref(Mt){const qt=function Pe(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==qt?null:function ke(Yt){return new URL(Yt,document.baseURI).pathname}(qt)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(Mt){return(0,c._b)(document.cookie,Mt)}}let ce=null,ot=(()=>{var Yt;class Mt{build(){return new XMLHttpRequest}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac}),Mt})();const Ve=new p.nKC("");let me=(()=>{var Yt;class Mt{constructor(_t,we){this._zone=we,this._eventNameToPlugin=new Map,_t.forEach(Z=>{Z.manager=this}),this._plugins=_t.slice().reverse()}addEventListener(_t,we,Z){return this._findPluginFor(we).addEventListener(_t,we,Z)}getZone(){return this._zone}_findPluginFor(_t){let we=this._eventNameToPlugin.get(_t);if(we)return we;if(we=this._plugins.find(x=>x.supports(_t)),!we)throw new p.wOt(5101,!1);return this._eventNameToPlugin.set(_t,we),we}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(Ve),p.KVO(p.SKi))},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac}),Mt})();class We{constructor(Mt){this._doc=Mt}}const Ye="ng-app-id";let He=(()=>{var Yt;class Mt{constructor(_t,we,Z,x={}){this.doc=_t,this.appId=we,this.nonce=Z,this.platformId=x,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(x),this.resetHostNodes()}addStyles(_t){for(const we of _t)1===this.changeUsageCount(we,1)&&this.onStyleAdded(we)}removeStyles(_t){for(const we of _t)this.changeUsageCount(we,-1)<=0&&this.onStyleRemoved(we)}ngOnDestroy(){const _t=this.styleNodesInDOM;_t&&(_t.forEach(we=>we.remove()),_t.clear());for(const we of this.getAllStyles())this.onStyleRemoved(we);this.resetHostNodes()}addHost(_t){this.hostNodes.add(_t);for(const we of this.getAllStyles())this.addStyleToHost(_t,we)}removeHost(_t){this.hostNodes.delete(_t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(_t){for(const we of this.hostNodes)this.addStyleToHost(we,_t)}onStyleRemoved(_t){var we;const Z=this.styleRef;null===(we=Z.get(_t))||void 0===we||null===(we=we.elements)||void 0===we||we.forEach(x=>x.remove()),Z.delete(_t)}collectServerRenderedStyles(){var _t;const we=null===(_t=this.doc.head)||void 0===_t?void 0:_t.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(null!=we&&we.length){const Z=new Map;return we.forEach(x=>{null!=x.textContent&&Z.set(x.textContent,x)}),Z}return null}changeUsageCount(_t,we){const Z=this.styleRef;if(Z.has(_t)){const x=Z.get(_t);return x.usage+=we,x.usage}return Z.set(_t,{usage:we,elements:[]}),we}getStyleElement(_t,we){const Z=this.styleNodesInDOM,x=null==Z?void 0:Z.get(we);if((null==x?void 0:x.parentNode)===_t)return Z.delete(we),x.removeAttribute(Ye),x;{const W=this.doc.createElement("style");return this.nonce&&W.setAttribute("nonce",this.nonce),W.textContent=we,this.platformIsServer&&W.setAttribute(Ye,this.appId),_t.appendChild(W),W}}addStyleToHost(_t,we){var Z;const x=this.getStyleElement(_t,we),W=this.styleRef,pe=null===(Z=W.get(we))||void 0===Z?void 0:Z.elements;pe?pe.push(x):W.set(we,{elements:[x],usage:1})}resetHostNodes(){const _t=this.hostNodes;_t.clear(),_t.add(this.doc.head)}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(c.qQ),p.KVO(p.sZ2),p.KVO(p.BIS,8),p.KVO(p.Agw))},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac}),Mt})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gt=/%COMP%/g,Qe=new p.nKC("",{providedIn:"root",factory:()=>!0});function ct(Yt,Mt){return Mt.map(qt=>qt.replace(gt,Yt))}let vt=(()=>{var Yt;class Mt{constructor(_t,we,Z,x,W,pe,Fe,Ct=null){this.eventManager=_t,this.sharedStylesHost=we,this.appId=Z,this.removeStylesOnCompDestroy=x,this.doc=W,this.platformId=pe,this.ngZone=Fe,this.nonce=Ct,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(pe),this.defaultRenderer=new Ut(_t,W,Fe,this.platformIsServer)}createRenderer(_t,we){if(!_t||!we)return this.defaultRenderer;this.platformIsServer&&we.encapsulation===p.gXe.ShadowDom&&(we={...we,encapsulation:p.gXe.Emulated});const Z=this.getOrCreateRenderer(_t,we);return Z instanceof Ft?Z.applyToHost(_t):Z instanceof Ht&&Z.applyStyles(),Z}getOrCreateRenderer(_t,we){const Z=this.rendererByCompId;let x=Z.get(we.id);if(!x){const W=this.doc,pe=this.ngZone,Fe=this.eventManager,Ct=this.sharedStylesHost,zt=this.removeStylesOnCompDestroy,dn=this.platformIsServer;switch(we.encapsulation){case p.gXe.Emulated:x=new Ft(Fe,Ct,we,this.appId,zt,W,pe,dn);break;case p.gXe.ShadowDom:return new un(Fe,Ct,_t,we,W,pe,this.nonce,dn);default:x=new Ht(Fe,Ct,we,zt,W,pe,dn)}Z.set(we.id,x)}return x}ngOnDestroy(){this.rendererByCompId.clear()}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(me),p.KVO(He),p.KVO(p.sZ2),p.KVO(Qe),p.KVO(c.qQ),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(p.BIS))},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac}),Mt})();class Ut{constructor(Mt,qt,_t,we){this.eventManager=Mt,this.doc=qt,this.ngZone=_t,this.platformIsServer=we,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Mt,qt){return qt?this.doc.createElementNS(ut[qt]||qt,Mt):this.doc.createElement(Mt)}createComment(Mt){return this.doc.createComment(Mt)}createText(Mt){return this.doc.createTextNode(Mt)}appendChild(Mt,qt){(Xt(Mt)?Mt.content:Mt).appendChild(qt)}insertBefore(Mt,qt,_t){Mt&&(Xt(Mt)?Mt.content:Mt).insertBefore(qt,_t)}removeChild(Mt,qt){qt.remove()}selectRootElement(Mt,qt){let _t="string"==typeof Mt?this.doc.querySelector(Mt):Mt;if(!_t)throw new p.wOt(-5104,!1);return qt||(_t.textContent=""),_t}parentNode(Mt){return Mt.parentNode}nextSibling(Mt){return Mt.nextSibling}setAttribute(Mt,qt,_t,we){if(we){qt=we+":"+qt;const Z=ut[we];Z?Mt.setAttributeNS(Z,qt,_t):Mt.setAttribute(qt,_t)}else Mt.setAttribute(qt,_t)}removeAttribute(Mt,qt,_t){if(_t){const we=ut[_t];we?Mt.removeAttributeNS(we,qt):Mt.removeAttribute(`${_t}:${qt}`)}else Mt.removeAttribute(qt)}addClass(Mt,qt){Mt.classList.add(qt)}removeClass(Mt,qt){Mt.classList.remove(qt)}setStyle(Mt,qt,_t,we){we&(p.czy.DashCase|p.czy.Important)?Mt.style.setProperty(qt,_t,we&p.czy.Important?"important":""):Mt.style[qt]=_t}removeStyle(Mt,qt,_t){_t&p.czy.DashCase?Mt.style.removeProperty(qt):Mt.style[qt]=""}setProperty(Mt,qt,_t){null!=Mt&&(Mt[qt]=_t)}setValue(Mt,qt){Mt.nodeValue=qt}listen(Mt,qt,_t){if("string"==typeof Mt&&!(Mt=(0,c.QT)().getGlobalEventTarget(this.doc,Mt)))throw new Error(`Unsupported event target ${Mt} for event ${qt}`);return this.eventManager.addEventListener(Mt,qt,this.decoratePreventDefault(_t))}decoratePreventDefault(Mt){return qt=>{if("__ngUnwrap__"===qt)return Mt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Mt(qt)):Mt(qt))&&qt.preventDefault()}}}function Xt(Yt){return"TEMPLATE"===Yt.tagName&&void 0!==Yt.content}class un extends Ut{constructor(Mt,qt,_t,we,Z,x,W,pe){super(Mt,Z,x,pe),this.sharedStylesHost=qt,this.hostEl=_t,this.shadowRoot=_t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Fe=ct(we.id,we.styles);for(const Ct of Fe){const zt=document.createElement("style");W&&zt.setAttribute("nonce",W),zt.textContent=Ct,this.shadowRoot.appendChild(zt)}}nodeOrShadowRoot(Mt){return Mt===this.hostEl?this.shadowRoot:Mt}appendChild(Mt,qt){return super.appendChild(this.nodeOrShadowRoot(Mt),qt)}insertBefore(Mt,qt,_t){return super.insertBefore(this.nodeOrShadowRoot(Mt),qt,_t)}removeChild(Mt,qt){return super.removeChild(null,qt)}parentNode(Mt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Mt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ht extends Ut{constructor(Mt,qt,_t,we,Z,x,W,pe){super(Mt,Z,x,W),this.sharedStylesHost=qt,this.removeStylesOnCompDestroy=we,this.styles=pe?ct(pe,_t.styles):_t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ft extends Ht{constructor(Mt,qt,_t,we,Z,x,W,pe){const Fe=we+"-"+_t.id;super(Mt,qt,_t,Z,x,W,pe,Fe),this.contentAttr=function Te(Yt){return"_ngcontent-%COMP%".replace(gt,Yt)}(Fe),this.hostAttr=function $e(Yt){return"_nghost-%COMP%".replace(gt,Yt)}(Fe)}applyToHost(Mt){this.applyStyles(),this.setAttribute(Mt,this.hostAttr,"")}createElement(Mt,qt){const _t=super.createElement(Mt,qt);return super.setAttribute(_t,this.contentAttr,""),_t}}let Qn=(()=>{var Yt;class Mt extends We{constructor(_t){super(_t)}supports(_t){return!0}addEventListener(_t,we,Z){return _t.addEventListener(we,Z,!1),()=>this.removeEventListener(_t,we,Z)}removeEventListener(_t,we,Z){return _t.removeEventListener(we,Z)}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(c.qQ))},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac}),Mt})(),Ze=(()=>{var Yt;class Mt extends We{constructor(_t){super(_t),this.delegate=(0,p.WQX)(p.zAP,{optional:!0})}supports(_t){return!!this.delegate&&this.delegate.supports(_t)}addEventListener(_t,we,Z){return this.delegate.addEventListener(_t,we,Z)}removeEventListener(_t,we,Z){return this.delegate.removeEventListener(_t,we,Z)}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(c.qQ))},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac}),Mt})();const ee=["alt","control","meta","shift"],de={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Se={alt:Yt=>Yt.altKey,control:Yt=>Yt.ctrlKey,meta:Yt=>Yt.metaKey,shift:Yt=>Yt.shiftKey};let he=(()=>{var Yt;class Mt extends We{constructor(_t){super(_t)}supports(_t){return null!=Mt.parseEventName(_t)}addEventListener(_t,we,Z){const x=Mt.parseEventName(we),W=Mt.eventCallback(x.fullKey,Z,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(_t,x.domEventName,W))}static parseEventName(_t){const we=_t.toLowerCase().split("."),Z=we.shift();if(0===we.length||"keydown"!==Z&&"keyup"!==Z)return null;const x=Mt._normalizeKey(we.pop());let W="",pe=we.indexOf("code");if(pe>-1&&(we.splice(pe,1),W="code."),ee.forEach(Ct=>{const zt=we.indexOf(Ct);zt>-1&&(we.splice(zt,1),W+=Ct+".")}),W+=x,0!=we.length||0===x.length)return null;const Fe={};return Fe.domEventName=Z,Fe.fullKey=W,Fe}static matchEventFullKeyCode(_t,we){let Z=de[_t.key]||_t.key,x="";return we.indexOf("code.")>-1&&(Z=_t.code,x="code."),!(null==Z||!Z)&&(Z=Z.toLowerCase()," "===Z?Z="space":"."===Z&&(Z="dot"),ee.forEach(W=>{W!==Z&&(0,Se[W])(_t)&&(x+=W+".")}),x+=Z,x===we)}static eventCallback(_t,we,Z){return x=>{Mt.matchEventFullKeyCode(x,_t)&&Z.runGuarded(()=>we(x))}}static _normalizeKey(_t){return"esc"===_t?"escape":_t}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(c.qQ))},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac}),Mt})();const zn=(0,p.oH4)(p.fpN,"browser",[{provide:p.Agw,useValue:c.AJ},{provide:p.PLl,useValue:function Vt(){q.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function gn(){return(0,p.TL$)(document),document},deps:[]}]),gr=new p.nKC(""),Kn=[{provide:p.e01,useClass:class Re{addToWindow(Mt){p.JZv.getAngularTestability=(_t,we=!0)=>{const Z=Mt.findTestabilityInTree(_t,we);if(null==Z)throw new p.wOt(5103,!1);return Z},p.JZv.getAllAngularTestabilities=()=>Mt.getAllTestabilities(),p.JZv.getAllAngularRootElements=()=>Mt.getAllRootElements(),p.JZv.frameworkStabilizers||(p.JZv.frameworkStabilizers=[]),p.JZv.frameworkStabilizers.push(_t=>{const we=p.JZv.getAllAngularTestabilities();let Z=we.length;const x=function(){Z--,0==Z&&_t()};we.forEach(W=>{W.whenStable(x)})})}findTestabilityInTree(Mt,qt,_t){if(null==qt)return null;const we=Mt.getTestability(qt);return null!=we?we:_t?(0,c.QT)().isShadowRoot(qt)?this.findTestabilityInTree(Mt,qt.host,!0):this.findTestabilityInTree(Mt,qt.parentElement,!0):null}},deps:[]},{provide:p.WHO,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]},{provide:p.NYb,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]}],_r=[{provide:p.H8p,useValue:"root"},{provide:p.zcH,useFactory:function Ln(){return new p.zcH},deps:[]},{provide:Ve,useClass:Qn,multi:!0,deps:[c.qQ,p.SKi,p.Agw]},{provide:Ve,useClass:he,multi:!0,deps:[c.qQ]},{provide:Ve,useClass:Ze,multi:!0},vt,He,me,{provide:p._9s,useExisting:vt},{provide:c.N0,useClass:ot,deps:[]},[]];let Xn=(()=>{var Yt;class Mt{constructor(_t){}static withServerTransition(_t){return{ngModule:Mt,providers:[{provide:p.sZ2,useValue:_t.appId}]}}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(gr,12))},Yt.\u0275mod=p.$C({type:Yt}),Yt.\u0275inj=p.G2t({providers:[..._r,...Kn],imports:[c.MD,p.Hbi]}),Mt})(),sn=(()=>{var Yt;class Mt{constructor(_t){this._doc=_t}getTitle(){return this._doc.title}setTitle(_t){this._doc.title=_t||""}}return(Yt=Mt).\u0275fac=function(_t){return new(_t||Yt)(p.KVO(c.qQ))},Yt.\u0275prov=p.jDH({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Mt})()},9384:(Gn,St,k)=>{"use strict";k.d(St,{nX:()=>In,Zp:()=>ei,Z:()=>Xe,Xk:()=>gn,Kp:()=>uc,b:()=>Jt,Ix:()=>ji,Wk:()=>Vs,iI:()=>Ps,Sd:()=>rr});var c=k(3953),p=k(1985),U=k(8071),ce=k(8455),Pe=k(7673),ke=k(4412),Re=k(4572),ot=k(9350),Ve=k(8793),me=k(8750);function We(T){return new p.c(P=>{(0,me.Tg)(T()).subscribe(P)})}var Ye=k(1203);function He(T,P){const V=(0,U.T)(T)?T:()=>T,S=$=>$.error(V());return new p.c(P?$=>P.schedule(S,0,$):S)}var ut=k(983),gt=k(8359),mt=k(9974),ft=k(4360);function Ot(){return(0,mt.N)((T,P)=>{let V=null;T._refCount++;const S=(0,ft._)(P,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(V=null);const $=T._connection,De=V;V=null,$&&(!De||$===De)&&$.unsubscribe(),P.unsubscribe()});T.subscribe(S),S.closed||(V=T.connect())})}class Tt extends p.c{constructor(P,V){super(),this.source=P,this.subjectFactory=V,this._subject=null,this._refCount=0,this._connection=null,(0,mt.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new gt.yU;const V=this.getSubject();P.add(this.source.subscribe((0,ft._)(V,void 0,()=>{this._teardown(),V.complete()},S=>{this._teardown(),V.error(S)},()=>this._teardown()))),P.closed&&(this._connection=null,P=gt.yU.EMPTY)}return P}refCount(){return Ot()(this)}}var Qe=k(1413),Te=k(177),$e=k(6354),ct=k(5558),vt=k(6697),Ut=k(9172),ae=k(5964),Et=k(1397),Xt=k(1594),un=k(274),Ht=k(8141);function Ft(T){return(0,mt.N)((P,V)=>{let De,S=null,$=!1;S=P.subscribe((0,ft._)(V,void 0,void 0,xe=>{De=(0,me.Tg)(T(xe,Ft(T)(P))),S?(S.unsubscribe(),S=null,De.subscribe(V)):$=!0})),$&&(S.unsubscribe(),S=null,De.subscribe(V))})}var Qn=k(2816),Ze=k(9901);function ee(T){return T<=0?()=>ut.w:(0,mt.N)((P,V)=>{let S=[];P.subscribe((0,ft._)(V,$=>{S.push($),T<S.length&&S.shift()},()=>{for(const $ of S)V.next($);V.complete()},void 0,()=>{S=null}))})}var de=k(3774),Se=k(3669),Ke=k(980),it=k(5343),Vt=k(6365),Ln=k(345);const gn="primary",ir=Symbol("RouteTitle");class zn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V[0]:V}return null}getAll(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function gr(T){return new zn(T)}function Kn(T,P,V){const S=V.path.split("/");if(S.length>T.length||"full"===V.pathMatch&&(P.hasChildren()||S.length<T.length))return null;const $={};for(let De=0;De<S.length;De++){const xe=S[De],Gt=T[De];if(":"===xe[0])$[xe.substring(1)]=Gt;else if(xe!==Gt.path)return null}return{consumed:T.slice(0,S.length),posParams:$}}function Xn(T,P){const V=T?Bn(T):void 0,S=P?Bn(P):void 0;if(!V||!S||V.length!=S.length)return!1;let $;for(let De=0;De<V.length;De++)if($=V[De],!bn(T[$],P[$]))return!1;return!0}function Bn(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function bn(T,P){if(Array.isArray(T)&&Array.isArray(P)){if(T.length!==P.length)return!1;const V=[...T].sort(),S=[...P].sort();return V.every(($,De)=>S[De]===$)}return T===P}function sn(T){return T.length>0?T[T.length-1]:null}function At(T){return function q(T){return!!T&&(T instanceof p.c||(0,U.T)(T.lift)&&(0,U.T)(T.subscribe))}(T)?T:(0,c.jNT)(T)?(0,ce.H)(Promise.resolve(T)):(0,Pe.of)(T)}const Kt={exact:function Tr(T,P,V){if(!Pr(T.segments,P.segments)||!Xr(T.segments,P.segments,V)||T.numberOfChildren!==P.numberOfChildren)return!1;for(const S in P.children)if(!T.children[S]||!Tr(T.children[S],P.children[S],V))return!1;return!0},subset:mn},vn={exact:function Br(T,P){return Xn(T,P)},subset:function Zn(T,P){return Object.keys(P).length<=Object.keys(T).length&&Object.keys(P).every(V=>bn(T[V],P[V]))},ignored:()=>!0};function ln(T,P,V){return Kt[V.paths](T.root,P.root,V.matrixParams)&&vn[V.queryParams](T.queryParams,P.queryParams)&&!("exact"===V.fragment&&T.fragment!==P.fragment)}function mn(T,P,V){return kr(T,P,P.segments,V)}function kr(T,P,V,S){if(T.segments.length>V.length){const $=T.segments.slice(0,V.length);return!(!Pr($,V)||P.hasChildren()||!Xr($,V,S))}if(T.segments.length===V.length){if(!Pr(T.segments,V)||!Xr(T.segments,V,S))return!1;for(const $ in P.children)if(!T.children[$]||!mn(T.children[$],P.children[$],S))return!1;return!0}{const $=V.slice(0,T.segments.length),De=V.slice(T.segments.length);return!!(Pr(T.segments,$)&&Xr(T.segments,$,S)&&T.children[gn])&&kr(T.children[gn],P,De,S)}}function Xr(T,P,V){return P.every((S,$)=>vn[V](T[$].parameters,S.parameters))}class Dr{constructor(P=new yr([],{}),V={},S=null){this.root=P,this.queryParams=V,this.fragment=S}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return _i.serialize(this)}}class yr{constructor(P,V){this.segments=P,this.children=V,this.parent=null,Object.values(V).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pt(this)}}class Hr{constructor(P,V){this.path=P,this.parameters=V}get parameterMap(){var P;return null!==(P=this._parameterMap)&&void 0!==P||(this._parameterMap=gr(this.parameters)),this._parameterMap}toString(){return qt(this)}}function Pr(T,P){return T.length===P.length&&T.every((V,S)=>V.path===P[S].path)}let rr=(()=>{var T;class P{}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>new br,providedIn:"root"}),P})();class br{parse(P){const V=new xn(P);return new Dr(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(P){const V=`/${Vr(P.root,!0)}`,S=function we(T){const P=Object.entries(T).map(([V,S])=>Array.isArray(S)?S.map($=>`${yi(V)}=${yi($)}`).join("&"):`${yi(V)}=${yi(S)}`).filter(V=>V);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${V}${S}${"string"==typeof P.fragment?`#${function Vi(T){return encodeURI(T)}(P.fragment)}`:""}`}}const _i=new br;function Pt(T){return T.segments.map(P=>qt(P)).join("/")}function Vr(T,P){if(!T.hasChildren())return Pt(T);if(P){const V=T.children[gn]?Vr(T.children[gn],!1):"",S=[];return Object.entries(T.children).forEach(([$,De])=>{$!==gn&&S.push(`${$}:${Vr(De,!1)}`)}),S.length>0?`${V}(${S.join("//")})`:V}{const V=function Ii(T,P){let V=[];return Object.entries(T.children).forEach(([S,$])=>{S===gn&&(V=V.concat(P($,S)))}),Object.entries(T.children).forEach(([S,$])=>{S!==gn&&(V=V.concat(P($,S)))}),V}(T,(S,$)=>$===gn?[Vr(T.children[gn],!1)]:[`${$}:${Vr(S,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[gn]?`${Pt(T)}/${V[0]}`:`${Pt(T)}/(${V.join("//")})`}}function mr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(T){return mr(T).replace(/%3B/gi,";")}function mi(T){return mr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yt(T){return decodeURIComponent(T)}function Mt(T){return Yt(T.replace(/\+/g,"%20"))}function qt(T){return`${mi(T.path)}${function _t(T){return Object.entries(T).map(([P,V])=>`;${mi(P)}=${mi(V)}`).join("")}(T.parameters)}`}const Z=/^[^\/()?;#]+/;function x(T){const P=T.match(Z);return P?P[0]:""}const W=/^[^\/()?;=#]+/,Fe=/^[^=?&#]+/,zt=/^[^&#]+/;class xn{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yr([],{}):new yr([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(P.length>0||Object.keys(V).length>0)&&(S[gn]=new yr(P,V)),S}parseSegment(){const P=x(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(P),new Hr(Yt(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const V=function pe(T){const P=T.match(W);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let S="";if(this.consumeOptional("=")){const $=x(this.remaining);$&&(S=$,this.capture(S))}P[Yt(V)]=Yt(S)}parseQueryParam(P){const V=function Ct(T){const P=T.match(Fe);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let S="";if(this.consumeOptional("=")){const xe=function dn(T){const P=T.match(zt);return P?P[0]:""}(this.remaining);xe&&(S=xe,this.capture(S))}const $=Mt(V),De=Mt(S);if(P.hasOwnProperty($)){let xe=P[$];Array.isArray(xe)||(xe=[xe],P[$]=xe),xe.push(De)}else P[$]=De}parseParens(P){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=x(this.remaining),$=this.remaining[S.length];if("/"!==$&&")"!==$&&";"!==$)throw new c.wOt(4010,!1);let De;S.indexOf(":")>-1?(De=S.slice(0,S.indexOf(":")),this.capture(De),this.capture(":")):P&&(De=gn);const xe=this.parseChildren();V[De]=1===Object.keys(xe).length?xe[gn]:new yr([],xe),this.consumeOptional("//")}return V}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new c.wOt(4011,!1)}}function An(T){return T.segments.length>0?new yr([],{[gn]:T}):T}function yn(T){const P={};for(const[S,$]of Object.entries(T.children)){const De=yn($);if(S===gn&&0===De.segments.length&&De.hasChildren())for(const[xe,Gt]of Object.entries(De.children))P[xe]=Gt;else(De.segments.length>0||De.hasChildren())&&(P[S]=De)}return function Hn(T){if(1===T.numberOfChildren&&T.children[gn]){const P=T.children[gn];return new yr(T.segments.concat(P.segments),P.children)}return T}(new yr(T.segments,P))}function wr(T){return T instanceof Dr}function Ui(T){var P;let V;const De=An(function S(xe){const Gt={};for(const Zt of xe.children){const or=S(Zt);Gt[Zt.outlet]=or}const Mn=new yr(xe.url,Gt);return xe===T&&(V=Mn),Mn}(T.root));return null!==(P=V)&&void 0!==P?P:De}function si(T,P,V,S){let $=T;for(;$.parent;)$=$.parent;if(0===P.length)return Bi($,$,$,V,S);const De=function fe(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new tn(!0,0,T);let P=0,V=!1;const S=T.reduce(($,De,xe)=>{if("object"==typeof De&&null!=De){if(De.outlets){const Gt={};return Object.entries(De.outlets).forEach(([Mn,Zt])=>{Gt[Mn]="string"==typeof Zt?Zt.split("/"):Zt}),[...$,{outlets:Gt}]}if(De.segmentPath)return[...$,De.segmentPath]}return"string"!=typeof De?[...$,De]:0===xe?(De.split("/").forEach((Gt,Mn)=>{0==Mn&&"."===Gt||(0==Mn&&""===Gt?V=!0:".."===Gt?P++:""!=Gt&&$.push(Gt))}),$):[...$,De]},[]);return new tn(V,P,S)}(P);if(De.toRoot())return Bi($,$,new yr([],{}),V,S);const xe=function Je(T,P,V){if(T.isAbsolute)return new le(P,!0,0);if(!V)return new le(P,!1,NaN);if(null===V.parent)return new le(V,!0,0);const S=xi(T.commands[0])?0:1;return function _e(T,P,V){let S=T,$=P,De=V;for(;De>$;){if(De-=$,S=S.parent,!S)throw new c.wOt(4005,!1);$=S.segments.length}return new le(S,!1,$-De)}(V,V.segments.length-1+S,T.numberOfDoubleDots)}(De,$,T),Gt=xe.processChildren?jt(xe.segmentGroup,xe.index,De.commands):Ge(xe.segmentGroup,xe.index,De.commands);return Bi($,xe.segmentGroup,Gt,V,S)}function xi(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function ki(T){return"object"==typeof T&&null!=T&&T.outlets}function Bi(T,P,V,S,$){let xe,De={};S&&Object.entries(S).forEach(([Mn,Zt])=>{De[Mn]=Array.isArray(Zt)?Zt.map(or=>`${or}`):`${Zt}`}),xe=T===P?V:qi(T,P,V);const Gt=An(yn(xe));return new Dr(Gt,De,$)}function qi(T,P,V){const S={};return Object.entries(T.children).forEach(([$,De])=>{S[$]=De===P?V:qi(De,P,V)}),new yr(T.segments,S)}class tn{constructor(P,V,S){if(this.isAbsolute=P,this.numberOfDoubleDots=V,this.commands=S,P&&S.length>0&&xi(S[0]))throw new c.wOt(4003,!1);const $=S.find(ki);if($&&$!==sn(S))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class le{constructor(P,V,S){this.segmentGroup=P,this.processChildren=V,this.index=S}}function Ge(T,P,V){var S;if(null!==(S=T)&&void 0!==S||(T=new yr([],{})),0===T.segments.length&&T.hasChildren())return jt(T,P,V);const $=function pn(T,P,V){let S=0,$=P;const De={match:!1,pathIndex:0,commandIndex:0};for(;$<T.segments.length;){if(S>=V.length)return De;const xe=T.segments[$],Gt=V[S];if(ki(Gt))break;const Mn=`${Gt}`,Zt=S<V.length-1?V[S+1]:null;if($>0&&void 0===Mn)break;if(Mn&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!bt(Mn,Zt,xe))return De;S+=2}else{if(!bt(Mn,{},xe))return De;S++}$++}return{match:!0,pathIndex:$,commandIndex:S}}(T,P,V),De=V.slice($.commandIndex);if($.match&&$.pathIndex<T.segments.length){const xe=new yr(T.segments.slice(0,$.pathIndex),{});return xe.children[gn]=new yr(T.segments.slice($.pathIndex),T.children),jt(xe,0,De)}return $.match&&0===De.length?new yr(T.segments,{}):$.match&&!T.hasChildren()?jn(T,P,V):$.match?jt(T,0,De):jn(T,P,V)}function jt(T,P,V){if(0===V.length)return new yr(T.segments,{});{const S=function ge(T){return ki(T[0])?T[0].outlets:{[gn]:T}}(V),$={};if(Object.keys(S).some(De=>De!==gn)&&T.children[gn]&&1===T.numberOfChildren&&0===T.children[gn].segments.length){const De=jt(T.children[gn],P,V);return new yr(T.segments,De.children)}return Object.entries(S).forEach(([De,xe])=>{"string"==typeof xe&&(xe=[xe]),null!==xe&&($[De]=Ge(T.children[De],P,xe))}),Object.entries(T.children).forEach(([De,xe])=>{void 0===S[De]&&($[De]=xe)}),new yr(T.segments,$)}}function jn(T,P,V){const S=T.segments.slice(0,P);let $=0;for(;$<V.length;){const De=V[$];if(ki(De)){const Mn=ye(De.outlets);return new yr(S,Mn)}if(0===$&&xi(V[0])){S.push(new Hr(T.segments[P].path,je(V[0]))),$++;continue}const xe=ki(De)?De.outlets[gn]:`${De}`,Gt=$<V.length-1?V[$+1]:null;xe&&Gt&&xi(Gt)?(S.push(new Hr(xe,je(Gt))),$+=2):(S.push(new Hr(xe,{})),$++)}return new yr(S,{})}function ye(T){const P={};return Object.entries(T).forEach(([V,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(P[V]=jn(new yr([],{}),0,S))}),P}function je(T){const P={};return Object.entries(T).forEach(([V,S])=>P[V]=`${S}`),P}function bt(T,P,V){return T==V.path&&Xn(P,V.parameters)}const X="imperative";var be=function(T){return T[T.NavigationStart=0]="NavigationStart",T[T.NavigationEnd=1]="NavigationEnd",T[T.NavigationCancel=2]="NavigationCancel",T[T.NavigationError=3]="NavigationError",T[T.RoutesRecognized=4]="RoutesRecognized",T[T.ResolveStart=5]="ResolveStart",T[T.ResolveEnd=6]="ResolveEnd",T[T.GuardsCheckStart=7]="GuardsCheckStart",T[T.GuardsCheckEnd=8]="GuardsCheckEnd",T[T.RouteConfigLoadStart=9]="RouteConfigLoadStart",T[T.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",T[T.ChildActivationStart=11]="ChildActivationStart",T[T.ChildActivationEnd=12]="ChildActivationEnd",T[T.ActivationStart=13]="ActivationStart",T[T.ActivationEnd=14]="ActivationEnd",T[T.Scroll=15]="Scroll",T[T.NavigationSkipped=16]="NavigationSkipped",T}(be||{});class ve{constructor(P,V){this.id=P,this.url=V}}class Xe extends ve{constructor(P,V,S="imperative",$=null){super(P,V),this.type=be.NavigationStart,this.navigationTrigger=S,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class at extends ve{constructor(P,V,S){super(P,V),this.urlAfterRedirects=S,this.type=be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var dt=function(T){return T[T.Redirect=0]="Redirect",T[T.SupersededByNewNavigation=1]="SupersededByNewNavigation",T[T.NoDataFromResolver=2]="NoDataFromResolver",T[T.GuardRejected=3]="GuardRejected",T}(dt||{}),Bt=function(T){return T[T.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",T[T.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",T}(Bt||{});class rn extends ve{constructor(P,V,S,$){super(P,V),this.reason=S,this.code=$,this.type=be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wt extends ve{constructor(P,V,S,$){super(P,V),this.reason=S,this.code=$,this.type=be.NavigationSkipped}}class Tn extends ve{constructor(P,V,S,$){super(P,V),this.error=S,this.target=$,this.type=be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rn extends ve{constructor(P,V,S,$){super(P,V),this.urlAfterRedirects=S,this.state=$,this.type=be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends ve{constructor(P,V,S,$){super(P,V),this.urlAfterRedirects=S,this.state=$,this.type=be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr extends ve{constructor(P,V,S,$,De){super(P,V),this.urlAfterRedirects=S,this.state=$,this.shouldActivate=De,this.type=be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cr extends ve{constructor(P,V,S,$){super(P,V),this.urlAfterRedirects=S,this.state=$,this.type=be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends ve{constructor(P,V,S,$){super(P,V),this.urlAfterRedirects=S,this.state=$,this.type=be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai{constructor(P){this.route=P,this.type=be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nr{constructor(P){this.route=P,this.type=be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ir{constructor(P){this.snapshot=P,this.type=be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(P){this.snapshot=P,this.type=be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(P){this.snapshot=P,this.type=be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(P){this.snapshot=P,this.type=be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oo{constructor(P,V,S){this.routerEvent=P,this.position=V,this.anchor=S,this.type=be.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class co{}class xo{constructor(P,V){this.url=P,this.navigationBehaviorOptions=V}}function Oe(T){return T.outlet||gn}function Ue(T){var P;if(!T)return null;if(null!==(P=T.routeConfig)&&void 0!==P&&P._injector)return T.routeConfig._injector;for(let V=T.parent;V;V=V.parent){const S=V.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class xt{get injector(){var P,V;return null!==(P=Ue(null===(V=this.route)||void 0===V?void 0:V.snapshot))&&void 0!==P?P:this.rootInjector}set injector(P){}constructor(P){this.rootInjector=P,this.outlet=null,this.route=null,this.children=new ei(this.rootInjector),this.attachRef=null}}let ei=(()=>{var T;class P{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,$){const De=this.getOrCreateContext(S);De.outlet=$,this.contexts.set(S,De)}onChildOutletDestroyed(S){const $=this.getContext(S);$&&($.outlet=null,$.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let $=this.getContext(S);return $||($=new xt(this.rootInjector),this.contexts.set(S,$)),$}getContext(S){return this.contexts.get(S)||null}}return(T=P).\u0275fac=function(S){return new(S||T)(c.KVO(c.uvJ))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})();class J{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const V=this.pathFromRoot(P);return V.length>1?V[V.length-2]:null}children(P){const V=Ae(P,this._root);return V?V.children.map(S=>S.value):[]}firstChild(P){const V=Ae(P,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(P){const V=st(P,this._root);return V.length<2?[]:V[V.length-2].children.map($=>$.value).filter($=>$!==P)}pathFromRoot(P){return st(P,this._root).map(V=>V.value)}}function Ae(T,P){if(T===P.value)return P;for(const V of P.children){const S=Ae(T,V);if(S)return S}return null}function st(T,P){if(T===P.value)return[P];for(const V of P.children){const S=st(T,V);if(S.length)return S.unshift(P),S}return[]}class ht{constructor(P,V){this.value=P,this.children=V}toString(){return`TreeNode(${this.value})`}}function Nt(T){const P={};return T&&T.children.forEach(V=>P[V.value.outlet]=V),P}class wt extends J{constructor(P,V){super(P),this.snapshot=V,fr(this,P)}toString(){return this.snapshot.toString()}}function En(T){const P=function On(T){const De=new Vn([],{},{},"",{},gn,T,null,{});return new sr("",new ht(De,[]))}(T),V=new ke.t([new Hr("",{})]),S=new ke.t({}),$=new ke.t({}),De=new ke.t({}),xe=new ke.t(""),Gt=new In(V,S,De,xe,$,gn,T,P.root);return Gt.snapshot=P.root,new wt(new ht(Gt,[]),P)}class In{constructor(P,V,S,$,De,xe,Gt,Mn){var Zt,or;this.urlSubject=P,this.paramsSubject=V,this.queryParamsSubject=S,this.fragmentSubject=$,this.dataSubject=De,this.outlet=xe,this.component=Gt,this._futureSnapshot=Mn,this.title=null!==(Zt=null===(or=this.dataSubject)||void 0===or?void 0:or.pipe((0,$e.T)(Kr=>Kr[ir])))&&void 0!==Zt?Zt:(0,Pe.of)(void 0),this.url=P,this.params=V,this.queryParams=S,this.fragment=$,this.data=De}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=this.params.pipe((0,$e.T)(V=>gr(V)))),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=this.queryParams.pipe((0,$e.T)(V=>gr(V)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nn(T,P,V="emptyOnly"){var S;let $;const{routeConfig:De}=T;var xe;return $=null===P||"always"!==V&&""!==(null==De?void 0:De.path)&&(P.component||null!==(S=P.routeConfig)&&void 0!==S&&S.loadComponent)?{params:{...T.params},data:{...T.data},resolve:{...T.data,...null!==(xe=T._resolvedData)&&void 0!==xe?xe:{}}}:{params:{...P.params,...T.params},data:{...P.data,...T.data},resolve:{...T.data,...P.data,...null==De?void 0:De.data,...T._resolvedData}},De&&qr(De)&&($.resolve[ir]=De.title),$}class Vn{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[ir]}constructor(P,V,S,$,De,xe,Gt,Mn,Zt){this.url=P,this.params=V,this.queryParams=S,this.fragment=$,this.data=De,this.outlet=xe,this.component=Gt,this.routeConfig=Mn,this._resolve=Zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=gr(this.params)),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sr extends J{constructor(P,V){super(V),this.url=P,fr(this,V)}toString(){return ur(this._root)}}function fr(T,P){P.value._routerState=T,P.children.forEach(V=>fr(T,V))}function ur(T){const P=T.children.length>0?` { ${T.children.map(ur).join(", ")} } `:"";return`${T.value}${P}`}function hi(T){if(T.snapshot){const P=T.snapshot,V=T._futureSnapshot;T.snapshot=V,Xn(P.queryParams,V.queryParams)||T.queryParamsSubject.next(V.queryParams),P.fragment!==V.fragment&&T.fragmentSubject.next(V.fragment),Xn(P.params,V.params)||T.paramsSubject.next(V.params),function _r(T,P){if(T.length!==P.length)return!1;for(let V=0;V<T.length;++V)if(!Xn(T[V],P[V]))return!1;return!0}(P.url,V.url)||T.urlSubject.next(V.url),Xn(P.data,V.data)||T.dataSubject.next(V.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Or(T,P){const V=Xn(T.params,P.params)&&function ri(T,P){return Pr(T,P)&&T.every((V,S)=>Xn(V.parameters,P[S].parameters))}(T.url,P.url);return V&&!(!T.parent!=!P.parent)&&(!T.parent||Or(T.parent,P.parent))}function qr(T){return"string"==typeof T.title||null===T.title}let Ti=(()=>{var T;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=gn,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(ei),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(Jo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:$,previousValue:De}=S.name;if($)return;this.isTrackedInParentContexts(De)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(De)),this.initializeOutletWithName()}}ngOnDestroy(){var S;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(S=this.inputBinder)||void 0===S||S.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){var $;return(null===($=this.parentContexts.getContext(S))||void 0===$?void 0:$.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,$){var De;this.activated=S,this._activatedRoute=$,this.location.insert(S.hostView),null===(De=this.inputBinder)||void 0===De||De.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,$){var De;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=S;const xe=this.location,Mn=S.snapshot.component,Zt=this.parentContexts.getOrCreateContext(this.name).children,or=new hr(S,Zt,xe.injector);this.activated=xe.createComponent(Mn,{index:xe.length,injector:or,environmentInjector:$}),this.changeDetector.markForCheck(),null===(De=this.inputBinder)||void 0===De||De.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275dir=c.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),P})();class hr{__ngOutletInjector(P){return new hr(this.route,this.childContexts,P)}constructor(P,V,S){this.route=P,this.childContexts=V,this.parent=S}get(P,V){return P===In?this.route:P===ei?this.childContexts:this.parent.get(P,V)}}const Jo=new c.nKC("");let fo=(()=>{var T;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){var $;null===($=this.outletDataSubscriptions.get(S))||void 0===$||$.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:$}=S,De=(0,Re.z)([$.queryParams,$.params,$.data]).pipe((0,ct.n)(([xe,Gt,Mn],Zt)=>(Mn={...xe,...Gt,...Mn},0===Zt?(0,Pe.of)(Mn):Promise.resolve(Mn)))).subscribe(xe=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==$||null===$.component)return void this.unsubscribeFromRouteData(S);const Gt=(0,c.HJs)($.component);if(Gt)for(const{templateName:Mn}of Gt.inputs)S.activatedComponentRef.setInput(Mn,xe[Mn]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,De)}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac}),P})();function pr(T,P,V){if(V&&T.shouldReuseRoute(P.value,V.value.snapshot)){const S=V.value;S._futureSnapshot=P.value;const $=function li(T,P,V){return P.children.map(S=>{for(const $ of V.children)if(T.shouldReuseRoute(S.value,$.value.snapshot))return pr(T,S,$);return pr(T,S)})}(T,P,V);return new ht(S,$)}{if(T.shouldAttach(P.value)){const De=T.retrieve(P.value);if(null!==De){const xe=De.route;return xe.value._futureSnapshot=P.value,xe.children=P.children.map(Gt=>pr(T,Gt)),xe}}const S=function Ns(T){return new In(new ke.t(T.url),new ke.t(T.params),new ke.t(T.queryParams),new ke.t(T.fragment),new ke.t(T.data),T.outlet,T.component,T)}(P.value),$=P.children.map(De=>pr(T,De));return new ht(S,$)}}class ls{constructor(P,V){this.redirectTo=P,this.navigationBehaviorOptions=V}}const Wa="ngNavigationCancelingError";function _o(T,P){const{redirectTo:V,navigationBehaviorOptions:S}=wr(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,$=no(!1,dt.Redirect);return $.url=V,$.navigationBehaviorOptions=S,$}function no(T,P){const V=new Error(`NavigationCancelingError: ${T||""}`);return V[Wa]=!0,V.cancellationCode=P,V}function Zo(T){return!!T&&T[Wa]}class Pl{constructor(P,V,S,$,De){this.routeReuseStrategy=P,this.futureState=V,this.currState=S,this.forwardEvent=$,this.inputBindingEnabled=De}activate(P){const V=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,S,P),hi(this.futureState.root),this.activateChildRoutes(V,S,P)}deactivateChildRoutes(P,V,S){const $=Nt(V);P.children.forEach(De=>{const xe=De.value.outlet;this.deactivateRoutes(De,$[xe],S),delete $[xe]}),Object.values($).forEach(De=>{this.deactivateRouteAndItsChildren(De,S)})}deactivateRoutes(P,V,S){const $=P.value,De=V?V.value:null;if($===De)if($.component){const xe=S.getContext($.outlet);xe&&this.deactivateChildRoutes(P,V,xe.children)}else this.deactivateChildRoutes(P,V,S);else De&&this.deactivateRouteAndItsChildren(V,S)}deactivateRouteAndItsChildren(P,V){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,V):this.deactivateRouteAndOutlet(P,V)}detachAndStoreRouteSubtree(P,V){const S=V.getContext(P.value.outlet),$=S&&P.value.component?S.children:V,De=Nt(P);for(const xe of Object.values(De))this.deactivateRouteAndItsChildren(xe,$);if(S&&S.outlet){const xe=S.outlet.detach(),Gt=S.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:xe,route:P,contexts:Gt})}}deactivateRouteAndOutlet(P,V){const S=V.getContext(P.value.outlet),$=S&&P.value.component?S.children:V,De=Nt(P);for(const xe of Object.values(De))this.deactivateRouteAndItsChildren(xe,$);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(P,V,S){const $=Nt(V);P.children.forEach(De=>{this.activateRoutes(De,$[De.value.outlet],S),this.forwardEvent(new Ci(De.value.snapshot))}),P.children.length&&this.forwardEvent(new Qi(P.value.snapshot))}activateRoutes(P,V,S){const $=P.value,De=V?V.value:null;if(hi($),$===De)if($.component){const xe=S.getOrCreateContext($.outlet);this.activateChildRoutes(P,V,xe.children)}else this.activateChildRoutes(P,V,S);else if($.component){const xe=S.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Gt=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),xe.children.onOutletReAttached(Gt.contexts),xe.attachRef=Gt.componentRef,xe.route=Gt.route.value,xe.outlet&&xe.outlet.attach(Gt.componentRef,Gt.route.value),hi(Gt.route.value),this.activateChildRoutes(P,null,xe.children)}else xe.attachRef=null,xe.route=$,xe.outlet&&xe.outlet.activateWith($,xe.injector),this.activateChildRoutes(P,null,xe.children)}else this.activateChildRoutes(P,null,S)}}class us{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Es{constructor(P,V){this.component=P,this.route=V}}function yo(T,P,V){const S=T._root;return bi(S,P?P._root:null,V,[S.value])}function ia(T,P){const V=Symbol(),S=P.get(T,V);return S===V?"function"!=typeof T||(0,c.LfX)(T)?P.get(T):T:S}function bi(T,P,V,S,$={canDeactivateChecks:[],canActivateChecks:[]}){const De=Nt(P);return T.children.forEach(xe=>{(function Da(T,P,V,S,$={canDeactivateChecks:[],canActivateChecks:[]}){const De=T.value,xe=P?P.value:null,Gt=V?V.getContext(T.value.outlet):null;if(xe&&De.routeConfig===xe.routeConfig){const Mn=function Di(T,P,V){if("function"==typeof V)return V(T,P);switch(V){case"pathParamsChange":return!Pr(T.url,P.url);case"pathParamsOrQueryParamsChange":return!Pr(T.url,P.url)||!Xn(T.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Or(T,P)||!Xn(T.queryParams,P.queryParams);default:return!Or(T,P)}}(xe,De,De.routeConfig.runGuardsAndResolvers);Mn?$.canActivateChecks.push(new us(S)):(De.data=xe.data,De._resolvedData=xe._resolvedData),bi(T,P,De.component?Gt?Gt.children:null:V,S,$),Mn&&Gt&&Gt.outlet&&Gt.outlet.isActivated&&$.canDeactivateChecks.push(new Es(Gt.outlet.component,xe))}else xe&&Ro(P,Gt,$),$.canActivateChecks.push(new us(S)),bi(T,null,De.component?Gt?Gt.children:null:V,S,$)})(xe,De[xe.value.outlet],V,S.concat([xe.value]),$),delete De[xe.value.outlet]}),Object.entries(De).forEach(([xe,Gt])=>Ro(Gt,V.getContext(xe),$)),$}function Ro(T,P,V){const S=Nt(T),$=T.value;Object.entries(S).forEach(([De,xe])=>{Ro(xe,$.component?P?P.children.getContext(De):null:P,V)}),V.canDeactivateChecks.push(new Es($.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,$))}function Ss(T){return"function"==typeof T}function Cs(T){return T instanceof ot.G||"EmptyError"===(null==T?void 0:T.name)}const wi=Symbol("INITIAL_VALUE");function Po(){return(0,ct.n)(T=>(0,Re.z)(T.map(P=>P.pipe((0,vt.s)(1),(0,Ut.Z)(wi)))).pipe((0,$e.T)(P=>{for(const V of P)if(!0!==V){if(V===wi)return wi;if(!1===V||oa(V))return V}return!0}),(0,ae.p)(P=>P!==wi),(0,vt.s)(1)))}function oa(T){return wr(T)||T instanceof ls}function Dn(T){return(0,Ye.F)((0,Ht.M)(P=>{if("boolean"!=typeof P)throw _o(0,P)}),(0,$e.T)(P=>!0===P))}class Si{constructor(P){this.segmentGroup=P||null}}class to extends Error{constructor(P){super(),this.urlTree=P}}function Mo(T){return He(new Si(T))}class As{constructor(P,V){this.urlSerializer=P,this.urlTree=V}lineralizeSegments(P,V){let S=[],$=V.root;for(;;){if(S=S.concat($.segments),0===$.numberOfChildren)return(0,Pe.of)(S);if($.numberOfChildren>1||!$.children[gn])return He(new c.wOt(4e3,!1));$=$.children[gn]}}applyRedirectCommands(P,V,S,$,De){if("string"!=typeof V){const Gt=V,{queryParams:Mn,fragment:Zt,routeConfig:or,url:Kr,outlet:Pi,params:ui,data:po,title:Yr}=$,Li=(0,c.N4e)(De,()=>Gt({params:ui,data:po,queryParams:Mn,fragment:Zt,routeConfig:or,url:Kr,outlet:Pi,title:Yr}));if(Li instanceof Dr)throw new to(Li);V=Li}const xe=this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),P,S);if("/"===V[0])throw new to(xe);return xe}applyRedirectCreateUrlTree(P,V,S,$){const De=this.createSegmentGroup(P,V.root,S,$);return new Dr(De,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(P,V){const S={};return Object.entries(P).forEach(([$,De])=>{if("string"==typeof De&&":"===De[0]){const Gt=De.substring(1);S[$]=V[Gt]}else S[$]=De}),S}createSegmentGroup(P,V,S,$){const De=this.createSegments(P,V.segments,S,$);let xe={};return Object.entries(V.children).forEach(([Gt,Mn])=>{xe[Gt]=this.createSegmentGroup(P,Mn,S,$)}),new yr(De,xe)}createSegments(P,V,S,$){return V.map(De=>":"===De.path[0]?this.findPosParam(P,De,$):this.findOrReturn(De,S))}findPosParam(P,V,S){const $=S[V.path.substring(1)];if(!$)throw new c.wOt(4001,!1);return $}findOrReturn(P,V){let S=0;for(const $ of V){if($.path===P.path)return V.splice(S),$;S++}return P}}const Uo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ll(T,P,V,S,$){const De=sa(T,P,V);return De.matched?(S=function _s(T,P){var V;return T.providers&&!T._injector&&(T._injector=(0,c.Ol2)(T.providers,P,`Route: ${T.path}`)),null!==(V=T._injector)&&void 0!==V?V:P}(P,S),function Er(T,P,V,S){const $=P.canMatch;if(!$||0===$.length)return(0,Pe.of)(!0);const De=$.map(xe=>{const Gt=ia(xe,T);return At(function Sa(T){return T&&Ss(T.canMatch)}(Gt)?Gt.canMatch(P,V):(0,c.N4e)(T,()=>Gt(P,V)))});return(0,Pe.of)(De).pipe(Po(),Dn())}(S,P,V).pipe((0,$e.T)(xe=>!0===xe?De:{...Uo}))):(0,Pe.of)(De)}function sa(T,P,V){var S,$;if("**"===P.path)return function ns(T){return{matched:!0,parameters:T.length>0?sn(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}(V);if(""===P.path)return"full"===P.pathMatch&&(T.hasChildren()||V.length>0)?{...Uo}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const xe=(P.matcher||Kn)(V,T,P);if(!xe)return{...Uo};const Gt={};Object.entries(null!==(S=xe.posParams)&&void 0!==S?S:{}).forEach(([Zt,or])=>{Gt[Zt]=or.path});const Mn=xe.consumed.length>0?{...Gt,...xe.consumed[xe.consumed.length-1].parameters}:Gt;return{matched:!0,consumedSegments:xe.consumed,remainingSegments:V.slice(xe.consumed.length),parameters:Mn,positionalParamSegments:null!==($=xe.posParams)&&void 0!==$?$:{}}}function aa(T,P,V,S){return V.length>0&&function Wo(T,P,V){return V.some(S=>Os(T,P,S)&&Oe(S)!==gn)}(T,V,S)?{segmentGroup:new yr(P,Zi(S,new yr(V,T.children))),slicedSegments:[]}:0===V.length&&function Lr(T,P,V){return V.some(S=>Os(T,P,S))}(T,V,S)?{segmentGroup:new yr(T.segments,ti(T,V,S,T.children)),slicedSegments:V}:{segmentGroup:new yr(T.segments,T.children),slicedSegments:V}}function ti(T,P,V,S){const $={};for(const De of V)if(Os(T,P,De)&&!S[Oe(De)]){const xe=new yr([],{});$[Oe(De)]=xe}return{...S,...$}}function Zi(T,P){const V={};V[gn]=P;for(const S of T)if(""===S.path&&Oe(S)!==gn){const $=new yr([],{});V[Oe(S)]=$}return V}function Os(T,P,V){return(!(T.hasChildren()||P.length>0)||"full"!==V.pathMatch)&&""===V.path}class la{}class xs{constructor(P,V,S,$,De,xe,Gt){this.injector=P,this.configLoader=V,this.rootComponentType=S,this.config=$,this.urlTree=De,this.paramsInheritanceStrategy=xe,this.urlSerializer=Gt,this.applyRedirects=new As(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new c.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=aa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,$e.T)(({children:V,rootSnapshot:S})=>{const $=new ht(S,V),De=new sr("",$),xe=function Ai(T,P,V=null,S=null){return si(Ui(T),P,V,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return xe.queryParams=this.urlTree.queryParams,De.url=this.urlSerializer.serialize(xe),{state:De,tree:xe}}))}match(P){const V=new Vn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),gn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,gn,V).pipe((0,$e.T)(S=>({children:S,rootSnapshot:V})),Ft(S=>{if(S instanceof to)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof Si?this.noMatchError(S):S}))}processSegmentGroup(P,V,S,$,De){return 0===S.segments.length&&S.hasChildren()?this.processChildren(P,V,S,De):this.processSegment(P,V,S,S.segments,$,!0,De).pipe((0,$e.T)(xe=>xe instanceof ht?[xe]:[]))}processChildren(P,V,S,$){const De=[];for(const xe of Object.keys(S.children))"primary"===xe?De.unshift(xe):De.push(xe);return(0,ce.H)(De).pipe((0,un.H)(xe=>{const Gt=S.children[xe],Mn=function F(T,P){const V=T.filter(S=>Oe(S)===P);return V.push(...T.filter(S=>Oe(S)!==P)),V}(V,xe);return this.processSegmentGroup(P,Mn,Gt,xe,$)}),(0,Qn.S)((xe,Gt)=>(xe.push(...Gt),xe)),(0,Ze.U)(null),function he(T,P){const V=arguments.length>=2;return S=>S.pipe(T?(0,ae.p)(($,De)=>T($,De,S)):Se.D,ee(1),V?(0,Ze.U)(P):(0,de.v)(()=>new ot.G))}(),(0,Et.Z)(xe=>{if(null===xe)return Mo(S);const Gt=Hl(xe);return function Ka(T){T.sort((P,V)=>P.value.outlet===gn?-1:V.value.outlet===gn?1:P.value.outlet.localeCompare(V.value.outlet))}(Gt),(0,Pe.of)(Gt)}))}processSegment(P,V,S,$,De,xe,Gt){return(0,ce.H)(V).pipe((0,un.H)(Mn=>{var Zt;return this.processSegmentAgainstRoute(null!==(Zt=Mn._injector)&&void 0!==Zt?Zt:P,V,Mn,S,$,De,xe,Gt).pipe(Ft(or=>{if(or instanceof Si)return(0,Pe.of)(null);throw or}))}),(0,Xt.$)(Mn=>!!Mn),Ft(Mn=>{if(Cs(Mn))return function Ml(T,P,V){return 0===P.length&&!T.children[V]}(S,$,De)?(0,Pe.of)(new la):Mo(S);throw Mn}))}processSegmentAgainstRoute(P,V,S,$,De,xe,Gt,Mn){return Oe(S)===xe||xe!==gn&&Os($,De,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(P,$,S,De,xe,Mn):this.allowRedirects&&Gt?this.expandSegmentAgainstRouteUsingRedirect(P,$,V,S,De,xe,Mn):Mo($):Mo($)}expandSegmentAgainstRouteUsingRedirect(P,V,S,$,De,xe,Gt){var Mn,Zt;const{matched:or,parameters:Kr,consumedSegments:Pi,positionalParamSegments:ui,remainingSegments:po}=sa(V,$,De);if(!or)return Mo(V);"string"==typeof $.redirectTo&&"/"===$.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Yr=new Vn(De,Kr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ra($),Oe($),null!==(Mn=null!==(Zt=$.component)&&void 0!==Zt?Zt:$._loadedComponent)&&void 0!==Mn?Mn:null,$,ks($)),Li=Nn(Yr,Gt,this.paramsInheritanceStrategy);Yr.params=Object.freeze(Li.params),Yr.data=Object.freeze(Li.data);const lo=this.applyRedirects.applyRedirectCommands(Pi,$.redirectTo,ui,Yr,P);return this.applyRedirects.lineralizeSegments($,lo).pipe((0,Et.Z)(Co=>this.processSegment(P,S,V,Co.concat(po),xe,!1,Gt)))}matchSegmentAgainstRoute(P,V,S,$,De,xe){const Gt=ll(V,S,$,P);return"**"===S.path&&(V.children={}),Gt.pipe((0,ct.n)(Mn=>{var Zt;return Mn.matched?(P=null!==(Zt=S._injector)&&void 0!==Zt?Zt:P,this.getChildConfig(P,S,$).pipe((0,ct.n)(({routes:or})=>{var Kr,Pi,ui;const po=null!==(Kr=S._loadedInjector)&&void 0!==Kr?Kr:P,{parameters:Yr,consumedSegments:Li,remainingSegments:lo}=Mn,Co=new Vn(Li,Yr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ra(S),Oe(S),null!==(Pi=null!==(ui=S.component)&&void 0!==ui?ui:S._loadedComponent)&&void 0!==Pi?Pi:null,S,ks(S)),so=Nn(Co,xe,this.paramsInheritanceStrategy);Co.params=Object.freeze(so.params),Co.data=Object.freeze(so.data);const{segmentGroup:ml,slicedSegments:vl}=aa(V,Li,lo,or);if(0===vl.length&&ml.hasChildren())return this.processChildren(po,or,ml,Co).pipe((0,$e.T)(Ja=>new ht(Co,Ja)));if(0===or.length&&0===vl.length)return(0,Pe.of)(new ht(Co,[]));const Ys=Oe(S)===De;return this.processSegment(po,or,ml,vl,Ys?gn:De,!0,Co).pipe((0,$e.T)(Ja=>new ht(Co,Ja instanceof ht?[Ja]:[])))}))):Mo(V)}))}getChildConfig(P,V,S){return V.children?(0,Pe.of)({routes:V.children,injector:P}):V.loadChildren?void 0!==V._loadedRoutes?(0,Pe.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function Ie(T,P,V,S){const $=P.canLoad;if(void 0===$||0===$.length)return(0,Pe.of)(!0);const De=$.map(xe=>{const Gt=ia(xe,T);return At(function es(T){return T&&Ss(T.canLoad)}(Gt)?Gt.canLoad(P,V):(0,c.N4e)(T,()=>Gt(P,V)))});return(0,Pe.of)(De).pipe(Po(),Dn())}(P,V,S).pipe((0,Et.Z)($=>$?this.configLoader.loadChildren(P,V).pipe((0,Ht.M)(De=>{V._loadedRoutes=De.routes,V._loadedInjector=De.injector})):function ts(){return He(no(!1,dt.GuardRejected))}())):(0,Pe.of)({routes:[],injector:P})}}function Ts(T){const P=T.value.routeConfig;return P&&""===P.path}function Hl(T){const P=[],V=new Set;for(const S of T){if(!Ts(S)){P.push(S);continue}const $=P.find(De=>S.value.routeConfig===De.value.routeConfig);void 0!==$?($.children.push(...S.children),V.add($)):P.push(S)}for(const S of V){const $=Hl(S.children);P.push(new ht(S.value,$))}return P.filter(S=>!V.has(S))}function Ra(T){return T.data||{}}function ks(T){return T.resolve||{}}function Ks(T){const P=T.children.map(V=>Ks(V)).flat();return[T,...P]}function Gr(T){return(0,ct.n)(P=>{const V=T(P);return V?(0,ce.H)(V).pipe((0,$e.T)(()=>P)):(0,Pe.of)(P)})}let Oi=(()=>{var T;class P{buildTitle(S){let $,De=S.root;for(;void 0!==De;){var xe;$=null!==(xe=this.getResolvedTitleForRoute(De))&&void 0!==xe?xe:$,De=De.children.find(Gt=>Gt.outlet===gn)}return $}getResolvedTitleForRoute(S){return S.data[ir]}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(mu),providedIn:"root"}),P})(),mu=(()=>{var T;class P extends Oi{constructor(S){super(),this.title=S}updateTitle(S){const $=this.buildTitle(S);void 0!==$&&this.title.setTitle($)}}return(T=P).\u0275fac=function(S){return new(S||T)(c.KVO(Ln.hE))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})();const ul=new c.nKC("",{providedIn:"root",factory:()=>({})});let Pa=(()=>{var T;class P{}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275cmp=c.VBU({type:T,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(S,$){1&S&&c.nrm(0,"router-outlet")},dependencies:[Ti],encapsulation:2}),P})();function ju(T){const P=T.children&&T.children.map(ju),V=P?{...T,children:P}:{...T};return!V.component&&!V.loadComponent&&(P||V.loadChildren)&&V.outlet&&V.outlet!==gn&&(V.component=Pa),V}const Ma=new c.nKC("");let rs=(()=>{var T;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,Pe.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const $=At(S.loadComponent()).pipe((0,$e.T)(Jr),(0,Ht.M)(xe=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=xe}),(0,Ke.j)(()=>{this.componentLoaders.delete(S)})),De=new Tt($,()=>new Qe.B).pipe(Ot());return this.componentLoaders.set(S,De),De}loadChildren(S,$){if(this.childrenLoaders.get($))return this.childrenLoaders.get($);if($._loadedRoutes)return(0,Pe.of)({routes:$._loadedRoutes,injector:$._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener($);const xe=function Cn(T,P,V,S){return At(T.loadChildren()).pipe((0,$e.T)(Jr),(0,Et.Z)($=>$ instanceof c.Co$||Array.isArray($)?(0,Pe.of)($):(0,ce.H)(P.compileModuleAsync($))),(0,$e.T)($=>{S&&S(T);let De,xe,Gt=!1;return Array.isArray($)?(xe=$,!0):(De=$.create(V).injector,xe=De.get(Ma,[],{optional:!0,self:!0}).flat()),{routes:xe.map(ju),injector:De}}))}($,this.compiler,S,this.onLoadEndListener).pipe((0,Ke.j)(()=>{this.childrenLoaders.delete($)})),Gt=new Tt(xe,()=>new Qe.B).pipe(Ot());return this.childrenLoaders.set($,Gt),Gt}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})();function Jr(T){return function Mr(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let fi=(()=>{var T;class P{}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(Ls),providedIn:"root"}),P})(),Ls=(()=>{var T;class P{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,$){return S}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})();const vu=new c.nKC(""),w=new c.nKC("");function Q(T,P,V){const S=T.get(w),$=T.get(Te.qQ);return T.get(c.SKi).runOutsideAngular(()=>{if(!$.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(Zt=>setTimeout(Zt));let De;const xe=new Promise(Zt=>{De=Zt}),Gt=$.startViewTransition(()=>(De(),function qe(T){return new Promise(P=>{(0,c.mal)({read:()=>setTimeout(P)},{injector:T})})}(T))),{onViewTransitionCreated:Mn}=S;return Mn&&(0,c.N4e)(T,()=>Mn({transition:Gt,from:P,to:V})),xe})}const G=new c.nKC("");let Me=(()=>{var T;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe.B,this.transitionAbortSubject=new Qe.B,this.configLoader=(0,c.WQX)(rs),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(rr),this.rootContexts=(0,c.WQX)(ei),this.location=(0,c.WQX)(Te.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(Jo,{optional:!0}),this.titleStrategy=(0,c.WQX)(Oi),this.options=(0,c.WQX)(ul,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(fi),this.createViewTransition=(0,c.WQX)(vu,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(G,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=De=>this.events.next(new Nr(De)),this.configLoader.onLoadStartListener=De=>this.events.next(new ai(De))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var $;const De=++this.navigationId;null===($=this.transitions)||void 0===$||$.next({...this.transitions.value,...S,id:De})}setupNavigations(S,$,De){return this.transitions=new ke.t({id:0,currentUrlTree:$,currentRawUrl:$,extractedUrl:this.urlHandlingStrategy.extract($),urlAfterRedirects:this.urlHandlingStrategy.extract($),rawUrl:$,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:X,restoredState:null,currentSnapshot:De.snapshot,targetSnapshot:null,currentRouterState:De,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ae.p)(xe=>0!==xe.id),(0,$e.T)(xe=>({...xe,extractedUrl:this.urlHandlingStrategy.extract(xe.rawUrl)})),(0,ct.n)(xe=>{let Gt=!1,Mn=!1;return(0,Pe.of)(xe).pipe((0,ct.n)(Zt=>{var or;if(this.navigationId>xe.id)return this.cancelNavigationTransition(xe,"",dt.SupersededByNewNavigation),ut.w;this.currentTransition=xe,this.currentNavigation={id:Zt.id,initialUrl:Zt.rawUrl,extractedUrl:Zt.extractedUrl,targetBrowserUrl:"string"==typeof Zt.extras.browserUrl?this.urlSerializer.parse(Zt.extras.browserUrl):Zt.extras.browserUrl,trigger:Zt.source,extras:Zt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Kr=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Pi=null!==(or=Zt.extras.onSameUrlNavigation)&&void 0!==or?or:S.onSameUrlNavigation;if(!Kr&&"reload"!==Pi){const ui="";return this.events.next(new Wt(Zt.id,this.urlSerializer.serialize(Zt.rawUrl),ui,Bt.IgnoredSameUrlNavigation)),Zt.resolve(!1),ut.w}if(this.urlHandlingStrategy.shouldProcessUrl(Zt.rawUrl))return(0,Pe.of)(Zt).pipe((0,ct.n)(ui=>{var po,Yr;const Li=null===(po=this.transitions)||void 0===po?void 0:po.getValue();return this.events.next(new Xe(ui.id,this.urlSerializer.serialize(ui.extractedUrl),ui.source,ui.restoredState)),Li!==(null===(Yr=this.transitions)||void 0===Yr?void 0:Yr.getValue())?ut.w:Promise.resolve(ui)}),function Xa(T,P,V,S,$,De){return(0,Et.Z)(xe=>function ua(T,P,V,S,$,De,xe="emptyOnly"){return new xs(T,P,V,S,$,xe,De).recognize()}(T,P,V,S,xe.extractedUrl,$,De).pipe((0,$e.T)(({state:Gt,tree:Mn})=>({...xe,targetSnapshot:Gt,urlAfterRedirects:Mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Ht.M)(ui=>{xe.targetSnapshot=ui.targetSnapshot,xe.urlAfterRedirects=ui.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ui.urlAfterRedirects};const po=new Rn(ui.id,this.urlSerializer.serialize(ui.extractedUrl),this.urlSerializer.serialize(ui.urlAfterRedirects),ui.targetSnapshot);this.events.next(po)}));if(Kr&&this.urlHandlingStrategy.shouldProcessUrl(Zt.currentRawUrl)){const{id:ui,extractedUrl:po,source:Yr,restoredState:Li,extras:lo}=Zt,Co=new Xe(ui,this.urlSerializer.serialize(po),Yr,Li);this.events.next(Co);const so=En(this.rootComponentType).snapshot;return this.currentTransition=xe={...Zt,targetSnapshot:so,urlAfterRedirects:po,extras:{...lo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=po,(0,Pe.of)(xe)}{const ui="";return this.events.next(new Wt(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),ui,Bt.IgnoredByUrlHandlingStrategy)),Zt.resolve(!1),ut.w}}),(0,Ht.M)(Zt=>{const or=new kn(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(or)}),(0,$e.T)(Zt=>(this.currentTransition=xe={...Zt,guards:yo(Zt.targetSnapshot,Zt.currentSnapshot,this.rootContexts)},xe)),function Ho(T,P){return(0,Et.Z)(V=>{const{targetSnapshot:S,currentSnapshot:$,guards:{canActivateChecks:De,canDeactivateChecks:xe}}=V;return 0===xe.length&&0===De.length?(0,Pe.of)({...V,guardsResult:!0}):function Bl(T,P,V,S){return(0,ce.H)(T).pipe((0,Et.Z)($=>function z(T,P,V,S,$){const De=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!De||0===De.length)return(0,Pe.of)(!0);const xe=De.map(Gt=>{var Mn;const Zt=null!==(Mn=Ue(P))&&void 0!==Mn?Mn:$,or=ia(Gt,Zt);return At(function Yi(T){return T&&Ss(T.canDeactivate)}(or)?or.canDeactivate(T,P,V,S):(0,c.N4e)(Zt,()=>or(T,P,V,S))).pipe((0,Xt.$)())});return(0,Pe.of)(xe).pipe(Po())}($.component,$.route,V,P,S)),(0,Xt.$)($=>!0!==$,!0))}(xe,S,$,T).pipe((0,Et.Z)(Gt=>Gt&&function wa(T){return"boolean"==typeof T}(Gt)?function jl(T,P,V,S){return(0,ce.H)(P).pipe((0,un.H)($=>(0,Ve.x)(function Y(T,P){return null!==T&&P&&P(new Ir(T)),(0,Pe.of)(!0)}($.route.parent,S),function Ko(T,P){return null!==T&&P&&P(new Ni(T)),(0,Pe.of)(!0)}($.route,S),function Ee(T,P,V){const S=P[P.length-1],De=P.slice(0,P.length-1).reverse().map(xe=>function ba(T){const P=T.routeConfig?T.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:T,guards:P}:null}(xe)).filter(xe=>null!==xe).map(xe=>We(()=>{const Gt=xe.guards.map(Mn=>{var Zt;const or=null!==(Zt=Ue(xe.node))&&void 0!==Zt?Zt:V,Kr=ia(Mn,or);return At(function Is(T){return T&&Ss(T.canActivateChild)}(Kr)?Kr.canActivateChild(S,T):(0,c.N4e)(or,()=>Kr(S,T))).pipe((0,Xt.$)())});return(0,Pe.of)(Gt).pipe(Po())}));return(0,Pe.of)(De).pipe(Po())}(T,$.path,V),function L(T,P,V){const S=P.routeConfig?P.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Pe.of)(!0);const $=S.map(De=>We(()=>{var xe;const Gt=null!==(xe=Ue(P))&&void 0!==xe?xe:V,Mn=ia(De,Gt);return At(function Wr(T){return T&&Ss(T.canActivate)}(Mn)?Mn.canActivate(P,T):(0,c.N4e)(Gt,()=>Mn(P,T))).pipe((0,Xt.$)())}));return(0,Pe.of)($).pipe(Po())}(T,$.route,V))),(0,Xt.$)($=>!0!==$,!0))}(S,De,T,P):(0,Pe.of)(Gt)),(0,$e.T)(Gt=>({...V,guardsResult:Gt})))})}(this.environmentInjector,Zt=>this.events.next(Zt)),(0,Ht.M)(Zt=>{if(xe.guardsResult=Zt.guardsResult,Zt.guardsResult&&"boolean"!=typeof Zt.guardsResult)throw _o(0,Zt.guardsResult);const or=new lr(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot,!!Zt.guardsResult);this.events.next(or)}),(0,ae.p)(Zt=>!!Zt.guardsResult||(this.cancelNavigationTransition(Zt,"",dt.GuardRejected),!1)),Gr(Zt=>{if(Zt.guards.canActivateChecks.length)return(0,Pe.of)(Zt).pipe((0,Ht.M)(or=>{const Kr=new cr(or.id,this.urlSerializer.serialize(or.extractedUrl),this.urlSerializer.serialize(or.urlAfterRedirects),or.targetSnapshot);this.events.next(Kr)}),(0,ct.n)(or=>{let Kr=!1;return(0,Pe.of)(or).pipe(function Wl(T,P){return(0,Et.Z)(V=>{const{targetSnapshot:S,guards:{canActivateChecks:$}}=V;if(!$.length)return(0,Pe.of)(V);const De=new Set($.map(Mn=>Mn.route)),xe=new Set;for(const Mn of De)if(!xe.has(Mn))for(const Zt of Ks(Mn))xe.add(Zt);let Gt=0;return(0,ce.H)(xe).pipe((0,un.H)(Mn=>De.has(Mn)?function Xs(T,P,V,S){const $=T.routeConfig,De=T._resolve;return void 0!==(null==$?void 0:$.title)&&!qr($)&&(De[ir]=$.title),function qa(T,P,V,S){const $=Bn(T);if(0===$.length)return(0,Pe.of)({});const De={};return(0,ce.H)($).pipe((0,Et.Z)(xe=>function ro(T,P,V,S){var $;const De=null!==($=Ue(P))&&void 0!==$?$:S,xe=ia(T,De);return At(xe.resolve?xe.resolve(P,V):(0,c.N4e)(De,()=>xe(P,V)))}(T[xe],P,V,S).pipe((0,Xt.$)(),(0,Ht.M)(Gt=>{if(Gt instanceof ls)throw _o(new br,Gt);De[xe]=Gt}))),ee(1),function Be(T){return(0,$e.T)(()=>T)}(De),Ft(xe=>Cs(xe)?ut.w:He(xe)))}(De,T,P,S).pipe((0,$e.T)(xe=>(T._resolvedData=xe,T.data=Nn(T,T.parent,V).resolve,null)))}(Mn,S,T,P):(Mn.data=Nn(Mn,Mn.parent,T).resolve,(0,Pe.of)(void 0))),(0,Ht.M)(()=>Gt++),ee(1),(0,Et.Z)(Mn=>Gt===xe.size?(0,Pe.of)(V):ut.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Ht.M)({next:()=>Kr=!0,complete:()=>{Kr||this.cancelNavigationTransition(or,"",dt.NoDataFromResolver)}}))}),(0,Ht.M)(or=>{const Kr=new nr(or.id,this.urlSerializer.serialize(or.extractedUrl),this.urlSerializer.serialize(or.urlAfterRedirects),or.targetSnapshot);this.events.next(Kr)}))}),Gr(Zt=>{const or=Kr=>{var Pi;const ui=[];null!==(Pi=Kr.routeConfig)&&void 0!==Pi&&Pi.loadComponent&&!Kr.routeConfig._loadedComponent&&ui.push(this.configLoader.loadComponent(Kr.routeConfig).pipe((0,Ht.M)(po=>{Kr.component=po}),(0,$e.T)(()=>{})));for(const po of Kr.children)ui.push(...or(po));return ui};return(0,Re.z)(or(Zt.targetSnapshot.root)).pipe((0,Ze.U)(null),(0,vt.s)(1))}),Gr(()=>this.afterPreactivation()),(0,ct.n)(()=>{var Zt;const{currentSnapshot:or,targetSnapshot:Kr}=xe,Pi=null===(Zt=this.createViewTransition)||void 0===Zt?void 0:Zt.call(this,this.environmentInjector,or.root,Kr.root);return Pi?(0,ce.H)(Pi).pipe((0,$e.T)(()=>xe)):(0,Pe.of)(xe)}),(0,$e.T)(Zt=>{const or=function ar(T,P,V){const S=pr(T,P._root,V?V._root:void 0);return new wt(S,P)}(S.routeReuseStrategy,Zt.targetSnapshot,Zt.currentRouterState);return this.currentTransition=xe={...Zt,targetRouterState:or},this.currentNavigation.targetRouterState=or,xe}),(0,Ht.M)(()=>{this.events.next(new co)}),((T,P,V,S)=>(0,$e.T)($=>(new Pl(P,$.targetRouterState,$.currentRouterState,V,S).activate(T),$)))(this.rootContexts,S.routeReuseStrategy,Zt=>this.events.next(Zt),this.inputBindingEnabled),(0,vt.s)(1),(0,Ht.M)({next:Zt=>{var or;Gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new at(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects))),null===(or=this.titleStrategy)||void 0===or||or.updateTitle(Zt.targetRouterState.snapshot),Zt.resolve(!0)},complete:()=>{Gt=!0}}),function nt(T){return(0,mt.N)((P,V)=>{(0,me.Tg)(T).subscribe((0,ft._)(V,()=>V.complete(),it.l)),!V.closed&&P.subscribe(V)})}(this.transitionAbortSubject.pipe((0,Ht.M)(Zt=>{throw Zt}))),(0,Ke.j)(()=>{var Zt;!Gt&&!Mn&&this.cancelNavigationTransition(xe,"",dt.SupersededByNewNavigation),(null===(Zt=this.currentTransition)||void 0===Zt?void 0:Zt.id)===xe.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ft(Zt=>{if(Mn=!0,Zo(Zt))this.events.next(new rn(xe.id,this.urlSerializer.serialize(xe.extractedUrl),Zt.message,Zt.cancellationCode)),function So(T){return Zo(T)&&wr(T.url)}(Zt)?this.events.next(new xo(Zt.url,Zt.navigationBehaviorOptions)):xe.resolve(!1);else{var or;const Kr=new Tn(xe.id,this.urlSerializer.serialize(xe.extractedUrl),Zt,null!==(or=xe.targetSnapshot)&&void 0!==or?or:void 0);try{const Pi=(0,c.N4e)(this.environmentInjector,()=>{var ui;return null===(ui=this.navigationErrorHandler)||void 0===ui?void 0:ui.call(this,Kr)});if(Pi instanceof ls){const{message:ui,cancellationCode:po}=_o(0,Pi);this.events.next(new rn(xe.id,this.urlSerializer.serialize(xe.extractedUrl),ui,po)),this.events.next(new xo(Pi.redirectTo,Pi.navigationBehaviorOptions))}else{this.events.next(Kr);const ui=S.errorHandler(Zt);xe.resolve(!!ui)}}catch(Pi){this.options.resolveNavigationPromiseOnError?xe.resolve(!1):xe.reject(Pi)}}return ut.w}))}))}cancelNavigationTransition(S,$,De){const xe=new rn(S.id,this.urlSerializer.serialize(S.extractedUrl),$,De);this.events.next(xe),S.resolve(!1)}isUpdatingInternalState(){var S,$;return(null===(S=this.currentTransition)||void 0===S?void 0:S.extractedUrl.toString())!==(null===($=this.currentTransition)||void 0===$?void 0:$.currentUrlTree.toString())}isUpdatedBrowserUrl(){var S,$,De,xe;const Gt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Mn=null!==(S=null===($=this.currentNavigation)||void 0===$?void 0:$.targetBrowserUrl)&&void 0!==S?S:null===(De=this.currentNavigation)||void 0===De?void 0:De.extractedUrl;return Gt.toString()!==(null==Mn?void 0:Mn.toString())&&!(null!==(xe=this.currentNavigation)&&void 0!==xe&&xe.extras.skipLocationChange)}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})();function rt(T){return T!==X}let Jt=(()=>{var T;class P{}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(Qr),providedIn:"root"}),P})();class qn{shouldDetach(P){return!1}store(P,V){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,V){return P.routeConfig===V.routeConfig}}let Qr=(()=>{var T;class P extends qn{}return(T=P).\u0275fac=(()=>{let V;return function($){return(V||(V=c.xGo(T)))($||T)}})(),T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})(),pi=(()=>{var T;class P{}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(gi),providedIn:"root"}),P})(),gi=(()=>{var T;class P extends pi{constructor(){super(...arguments),this.location=(0,c.WQX)(Te.aZ),this.urlSerializer=(0,c.WQX)(rr),this.options=(0,c.WQX)(ul,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(fi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=En(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var S,$;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(S=null===($=this.restoredState())||void 0===$?void 0:$.\u0275routerPageId)&&void 0!==S?S:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe($=>{"popstate"===$.type&&S($.url,$.state)})}handleRouterEvent(S,$){if(S instanceof Xe)this.stateMemento=this.createStateMemento();else if(S instanceof Wt)this.rawUrlTree=$.initialUrl;else if(S instanceof Rn){if("eager"===this.urlUpdateStrategy&&!$.extras.skipLocationChange){var De;const Gt=this.urlHandlingStrategy.merge($.finalUrl,$.initialUrl);this.setBrowserUrl(null!==(De=$.targetBrowserUrl)&&void 0!==De?De:Gt,$)}}else if(S instanceof co){var xe;this.currentUrlTree=$.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge($.finalUrl,$.initialUrl),this.routerState=$.targetRouterState,"deferred"!==this.urlUpdateStrategy||$.extras.skipLocationChange||this.setBrowserUrl(null!==(xe=$.targetBrowserUrl)&&void 0!==xe?xe:this.rawUrlTree,$)}else S instanceof rn&&(S.code===dt.GuardRejected||S.code===dt.NoDataFromResolver)?this.restoreHistory($):S instanceof Tn?this.restoreHistory($,!0):S instanceof at&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,$){const De=S instanceof Dr?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(De)||$.extras.replaceUrl){const Gt={...$.extras.state,...this.generateNgRouterState($.id,this.browserPageId)};this.location.replaceState(De,"",Gt)}else{const xe={...$.extras.state,...this.generateNgRouterState($.id,this.browserPageId+1)};this.location.go(De,"",xe)}}restoreHistory(S,$=!1){if("computed"===this.canceledNavigationResolution){const xe=this.currentPageId-this.browserPageId;0!==xe?this.location.historyGo(xe):this.currentUrlTree===S.finalUrl&&0===xe&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&($&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){var $;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==($=S.finalUrl)&&void 0!==$?$:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,$){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:$}:{navigationId:S}}}return(T=P).\u0275fac=(()=>{let V;return function($){return(V||(V=c.xGo(T)))($||T)}})(),T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})();var ni=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(ni||{});function oi(T,P){T.events.pipe((0,ae.p)(V=>V instanceof at||V instanceof rn||V instanceof Tn||V instanceof Wt),(0,$e.T)(V=>V instanceof at||V instanceof Wt?ni.COMPLETE:V instanceof rn&&(V.code===dt.Redirect||V.code===dt.SupersededByNewNavigation)?ni.REDIRECTING:ni.FAILED),(0,ae.p)(V=>V!==ni.REDIRECTING),(0,vt.s)(1)).subscribe(()=>{P()})}function zi(T){throw T}const dr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ko={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{var T;class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var S,$;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(pi),this.options=(0,c.WQX)(ul,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(Me),this.urlSerializer=(0,c.WQX)(rr),this.location=(0,c.WQX)(Te.aZ),this.urlHandlingStrategy=(0,c.WQX)(fi),this._events=new Qe.B,this.errorHandler=this.options.errorHandler||zi,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(Jt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(S=null===($=(0,c.WQX)(Ma,{optional:!0}))||void 0===$?void 0:$.flat())&&void 0!==S?S:[],this.componentInputBindingEnabled=!!(0,c.WQX)(Jo,{optional:!0}),this.eventsSubscription=new gt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:De=>{this.console.warn(De)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe($=>{try{const De=this.navigationTransitions.currentTransition,xe=this.navigationTransitions.currentNavigation;if(null!==De&&null!==xe)if(this.stateManager.handleRouterEvent($,xe),$ instanceof rn&&$.code!==dt.Redirect&&$.code!==dt.SupersededByNewNavigation)this.navigated=!0;else if($ instanceof at)this.navigated=!0;else if($ instanceof xo){const Gt=$.navigationBehaviorOptions,Mn=this.urlHandlingStrategy.merge($.url,De.currentRawUrl),Zt={browserUrl:De.extras.browserUrl,info:De.extras.info,skipLocationChange:De.extras.skipLocationChange,replaceUrl:De.extras.replaceUrl||"eager"===this.urlUpdateStrategy||rt(De.source),...Gt};this.scheduleNavigation(Mn,X,null,Zt,{resolve:De.resolve,reject:De.reject,promise:De.promise})}(function Fs(T){return!(T instanceof co||T instanceof xo)})($)&&this._events.next($)}catch(De){this.navigationTransitions.transitionAbortSubject.next(De)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),X,this.stateManager.restoredState())}setUpLocationChangeListener(){var S;null!==(S=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==S||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener(($,De)=>{setTimeout(()=>{this.navigateToSyncWithBrowser($,"popstate",De)},0)}))}navigateToSyncWithBrowser(S,$,De){const xe={replaceUrl:!0},Gt=null!=De&&De.navigationId?De:null;if(De){const Zt={...De};delete Zt.navigationId,delete Zt.\u0275routerPageId,0!==Object.keys(Zt).length&&(xe.state=Zt)}const Mn=this.parseUrl(S);this.scheduleNavigation(Mn,$,Gt,xe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(ju),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,$={}){const{relativeTo:De,queryParams:xe,fragment:Gt,queryParamsHandling:Mn,preserveFragment:Zt}=$,or=Zt?this.currentUrlTree.fragment:Gt;let Pi,Kr=null;switch(null!=Mn?Mn:this.options.defaultQueryParamsHandling){case"merge":Kr={...this.currentUrlTree.queryParams,...xe};break;case"preserve":Kr=this.currentUrlTree.queryParams;break;default:Kr=xe||null}null!==Kr&&(Kr=this.removeEmptyProps(Kr));try{Pi=Ui(De?De.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),Pi=this.currentUrlTree.root}return si(Pi,S,Kr,null!=or?or:null)}navigateByUrl(S,$={skipLocationChange:!1}){const De=wr(S)?S:this.parseUrl(S),xe=this.urlHandlingStrategy.merge(De,this.rawUrlTree);return this.scheduleNavigation(xe,X,null,$)}navigate(S,$={skipLocationChange:!1}){return function Xo(T){for(let P=0;P<T.length;P++)if(null==T[P])throw new c.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,$),$)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,$){let De;if(De=!0===$?{...dr}:!1===$?{...ko}:$,wr(S))return ln(this.currentUrlTree,S,De);const xe=this.parseUrl(S);return ln(this.currentUrlTree,xe,De)}removeEmptyProps(S){return Object.entries(S).reduce(($,[De,xe])=>(null!=xe&&($[De]=xe),$),{})}scheduleNavigation(S,$,De,xe,Gt){if(this.disposed)return Promise.resolve(!1);let Mn,Zt,or;Gt?(Mn=Gt.resolve,Zt=Gt.reject,or=Gt.promise):or=new Promise((Pi,ui)=>{Mn=Pi,Zt=ui});const Kr=this.pendingTasks.add();return oi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Kr))}),this.navigationTransitions.handleNavigationRequest({source:$,restoredState:De,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:xe,resolve:Mn,reject:Zt,promise:or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),or.catch(Pi=>Promise.reject(Pi))}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})(),Vs=(()=>{var T;class P{constructor(S,$,De,xe,Gt,Mn){var Zt;this.router=S,this.route=$,this.tabIndexAttribute=De,this.renderer=xe,this.el=Gt,this.locationStrategy=Mn,this.href=null,this.onChanges=new Qe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const or=null===(Zt=Gt.nativeElement.tagName)||void 0===Zt?void 0:Zt.toLowerCase();this.isAnchorElement="a"===or||"area"===or,this.isAnchorElement?this.subscription=S.events.subscribe(Kr=>{Kr instanceof at&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null==S?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=wr(S)||Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,$,De,xe,Gt){const Mn=this.urlTree;return!!(null===Mn||this.isAnchorElement&&(0!==S||$||De||xe||Gt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Mn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;const $=this.urlTree;this.href=null!==$&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl($)):null;const De=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",De)}applyAttributeValue(S,$){const De=this.renderer,xe=this.el.nativeElement;null!==$?De.setAttribute(xe,S,$):De.removeAttribute(xe,S)}get urlTree(){return null===this.routerLinkInput?null:wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(T=P).\u0275fac=function(S){return new(S||T)(c.rXU(ji),c.rXU(In),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Te.hb))},T.\u0275dir=c.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,$){1&S&&c.bIt("click",function(xe){return $.onClick(xe.button,xe.ctrlKey,xe.shiftKey,xe.altKey,xe.metaKey)}),2&S&&c.BMQ("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),P})();class Qa{}let uc=(()=>{var T;class P{preload(S,$){return $().pipe(Ft(()=>(0,Pe.of)(null)))}}return(T=P).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})(),zu=(()=>{var T;class P{constructor(S,$,De,xe,Gt){this.router=S,this.injector=De,this.preloadingStrategy=xe,this.loader=Gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ae.p)(S=>S instanceof at),(0,un.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,$){const De=[];for(const Zt of $){var xe,Gt;Zt.providers&&!Zt._injector&&(Zt._injector=(0,c.Ol2)(Zt.providers,S,`Route: ${Zt.path}`));const or=null!==(xe=Zt._injector)&&void 0!==xe?xe:S,Kr=null!==(Gt=Zt._loadedInjector)&&void 0!==Gt?Gt:or;var Mn;(Zt.loadChildren&&!Zt._loadedRoutes&&void 0===Zt.canLoad||Zt.loadComponent&&!Zt._loadedComponent)&&De.push(this.preloadConfig(or,Zt)),(Zt.children||Zt._loadedRoutes)&&De.push(this.processRoutes(Kr,null!==(Mn=Zt.children)&&void 0!==Mn?Mn:Zt._loadedRoutes))}return(0,ce.H)(De).pipe((0,Vt.U)())}preloadConfig(S,$){return this.preloadingStrategy.preload($,()=>{let De;De=$.loadChildren&&void 0===$.canLoad?this.loader.loadChildren(S,$):(0,Pe.of)(null);const xe=De.pipe((0,Et.Z)(Gt=>{var Mn;return null===Gt?(0,Pe.of)(void 0):($._loadedRoutes=Gt.routes,$._loadedInjector=Gt.injector,this.processRoutes(null!==(Mn=Gt.injector)&&void 0!==Mn?Mn:S,Gt.routes))}));if($.loadComponent&&!$._loadedComponent){const Gt=this.loader.loadComponent($);return(0,ce.H)([xe,Gt]).pipe((0,Vt.U)())}return xe})}}return(T=P).\u0275fac=function(S){return new(S||T)(c.KVO(ji),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Qa),c.KVO(rs))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),P})();const Na=new c.nKC("");let _u=(()=>{var T;class P{constructor(S,$,De,xe,Gt={}){this.urlSerializer=S,this.transitions=$,this.viewportScroller=De,this.zone=xe,this.options=Gt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Gt.scrollPositionRestoration||(Gt.scrollPositionRestoration="disabled"),Gt.anchorScrolling||(Gt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Xe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof at?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof Wt&&S.code===Bt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof oo&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,$){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oo(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,$))})},0)})}ngOnDestroy(){var S,$;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===($=this.scrollEventsSubscription)||void 0===$||$.unsubscribe()}}return(T=P).\u0275fac=function(S){c.QTQ()},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac}),P})();function is(T,P){return{\u0275kind:T,\u0275providers:P}}function Kl(){const T=(0,c.WQX)(c.zZn);return P=>{var V,S;const $=T.get(c.o8S);if(P!==$.components[0])return;const De=T.get(ji),xe=T.get(Mc);1===T.get(Io)&&De.initialNavigation(),null===(V=T.get(dl,null,c.$GK.Optional))||void 0===V||V.setUpPreloading(),null===(S=T.get(Na,null,c.$GK.Optional))||void 0===S||S.init(),De.resetRootComponentType($.componentTypes[0]),xe.closed||(xe.next(),xe.complete(),xe.unsubscribe())}}const Mc=new c.nKC("",{factory:()=>new Qe.B}),Io=new c.nKC("",{providedIn:"root",factory:()=>1}),dl=new c.nKC("");function qo(T){return is(0,[{provide:dl,useExisting:zu},{provide:Qa,useExisting:T}])}function hl(T){return is(9,[{provide:vu,useValue:Q},{provide:w,useValue:{skipNextTransition:!(null==T||!T.skipInitialTransition),...T}}])}const Qs=new c.nKC("ROUTER_FORROOT_GUARD"),$s=[Te.aZ,{provide:rr,useClass:br},ji,ei,{provide:In,useFactory:function qs(T){return T.routerState.root},deps:[ji]},rs,[]];let Ps=(()=>{var T;class P{constructor(S){}static forRoot(S,$){return{ngModule:P,providers:[$s,[],{provide:Ma,multi:!0,useValue:S},{provide:Qs,useFactory:pl,deps:[[ji,new c.Xx1,new c.kdw]]},{provide:ul,useValue:$||{}},null!=$&&$.useHash?{provide:Te.hb,useClass:Te.fw}:{provide:Te.hb,useClass:Te.Sm},{provide:Na,useFactory:()=>{const T=(0,c.WQX)(Te.Xr),P=(0,c.WQX)(c.SKi),V=(0,c.WQX)(ul),S=(0,c.WQX)(Me),$=(0,c.WQX)(rr);return V.scrollOffset&&T.setOffset(V.scrollOffset),new _u($,S,T,P,V)}},null!=$&&$.preloadingStrategy?qo($.preloadingStrategy).\u0275providers:[],null!=$&&$.initialNavigation?Iu($):[],null!=$&&$.bindToComponentInputs?is(8,[fo,{provide:Jo,useExisting:fo}]).\u0275providers:[],null!=$&&$.enableViewTransitions?hl().\u0275providers:[],[{provide:Xl,useFactory:Kl},{provide:c.iLQ,multi:!0,useExisting:Xl}]]}}static forChild(S){return{ngModule:P,providers:[{provide:Ma,multi:!0,useValue:S}]}}}return(T=P).\u0275fac=function(S){return new(S||T)(c.KVO(Qs,8))},T.\u0275mod=c.$C({type:T}),T.\u0275inj=c.G2t({}),P})();function pl(T){return"guarded"}function Iu(T){return["disabled"===T.initialNavigation?is(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const P=(0,c.WQX)(ji);return()=>{P.setUpLocationChangeListener()}}},{provide:Io,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?is(2,[{provide:Io,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:P=>{const V=P.get(Te.hj,Promise.resolve());return()=>V.then(()=>new Promise(S=>{const $=P.get(ji),De=P.get(Mc);oi($,()=>{S(!0)}),P.get(Me).afterPreactivation=()=>(S(!0),De.closed?(0,Pe.of)(void 0):De),$.initialNavigation()}))}}]).\u0275providers:[]]}const Xl=new c.nKC("")},3345:(Gn,St,k)=>{"use strict";k.d(St,{A:()=>ut});var c=k(1076),p=k(1362),U=k(7852),q=k(8041);class ce{constructor(mt,ft){this._delegate=mt,this.firebase=ft,(0,U._addComponent)(mt,new p.uA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(mt,ft=U._DEFAULT_ENTRY_NAME){var Ot;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(mt);return!Tt.isInitialized()&&"EXPLICIT"===(null===(Ot=Tt.getComponent())||void 0===Ot?void 0:Ot.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:ft})}_removeServiceInstance(mt,ft=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(ft)}_addComponent(mt){(0,U._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,U._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ve=function ot(){const gt=function Re(gt){const mt={},ft={__esModule:!0,initializeApp:function Qe(vt,Ut={}){const ae=U.initializeApp(vt,Ut);if((0,c.gR)(mt,ae.name))return mt[ae.name];const Et=new gt(ae,ft);return mt[ae.name]=Et,Et},app:Tt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function $e(vt){const Ut=vt.name,ae=Ut.replace("-compat","");if(U._registerComponent(vt)&&"PUBLIC"===vt.type){const Et=(Xt=Tt())=>{if("function"!=typeof Xt[ae])throw ke.create("invalid-app-argument",{appName:Ut});return Xt[ae]()};void 0!==vt.serviceProps&&(0,c.zw)(Et,vt.serviceProps),ft[ae]=Et,gt.prototype[ae]=function(...Xt){return this._getService.bind(this,Ut).apply(this,vt.multipleInstances?Xt:[])}}return"PUBLIC"===vt.type?ft[ae]:null},removeApp:function Ot(vt){delete mt[vt]},useAsService:function ct(vt,Ut){return"serverAuth"===Ut?null:Ut},modularAPIs:U}};function Tt(vt){if(!(0,c.gR)(mt,vt=vt||U._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:vt});return mt[vt]}return ft.default=ft,Object.defineProperty(ft,"apps",{get:function Te(){return Object.keys(mt).map(vt=>mt[vt])}}),Tt.App=gt,ft}(ce);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:ot,extendNamespace:function mt(ft){(0,c.zw)(gt,ft)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),gt}(),me=new q.Vy("@firebase/app-compat");try{const gt=(0,c.mS)();if(void 0!==gt.firebase){me.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const mt=gt.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&me.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ut=Ve;!function He(gt){(0,U.registerVersion)("@firebase/app-compat","0.2.40",gt)}()},7852:(Gn,St,k)=>{"use strict";k.r(St),k.d(St,{FirebaseError:()=>q.g,SDK_VERSION:()=>yi,_DEFAULT_ENTRY_NAME:()=>Tr,_addComponent:()=>Dr,_addOrOverwriteComponent:()=>yr,_apps:()=>mn,_clearComponents:()=>br,_components:()=>Xr,_getProvider:()=>ri,_isFirebaseApp:()=>Ii,_isFirebaseServerApp:()=>rr,_registerComponent:()=>Hr,_removeServiceInstance:()=>Pr,_serverApps:()=>kr,deleteApp:()=>qt,getApp:()=>Yt,getApps:()=>Mt,initializeApp:()=>Vi,initializeServerApp:()=>mi,onLog:()=>Z,registerVersion:()=>we,setLogLevel:()=>x});var c=k(467),p=k(1362),U=k(8041),q=k(1076);const ce=(tn,fe)=>fe.some(le=>tn instanceof le);let Pe,ke;const Ve=new WeakMap,me=new WeakMap,We=new WeakMap,Ye=new WeakMap,He=new WeakMap;let mt={get(tn,fe,le){if(tn instanceof IDBTransaction){if("done"===fe)return me.get(tn);if("objectStoreNames"===fe)return tn.objectStoreNames||We.get(tn);if("store"===fe)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return Qe(tn[fe])},set:(tn,fe,le)=>(tn[fe]=le,!0),has:(tn,fe)=>tn instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in tn};function Tt(tn){return"function"==typeof tn?function Ot(tn){return tn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ot(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tn)?function(...fe){return tn.apply(Te(this),fe),Qe(Ve.get(this))}:function(...fe){return Qe(tn.apply(Te(this),fe))}:function(fe,...le){const Je=tn.call(Te(this),fe,...le);return We.set(Je,fe.sort?fe.sort():[fe]),Qe(Je)}}(tn):(tn instanceof IDBTransaction&&function gt(tn){if(me.has(tn))return;const fe=new Promise((le,Je)=>{const _e=()=>{tn.removeEventListener("complete",ge),tn.removeEventListener("error",Ge),tn.removeEventListener("abort",Ge)},ge=()=>{le(),_e()},Ge=()=>{Je(tn.error||new DOMException("AbortError","AbortError")),_e()};tn.addEventListener("complete",ge),tn.addEventListener("error",Ge),tn.addEventListener("abort",Ge)});me.set(tn,fe)}(tn),ce(tn,function Re(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tn,mt):tn)}function Qe(tn){if(tn instanceof IDBRequest)return function ut(tn){const fe=new Promise((le,Je)=>{const _e=()=>{tn.removeEventListener("success",ge),tn.removeEventListener("error",Ge)},ge=()=>{le(Qe(tn.result)),_e()},Ge=()=>{Je(tn.error),_e()};tn.addEventListener("success",ge),tn.addEventListener("error",Ge)});return fe.then(le=>{le instanceof IDBCursor&&Ve.set(le,tn)}).catch(()=>{}),He.set(fe,tn),fe}(tn);if(Ye.has(tn))return Ye.get(tn);const fe=Tt(tn);return fe!==tn&&(Ye.set(tn,fe),He.set(fe,tn)),fe}const Te=tn=>He.get(tn),vt=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],ae=new Map;function Et(tn,fe){if(!(tn instanceof IDBDatabase)||fe in tn||"string"!=typeof fe)return;if(ae.get(fe))return ae.get(fe);const le=fe.replace(/FromIndex$/,""),Je=fe!==le,_e=Ut.includes(le);if(!(le in(Je?IDBIndex:IDBObjectStore).prototype)||!_e&&!vt.includes(le))return;const ge=function(){var Ge=(0,c.A)(function*(jt,...pn){const jn=this.transaction(jt,_e?"readwrite":"readonly");let ye=jn.store;return Je&&(ye=ye.index(pn.shift())),(yield Promise.all([ye[le](...pn),_e&&jn.done]))[0]});return function(pn){return Ge.apply(this,arguments)}}();return ae.set(fe,ge),ge}!function ft(tn){mt=tn(mt)}(tn=>({...tn,get:(fe,le,Je)=>Et(fe,le)||tn.get(fe,le,Je),has:(fe,le)=>!!Et(fe,le)||tn.has(fe,le)}));class Xt{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(le=>{if(function un(tn){const fe=tn.getComponent();return"VERSION"===(null==fe?void 0:fe.type)}(le)){const Je=le.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(le=>le).join(" ")}}const Ht="@firebase/app",Ft="0.10.10",Qn=new U.Vy("@firebase/app"),Ze="@firebase/app-compat",ee="@firebase/analytics-compat",de="@firebase/analytics",Se="@firebase/app-check-compat",he="@firebase/app-check",Be="@firebase/auth",Ke="@firebase/auth-compat",it="@firebase/database",nt="@firebase/database-compat",Vt="@firebase/functions",Ln="@firebase/functions-compat",gn="@firebase/installations",ir="@firebase/installations-compat",zn="@firebase/messaging",gr="@firebase/messaging-compat",Kn="@firebase/performance",_r="@firebase/performance-compat",Xn="@firebase/remote-config",Bn="@firebase/remote-config-compat",bn="@firebase/storage",sn="@firebase/storage-compat",At="@firebase/firestore",Kt="@firebase/vertexai-preview",vn="@firebase/firestore-compat",ln="firebase",Tr="[DEFAULT]",Zn={[Ht]:"fire-core",[Ze]:"fire-core-compat",[de]:"fire-analytics",[ee]:"fire-analytics-compat",[he]:"fire-app-check",[Se]:"fire-app-check-compat",[Be]:"fire-auth",[Ke]:"fire-auth-compat",[it]:"fire-rtdb",[nt]:"fire-rtdb-compat",[Vt]:"fire-fn",[Ln]:"fire-fn-compat",[gn]:"fire-iid",[ir]:"fire-iid-compat",[zn]:"fire-fcm",[gr]:"fire-fcm-compat",[Kn]:"fire-perf",[_r]:"fire-perf-compat",[Xn]:"fire-rc",[Bn]:"fire-rc-compat",[bn]:"fire-gcs",[sn]:"fire-gcs-compat",[At]:"fire-fst",[vn]:"fire-fst-compat",[Kt]:"fire-vertex","fire-js":"fire-js",[ln]:"fire-js-all"},mn=new Map,kr=new Map,Xr=new Map;function Dr(tn,fe){try{tn.container.addComponent(fe)}catch(le){Qn.debug(`Component ${fe.name} failed to register with FirebaseApp ${tn.name}`,le)}}function yr(tn,fe){tn.container.addOrOverwriteComponent(fe)}function Hr(tn){const fe=tn.name;if(Xr.has(fe))return Qn.debug(`There were multiple attempts to register component ${fe}.`),!1;Xr.set(fe,tn);for(const le of mn.values())Dr(le,tn);for(const le of kr.values())Dr(le,tn);return!0}function ri(tn,fe){const le=tn.container.getProvider("heartbeat").getImmediate({optional:!0});return le&&le.triggerHeartbeat(),tn.container.getProvider(fe)}function Pr(tn,fe,le=Tr){ri(tn,fe).clearInstance(le)}function Ii(tn){return void 0!==tn.options}function rr(tn){return void 0!==tn.settings}function br(){Xr.clear()}const Pt=new q.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vr{constructor(fe,le,Je){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},le),this._name=le.name,this._automaticDataCollectionEnabled=le.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new p.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Pt.create("app-deleted",{appName:this._name})}}class mr extends Vr{constructor(fe,le,Je,_e){const ge=void 0!==le.automaticDataCollectionEnabled&&le.automaticDataCollectionEnabled,Ge={name:Je,automaticDataCollectionEnabled:ge};super(void 0!==fe.apiKey?fe:fe.options,Ge,_e),this._serverConfig=Object.assign({automaticDataCollectionEnabled:ge},le),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,le.releaseOnDeref=void 0,we(Ht,Ft,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(fe){this.isDeleted||(this._refCount++,void 0!==fe&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(fe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){qt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pt.create("server-app-deleted")}}const yi="10.13.1";function Vi(tn,fe={}){let le=tn;"object"!=typeof fe&&(fe={name:fe});const Je=Object.assign({name:Tr,automaticDataCollectionEnabled:!1},fe),_e=Je.name;if("string"!=typeof _e||!_e)throw Pt.create("bad-app-name",{appName:String(_e)});if(le||(le=(0,q.T9)()),!le)throw Pt.create("no-options");const ge=mn.get(_e);if(ge){if((0,q.bD)(le,ge.options)&&(0,q.bD)(Je,ge.config))return ge;throw Pt.create("duplicate-app",{appName:_e})}const Ge=new p.h1(_e);for(const pn of Xr.values())Ge.addComponent(pn);const jt=new Vr(le,Je,Ge);return mn.set(_e,jt),jt}function mi(tn,fe){if((0,q.Bd)()&&!(0,q.p7)())throw Pt.create("invalid-server-app-environment");let le;void 0===fe.automaticDataCollectionEnabled&&(fe.automaticDataCollectionEnabled=!1),le=Ii(tn)?tn.options:tn;const Je=Object.assign(Object.assign({},fe),le);if(void 0!==Je.releaseOnDeref&&delete Je.releaseOnDeref,void 0!==fe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Pt.create("finalization-registry-not-supported",{});const ge=""+(jn=JSON.stringify(Je),[...jn].reduce((ye,je)=>Math.imul(31,ye)+je.charCodeAt(0)|0,0)),Ge=kr.get(ge);var jn;if(Ge)return Ge.incRefCount(fe.releaseOnDeref),Ge;const jt=new p.h1(ge);for(const jn of Xr.values())jt.addComponent(jn);const pn=new mr(le,fe,ge,jt);return kr.set(ge,pn),pn}function Yt(tn=Tr){const fe=mn.get(tn);if(!fe&&tn===Tr&&(0,q.T9)())return Vi();if(!fe)throw Pt.create("no-app",{appName:tn});return fe}function Mt(){return Array.from(mn.values())}function qt(tn){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.A)(function*(tn){let fe=!1;const le=tn.name;mn.has(le)?(fe=!0,mn.delete(le)):kr.has(le)&&tn.decRefCount()<=0&&(kr.delete(le),fe=!0),fe&&(yield Promise.all(tn.container.getProviders().map(Je=>Je.delete())),tn.isDeleted=!0)})).apply(this,arguments)}function we(tn,fe,le){var Je;let _e=null!==(Je=Zn[tn])&&void 0!==Je?Je:tn;le&&(_e+=`-${le}`);const ge=_e.match(/\s|\//),Ge=fe.match(/\s|\//);if(ge||Ge){const jt=[`Unable to register library "${_e}" with version "${fe}":`];return ge&&jt.push(`library name "${_e}" contains illegal characters (whitespace or "/")`),ge&&Ge&&jt.push("and"),Ge&&jt.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void Qn.warn(jt.join(" "))}Hr(new p.uA(`${_e}-version`,()=>({library:_e,version:fe}),"VERSION"))}function Z(tn,fe){if(null!==tn&&"function"!=typeof tn)throw Pt.create("invalid-log-argument");(0,U.Ey)(tn,fe)}function x(tn){(0,U.He)(tn)}const W="firebase-heartbeat-database",pe=1,Fe="firebase-heartbeat-store";let Ct=null;function zt(){return Ct||(Ct=function $e(tn,fe,{blocked:le,upgrade:Je,blocking:_e,terminated:ge}={}){const Ge=indexedDB.open(tn,fe),jt=Qe(Ge);return Je&&Ge.addEventListener("upgradeneeded",pn=>{Je(Qe(Ge.result),pn.oldVersion,pn.newVersion,Qe(Ge.transaction),pn)}),le&&Ge.addEventListener("blocked",pn=>le(pn.oldVersion,pn.newVersion,pn)),jt.then(pn=>{ge&&pn.addEventListener("close",()=>ge()),_e&&pn.addEventListener("versionchange",jn=>_e(jn.oldVersion,jn.newVersion,jn))}).catch(()=>{}),jt}(W,pe,{upgrade:(tn,fe)=>{if(0===fe)try{tn.createObjectStore(Fe)}catch(le){console.warn(le)}}}).catch(tn=>{throw Pt.create("idb-open",{originalErrorMessage:tn.message})})),Ct}function xn(){return(xn=(0,c.A)(function*(tn){try{const le=(yield zt()).transaction(Fe),Je=yield le.objectStore(Fe).get(Hn(tn));return yield le.done,Je}catch(fe){if(fe instanceof q.g)Qn.warn(fe.message);else{const le=Pt.create("idb-get",{originalErrorMessage:null==fe?void 0:fe.message});Qn.warn(le.message)}}})).apply(this,arguments)}function An(tn,fe){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.A)(function*(tn,fe){try{const Je=(yield zt()).transaction(Fe,"readwrite");yield Je.objectStore(Fe).put(fe,Hn(tn)),yield Je.done}catch(le){if(le instanceof q.g)Qn.warn(le.message);else{const Je=Pt.create("idb-set",{originalErrorMessage:null==le?void 0:le.message});Qn.warn(Je.message)}}})).apply(this,arguments)}function Hn(tn){return`${tn.name}!${tn.options.appId}`}class Ui{constructor(fe){this.container=fe,this._heartbeatsCache=null;const le=this.container.getProvider("app").getImmediate();this._storage=new ki(le),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var fe=this;return(0,c.A)(function*(){var le,Je;try{const ge=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=si();return null==(null===(le=fe._heartbeatsCache)||void 0===le?void 0:le.heartbeats)&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise,null==(null===(Je=fe._heartbeatsCache)||void 0===Je?void 0:Je.heartbeats))||fe._heartbeatsCache.lastSentHeartbeatDate===Ge||fe._heartbeatsCache.heartbeats.some(jt=>jt.date===Ge)?void 0:(fe._heartbeatsCache.heartbeats.push({date:Ge,agent:ge}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(jt=>{const pn=new Date(jt.date).valueOf();return Date.now()-pn<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache))}catch(_e){Qn.warn(_e)}})()}getHeartbeatsHeader(){var fe=this;return(0,c.A)(function*(){var le;try{if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null==(null===(le=fe._heartbeatsCache)||void 0===le?void 0:le.heartbeats)||0===fe._heartbeatsCache.heartbeats.length)return"";const Je=si(),{heartbeatsToSend:_e,unsentEntries:ge}=function xi(tn,fe=1024){const le=[];let Je=tn.slice();for(const _e of tn){const ge=le.find(Ge=>Ge.agent===_e.agent);if(ge){if(ge.dates.push(_e.date),Bi(le)>fe){ge.dates.pop();break}}else if(le.push({agent:_e.agent,dates:[_e.date]}),Bi(le)>fe){le.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:le,unsentEntries:Je}}(fe._heartbeatsCache.heartbeats),Ge=(0,q.Uj)(JSON.stringify({version:2,heartbeats:_e}));return fe._heartbeatsCache.lastSentHeartbeatDate=Je,ge.length>0?(fe._heartbeatsCache.heartbeats=ge,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Ge}catch(Je){return Qn.warn(Je),""}})()}}function si(){return(new Date).toISOString().substring(0,10)}class ki{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,q.zW)()&&(0,q.eX)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,c.A)(function*(){if(yield fe._canUseIndexedDBPromise){const Je=yield function dn(tn){return xn.apply(this,arguments)}(fe.app);return null!=Je&&Je.heartbeats?Je:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(fe){var le=this;return(0,c.A)(function*(){var Je;if(yield le._canUseIndexedDBPromise){const ge=yield le.read();return An(le.app,{lastSentHeartbeatDate:null!==(Je=fe.lastSentHeartbeatDate)&&void 0!==Je?Je:ge.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var le=this;return(0,c.A)(function*(){var Je;if(yield le._canUseIndexedDBPromise){const ge=yield le.read();return An(le.app,{lastSentHeartbeatDate:null!==(Je=fe.lastSentHeartbeatDate)&&void 0!==Je?Je:ge.lastSentHeartbeatDate,heartbeats:[...ge.heartbeats,...fe.heartbeats]})}})()}}function Bi(tn){return(0,q.Uj)(JSON.stringify({version:2,heartbeats:tn})).length}!function qi(tn){Hr(new p.uA("platform-logger",fe=>new Xt(fe),"PRIVATE")),Hr(new p.uA("heartbeat",fe=>new Ui(fe),"PRIVATE")),we(Ht,Ft,tn),we(Ht,Ft,"esm2017"),we("fire-js","")}("")},1362:(Gn,St,k)=>{"use strict";k.d(St,{Kq:()=>ce,h1:()=>Re,uA:()=>U});var c=k(467),p=k(1076);class U{constructor(Ve,me,We){this.name=Ve,this.instanceFactory=me,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ve){return this.instantiationMode=Ve,this}setMultipleInstances(Ve){return this.multipleInstances=Ve,this}setServiceProps(Ve){return this.serviceProps=Ve,this}setInstanceCreatedCallback(Ve){return this.onInstanceCreated=Ve,this}}const q="[DEFAULT]";class ce{constructor(Ve,me){this.name=Ve,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ve){const me=this.normalizeInstanceIdentifier(Ve);if(!this.instancesDeferred.has(me)){const We=new p.cY;if(this.instancesDeferred.set(me,We),this.isInitialized(me)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:me});Ye&&We.resolve(Ye)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(Ve){var me;const We=this.normalizeInstanceIdentifier(null==Ve?void 0:Ve.identifier),Ye=null!==(me=null==Ve?void 0:Ve.optional)&&void 0!==me&&me;if(!this.isInitialized(We)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:We})}catch(He){if(Ye)return null;throw He}}getComponent(){return this.component}setComponent(Ve){if(Ve.name!==this.name)throw Error(`Mismatching Component ${Ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ve,this.shouldAutoInitialize()){if(function ke(ot){return"EAGER"===ot.instantiationMode}(Ve))try{this.getOrInitializeService({instanceIdentifier:q})}catch{}for(const[me,We]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(me);try{const He=this.getOrInitializeService({instanceIdentifier:Ye});We.resolve(He)}catch{}}}}clearInstance(Ve=q){this.instancesDeferred.delete(Ve),this.instancesOptions.delete(Ve),this.instances.delete(Ve)}delete(){var Ve=this;return(0,c.A)(function*(){const me=Array.from(Ve.instances.values());yield Promise.all([...me.filter(We=>"INTERNAL"in We).map(We=>We.INTERNAL.delete()),...me.filter(We=>"_delete"in We).map(We=>We._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ve=q){return this.instances.has(Ve)}getOptions(Ve=q){return this.instancesOptions.get(Ve)||{}}initialize(Ve={}){const{options:me={}}=Ve,We=this.normalizeInstanceIdentifier(Ve.instanceIdentifier);if(this.isInitialized(We))throw Error(`${this.name}(${We}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:We,options:me});for(const[He,ut]of this.instancesDeferred.entries())We===this.normalizeInstanceIdentifier(He)&&ut.resolve(Ye);return Ye}onInit(Ve,me){var We;const Ye=this.normalizeInstanceIdentifier(me),He=null!==(We=this.onInitCallbacks.get(Ye))&&void 0!==We?We:new Set;He.add(Ve),this.onInitCallbacks.set(Ye,He);const ut=this.instances.get(Ye);return ut&&Ve(ut,Ye),()=>{He.delete(Ve)}}invokeOnInitCallbacks(Ve,me){const We=this.onInitCallbacks.get(me);if(We)for(const Ye of We)try{Ye(Ve,me)}catch{}}getOrInitializeService({instanceIdentifier:Ve,options:me={}}){let We=this.instances.get(Ve);if(!We&&this.component&&(We=this.component.instanceFactory(this.container,{instanceIdentifier:(ot=Ve,ot===q?void 0:ot),options:me}),this.instances.set(Ve,We),this.instancesOptions.set(Ve,me),this.invokeOnInitCallbacks(We,Ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ve,We)}catch{}var ot;return We||null}normalizeInstanceIdentifier(Ve=q){return this.component?this.component.multipleInstances?Ve:q:Ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(Ve){this.name=Ve,this.providers=new Map}addComponent(Ve){const me=this.getProvider(Ve.name);if(me.isComponentSet())throw new Error(`Component ${Ve.name} has already been registered with ${this.name}`);me.setComponent(Ve)}addOrOverwriteComponent(Ve){this.getProvider(Ve.name).isComponentSet()&&this.providers.delete(Ve.name),this.addComponent(Ve)}getProvider(Ve){if(this.providers.has(Ve))return this.providers.get(Ve);const me=new ce(Ve,this);return this.providers.set(Ve,me),me}getProviders(){return Array.from(this.providers.values())}}},8041:(Gn,St,k)=>{"use strict";k.d(St,{$b:()=>p,Ey:()=>ot,He:()=>Re,Vy:()=>ke});const c=[];var p=function(Ve){return Ve[Ve.DEBUG=0]="DEBUG",Ve[Ve.VERBOSE=1]="VERBOSE",Ve[Ve.INFO=2]="INFO",Ve[Ve.WARN=3]="WARN",Ve[Ve.ERROR=4]="ERROR",Ve[Ve.SILENT=5]="SILENT",Ve}(p||{});const U={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},q=p.INFO,ce={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},Pe=(Ve,me,...We)=>{if(me<Ve.logLevel)return;const Ye=(new Date).toISOString(),He=ce[me];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[He](`[${Ye}]  ${Ve.name}:`,...We)};class ke{constructor(me){this.name=me,this._logLevel=q,this._logHandler=Pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in p))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?U[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...me),this._logHandler(this,p.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...me),this._logHandler(this,p.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,p.INFO,...me),this._logHandler(this,p.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,p.WARN,...me),this._logHandler(this,p.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...me),this._logHandler(this,p.ERROR,...me)}}function Re(Ve){c.forEach(me=>{me.setLogLevel(Ve)})}function ot(Ve,me){for(const We of c){let Ye=null;me&&me.level&&(Ye=U[me.level]),We.userLogHandler=null===Ve?null:(He,ut,...gt)=>{const mt=gt.map(ft=>{if(null==ft)return null;if("string"==typeof ft)return ft;if("number"==typeof ft||"boolean"==typeof ft)return ft.toString();if(ft instanceof Error)return ft.message;try{return JSON.stringify(ft)}catch{return null}}).filter(ft=>ft).join(" ");ut>=(null!=Ye?Ye:He.logLevel)&&Ve({level:p[ut].toLowerCase(),message:mt,args:gt,type:He.name})}}}},2872:(Gn,St,k)=>{"use strict";k.d(St,{Yq:()=>sn,TS:()=>_r,sR:()=>Xn,el:()=>zt,Sb:()=>rr,QE:()=>Hn,CF:()=>ri,Rg:()=>we,p4:()=>wr,jM:()=>qi,q9:()=>ir,Kb:()=>tn,CE:()=>dn,pF:()=>xn,fL:()=>Ui,YV:()=>pe,er:()=>Ai,z3:()=>si});var c=k(467),p=k(9842),U=k(3953),q=k(9384),ce=k(177),Pe=k(5531),ke=k(4442);var Xt=k(1413),un=k(3726),Ht=k(4412),Ft=k(4572),Qn=k(7673),Ze=k(1635),ee=k(5964),de=k(5558),Se=k(3294),he=k(4341);const Be=["tabsInner"];let Vt=(()=>{var fe;class le{constructor(_e,ge){(0,p.A)(this,"doc",void 0),(0,p.A)(this,"_readyPromise",void 0),(0,p.A)(this,"win",void 0),(0,p.A)(this,"backButton",new Xt.B),(0,p.A)(this,"keyboardDidShow",new Xt.B),(0,p.A)(this,"keyboardDidHide",new Xt.B),(0,p.A)(this,"pause",new Xt.B),(0,p.A)(this,"resume",new Xt.B),(0,p.A)(this,"resize",new Xt.B),this.doc=_e,ge.run(()=>{var Ge;let jt;this.win=_e.defaultView,this.backButton.subscribeWithPriority=function(pn,jn){return this.subscribe(ye=>ye.register(pn,je=>ge.run(()=>jn(je))))},gn(this.pause,_e,"pause",ge),gn(this.resume,_e,"resume",ge),gn(this.backButton,_e,"ionBackButton",ge),gn(this.resize,this.win,"resize",ge),gn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ge),gn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ge),this._readyPromise=new Promise(pn=>{jt=pn}),null!==(Ge=this.win)&&void 0!==Ge&&Ge.cordova?_e.addEventListener("deviceready",()=>{jt("cordova")},{once:!0}):jt("dom")})}is(_e){return(0,Pe.a)(this.win,_e)}platforms(){return(0,Pe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(_e){return Ln(this.win.location.href,_e)}isLandscape(){return!this.isPortrait()}isPortrait(){var _e,ge;return null===(_e=(ge=this.win).matchMedia)||void 0===_e?void 0:_e.call(ge,"(orientation: portrait)").matches}testUserAgent(_e){const ge=this.win.navigator;return!!(null!=ge&&ge.userAgent&&ge.userAgent.indexOf(_e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)(U.KVO(ce.qQ),U.KVO(U.SKi))}),(0,p.A)(le,"\u0275prov",U.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})),le})();const Ln=(fe,le)=>{le=le.replace(/[[\]\\]/g,"\\$&");const _e=new RegExp("[\\?&]"+le+"=([^&#]*)").exec(fe);return _e?decodeURIComponent(_e[1].replace(/\+/g," ")):null},gn=(fe,le,Je,_e)=>{le&&le.addEventListener(Je,ge=>{_e.run(()=>{fe.next(null!=ge?ge.detail:void 0)})})};let ir=(()=>{var fe;class le{constructor(_e,ge,Ge,jt){(0,p.A)(this,"location",void 0),(0,p.A)(this,"serializer",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"topOutlet",void 0),(0,p.A)(this,"direction",gr),(0,p.A)(this,"animated",Kn),(0,p.A)(this,"animationBuilder",void 0),(0,p.A)(this,"guessDirection","forward"),(0,p.A)(this,"guessAnimation",void 0),(0,p.A)(this,"lastNavId",-1),this.location=ge,this.serializer=Ge,this.router=jt,jt&&jt.events.subscribe(pn=>{if(pn instanceof q.Z){const jn=pn.restoredState?pn.restoredState.navigationId:pn.id;this.guessDirection=this.guessAnimation=jn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?pn.id:jn}}),_e.backButton.subscribeWithPriority(0,pn=>{this.pop(),pn()})}navigateForward(_e,ge={}){return this.setDirection("forward",ge.animated,ge.animationDirection,ge.animation),this.navigate(_e,ge)}navigateBack(_e,ge={}){return this.setDirection("back",ge.animated,ge.animationDirection,ge.animation),this.navigate(_e,ge)}navigateRoot(_e,ge={}){return this.setDirection("root",ge.animated,ge.animationDirection,ge.animation),this.navigate(_e,ge)}back(_e={animated:!0,animationDirection:"back"}){return this.setDirection("back",_e.animated,_e.animationDirection,_e.animation),this.location.back()}pop(){var _e=this;return(0,c.A)(function*(){let ge=_e.topOutlet;for(;ge;){if(yield ge.pop())return!0;ge=ge.parentOutlet}return!1})()}setDirection(_e,ge,Ge,jt){this.direction=_e,this.animated=zn(_e,ge,Ge),this.animationBuilder=jt}setTopOutlet(_e){this.topOutlet=_e}consumeTransition(){let ge,_e="root";const Ge=this.animationBuilder;return"auto"===this.direction?(_e=this.guessDirection,ge=this.guessAnimation):(ge=this.animated,_e=this.direction),this.direction=gr,this.animated=Kn,this.animationBuilder=void 0,{direction:_e,animation:ge,animationBuilder:Ge}}navigate(_e,ge){if(Array.isArray(_e))return this.router.navigate(_e,ge);{const Ge=this.serializer.parse(_e.toString());return void 0!==ge.queryParams&&(Ge.queryParams={...ge.queryParams}),void 0!==ge.fragment&&(Ge.fragment=ge.fragment),this.router.navigateByUrl(Ge,ge)}}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)(U.KVO(Vt),U.KVO(ce.aZ),U.KVO(q.Sd),U.KVO(q.Ix,8))}),(0,p.A)(le,"\u0275prov",U.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})),le})();const zn=(fe,le,Je)=>{if(!1!==le){if(void 0!==Je)return Je;if("forward"===fe||"back"===fe)return fe;if("root"===fe&&!0===le)return"forward"}},gr="auto",Kn=void 0;let _r=(()=>{var fe;class le{get(_e,ge){const Ge=Bn();return Ge?Ge.get(_e,ge):null}getBoolean(_e,ge){const Ge=Bn();return!!Ge&&Ge.getBoolean(_e,ge)}getNumber(_e,ge){const Ge=Bn();return Ge?Ge.getNumber(_e,ge):0}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)}),(0,p.A)(le,"\u0275prov",U.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})),le})();const Xn=new U.nKC("USERCONFIG"),Bn=()=>{if(typeof window<"u"){const fe=window.Ionic;if(null!=fe&&fe.config)return fe.config}return null};class bn{constructor(le={}){(0,p.A)(this,"data",void 0),this.data=le,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(le){return this.data[le]}}let sn=(()=>{var fe;class le{constructor(){(0,p.A)(this,"zone",(0,U.WQX)(U.SKi)),(0,p.A)(this,"applicationRef",(0,U.WQX)(U.o8S)),(0,p.A)(this,"config",(0,U.WQX)(Xn))}create(_e,ge,Ge){var jt;return new At(_e,ge,this.applicationRef,this.zone,Ge,null!==(jt=this.config.useSetInputAPI)&&void 0!==jt&&jt)}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)}),(0,p.A)(le,"\u0275prov",U.jDH({token:fe,factory:fe.\u0275fac})),le})();class At{constructor(le,Je,_e,ge,Ge,jt){(0,p.A)(this,"environmentInjector",void 0),(0,p.A)(this,"injector",void 0),(0,p.A)(this,"applicationRef",void 0),(0,p.A)(this,"zone",void 0),(0,p.A)(this,"elementReferenceKey",void 0),(0,p.A)(this,"enableSignalsSupport",void 0),(0,p.A)(this,"elRefMap",new WeakMap),(0,p.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=le,this.injector=Je,this.applicationRef=_e,this.zone=ge,this.elementReferenceKey=Ge,this.enableSignalsSupport=jt}attachViewToDom(le,Je,_e,ge){return this.zone.run(()=>new Promise(Ge=>{const jt={..._e};void 0!==this.elementReferenceKey&&(jt[this.elementReferenceKey]=le),Ge(Kt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,le,Je,jt,ge,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(le,Je){return this.zone.run(()=>new Promise(_e=>{const ge=this.elRefMap.get(Je);if(ge){ge.destroy(),this.elRefMap.delete(Je);const Ge=this.elEventsMap.get(Je);Ge&&(Ge(),this.elEventsMap.delete(Je))}_e()}))}}const Kt=(fe,le,Je,_e,ge,Ge,jt,pn,jn,ye,je,bt)=>{const X=U.zZn.create({providers:Tr(jn),parent:Je}),be=(0,U.a0P)(pn,{environmentInjector:le,elementInjector:X}),ve=be.instance,Xe=be.location.nativeElement;if(jn)if(je&&void 0!==ve[je]&&console.error(`[Ionic Error]: ${je} is a reserved property when using ${jt.tagName.toLowerCase()}. Rename or remove the "${je}" property from ${pn.name}.`),!0===bt&&void 0!==be.setInput){const{modal:dt,popover:Bt,...rn}=jn;for(const Wt in rn)be.setInput(Wt,rn[Wt]);void 0!==dt&&Object.assign(ve,{modal:dt}),void 0!==Bt&&Object.assign(ve,{popover:Bt})}else Object.assign(ve,jn);if(ye)for(const dt of ye)Xe.classList.add(dt);const at=ln(fe,ve,Xe);return jt.appendChild(Xe),_e.attachView(be.hostView),ge.set(Xe,be),Ge.set(Xe,at),Xe},vn=[ke.L,ke.a,ke.b,ke.c,ke.d],ln=(fe,le,Je)=>fe.run(()=>{const _e=vn.filter(ge=>"function"==typeof le[ge]).map(ge=>{const Ge=jt=>le[ge](jt.detail);return Je.addEventListener(ge,Ge),()=>Je.removeEventListener(ge,Ge)});return()=>_e.forEach(ge=>ge())}),Br=new U.nKC("NavParamsToken"),Tr=fe=>[{provide:Br,useValue:fe},{provide:bn,useFactory:Zn,deps:[Br]}],Zn=fe=>new bn(fe),mn=(fe,le)=>{const Je=fe.prototype;le.forEach(_e=>{Object.defineProperty(Je,_e,{get(){return this.el[_e]},set(ge){this.z.runOutsideAngular(()=>this.el[_e]=ge)}})})},kr=(fe,le)=>{const Je=fe.prototype;le.forEach(_e=>{Je[_e]=function(){const ge=arguments;return this.z.runOutsideAngular(()=>this.el[_e].apply(this.el,ge))}})},Xr=(fe,le,Je)=>{Je.forEach(_e=>fe[_e]=(0,un.R)(le,_e))};function Dr(fe){return function(Je){const{defineCustomElementFn:_e,inputs:ge,methods:Ge}=fe;return void 0!==_e&&_e(),ge&&mn(Je,ge),Ge&&kr(Je,Ge),Je}}const yr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Hr=["present","dismiss","onDidDismiss","onWillDismiss"];let ri=(()=>{var fe;let le=((0,p.A)(fe=class{constructor(_e,ge,Ge){(0,p.A)(this,"z",void 0),(0,p.A)(this,"template",void 0),(0,p.A)(this,"isCmpOpen",!1),(0,p.A)(this,"el",void 0),this.z=Ge,this.el=ge.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,_e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,_e.detectChanges()}),Xr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(_e){return new(_e||fe)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))}),(0,p.A)(fe,"\u0275dir",U.FsC({type:fe,selectors:[["ion-popover"]],contentQueries:function(_e,ge,Ge){if(1&_e&&U.wni(Ge,U.C4Q,5),2&_e){let jt;U.mGM(jt=U.lsd())&&(ge.template=jt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),fe);return le=(0,Ze.Cg)([Dr({inputs:yr,methods:Hr})],le),le})();const Pr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ii=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let rr=(()=>{var fe;let le=((0,p.A)(fe=class{constructor(_e,ge,Ge){(0,p.A)(this,"z",void 0),(0,p.A)(this,"template",void 0),(0,p.A)(this,"isCmpOpen",!1),(0,p.A)(this,"el",void 0),this.z=Ge,this.el=ge.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,_e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,_e.detectChanges()}),Xr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(_e){return new(_e||fe)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))}),(0,p.A)(fe,"\u0275dir",U.FsC({type:fe,selectors:[["ion-modal"]],contentQueries:function(_e,ge,Ge){if(1&_e&&U.wni(Ge,U.C4Q,5),2&_e){let jt;U.mGM(jt=U.lsd())&&(ge.template=jt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),fe);return le=(0,Ze.Cg)([Dr({inputs:Pr,methods:Ii})],le),le})();const _i=(fe,le)=>((fe=fe.filter(Je=>Je.stackId!==le.stackId)).push(le),fe),mr=(fe,le)=>{const Je=fe.createUrlTree(["."],{relativeTo:le});return fe.serializeUrl(Je)},yi=(fe,le)=>!le||fe.stackId!==le.stackId,Vi=(fe,le)=>{if(!fe)return;const Je=mi(le);for(let _e=0;_e<Je.length;_e++){if(_e>=fe.length)return Je[_e];if(Je[_e]!==fe[_e])return}},mi=fe=>fe.split("/").map(le=>le.trim()).filter(le=>""!==le),Yt=fe=>{fe&&(fe.ref.destroy(),fe.unlistenEvents())};class Mt{constructor(le,Je,_e,ge,Ge,jt){(0,p.A)(this,"containerEl",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"zone",void 0),(0,p.A)(this,"location",void 0),(0,p.A)(this,"views",[]),(0,p.A)(this,"runningTask",void 0),(0,p.A)(this,"skipTransition",!1),(0,p.A)(this,"tabsPrefix",void 0),(0,p.A)(this,"activeView",void 0),(0,p.A)(this,"nextId",0),this.containerEl=Je,this.router=_e,this.navCtrl=ge,this.zone=Ge,this.location=jt,this.tabsPrefix=void 0!==le?mi(le):void 0}createView(le,Je){var _e;const ge=mr(this.router,Je),Ge=null==le||null===(_e=le.location)||void 0===_e?void 0:_e.nativeElement,jt=ln(this.zone,le.instance,Ge);return{id:this.nextId++,stackId:Vi(this.tabsPrefix,ge),unlistenEvents:jt,element:Ge,ref:le,url:ge}}getExistingView(le){const Je=mr(this.router,le),_e=this.views.find(ge=>ge.url===Je);return _e&&_e.ref.changeDetectorRef.reattach(),_e}setActive(le){var Je,_e;const ge=this.navCtrl.consumeTransition();let{direction:Ge,animation:jt,animationBuilder:pn}=ge;const jn=this.activeView,ye=yi(le,jn);ye&&(Ge="back",jt=void 0);const je=this.views.slice();let bt;const X=this.router;X.getCurrentNavigation?bt=X.getCurrentNavigation():null!==(Je=X.navigations)&&void 0!==Je&&Je.value&&(bt=X.navigations.value),null!==(_e=bt)&&void 0!==_e&&null!==(_e=_e.extras)&&void 0!==_e&&_e.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const be=this.views.includes(le),ve=this.insertView(le,Ge);be||le.ref.changeDetectorRef.detectChanges();const Xe=le.animationBuilder;return void 0===pn&&"back"===Ge&&!ye&&void 0!==Xe&&(pn=Xe),jn&&(jn.animationBuilder=pn),this.zone.runOutsideAngular(()=>this.wait(()=>(jn&&jn.ref.changeDetectorRef.detach(),le.ref.changeDetectorRef.reattach(),this.transition(le,jn,jt,this.canGoBack(1),!1,pn).then(()=>qt(le,ve,je,this.location,this.zone)).then(()=>({enteringView:le,direction:Ge,animation:jt,tabSwitch:ye})))))}canGoBack(le,Je=this.getActiveStackId()){return this.getStack(Je).length>le}pop(le,Je=this.getActiveStackId()){return this.zone.run(()=>{const _e=this.getStack(Je);if(_e.length<=le)return Promise.resolve(!1);const ge=_e[_e.length-le-1];let Ge=ge.url;const jt=ge.savedData;if(jt){var pn;const ye=jt.get("primary");null!=ye&&null!==(pn=ye.route)&&void 0!==pn&&null!==(pn=pn._routerState)&&void 0!==pn&&pn.snapshot.url&&(Ge=ye.route._routerState.snapshot.url)}const{animationBuilder:jn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ge,{...ge.savedExtras,animation:jn}).then(()=>!0)})}startBackTransition(){const le=this.activeView;if(le){const Je=this.getStack(le.stackId),_e=Je[Je.length-2],ge=_e.animationBuilder;return this.wait(()=>this.transition(_e,le,"back",this.canGoBack(2),!0,ge))}return Promise.resolve()}endBackTransition(le){le?(this.skipTransition=!0,this.pop(1)):this.activeView&&_t(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(le){const Je=this.getStack(le);return Je.length>0?Je[Je.length-1]:void 0}getRootUrl(le){const Je=this.getStack(le);return Je.length>0?Je[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Yt),this.activeView=void 0,this.views=[]}getStack(le){return this.views.filter(Je=>Je.stackId===le)}insertView(le,Je){return this.activeView=le,this.views=((fe,le,Je)=>"root"===Je?_i(fe,le):"forward"===Je?((fe,le)=>(fe.indexOf(le)>=0?fe=fe.filter(_e=>_e.stackId!==le.stackId||_e.id<=le.id):fe.push(le),fe))(fe,le):((fe,le)=>fe.indexOf(le)>=0?fe.filter(_e=>_e.stackId!==le.stackId||_e.id<=le.id):_i(fe,le))(fe,le))(this.views,le,Je),this.views.slice()}transition(le,Je,_e,ge,Ge,jt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Je===le)return Promise.resolve(!1);const pn=le?le.element:void 0,jn=Je?Je.element:void 0,ye=this.containerEl;return pn&&pn!==jn&&(pn.classList.add("ion-page"),pn.classList.add("ion-page-invisible"),ye.commit)?ye.commit(pn,jn,{duration:void 0===_e?0:void 0,direction:_e,showGoBack:ge,progressAnimation:Ge,animationBuilder:jt}):Promise.resolve(!1)}wait(le){var Je=this;return(0,c.A)(function*(){void 0!==Je.runningTask&&(yield Je.runningTask,Je.runningTask=void 0);const _e=Je.runningTask=le();return _e.finally(()=>Je.runningTask=void 0),_e})()}}const qt=(fe,le,Je,_e,ge)=>"function"==typeof requestAnimationFrame?new Promise(Ge=>{requestAnimationFrame(()=>{_t(fe,le,Je,_e,ge),Ge()})}):Promise.resolve(),_t=(fe,le,Je,_e,ge)=>{ge.run(()=>Je.filter(Ge=>!le.includes(Ge)).forEach(Yt)),le.forEach(Ge=>{const pn=_e.path().split("?")[0].split("#")[0];if(Ge!==fe&&Ge.url!==pn){const jn=Ge.element;jn.setAttribute("aria-hidden","true"),jn.classList.add("ion-page-hidden"),Ge.ref.changeDetectorRef.detach()}})};let we=(()=>{var fe;class le{get activatedComponentRef(){return this.activated}set animation(_e){this.nativeEl.animation=_e}set animated(_e){this.nativeEl.animated=_e}set swipeGesture(_e){this._swipeGesture=_e,this.nativeEl.swipeHandler=_e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ge=>this.stackCtrl.endBackTransition(ge)}:void 0}constructor(_e,ge,Ge,jt,pn,jn,ye,je){(0,p.A)(this,"parentOutlet",void 0),(0,p.A)(this,"nativeEl",void 0),(0,p.A)(this,"activatedView",null),(0,p.A)(this,"tabsPrefix",void 0),(0,p.A)(this,"_swipeGesture",void 0),(0,p.A)(this,"stackCtrl",void 0),(0,p.A)(this,"proxyMap",new WeakMap),(0,p.A)(this,"currentActivatedRoute$",new Ht.t(null)),(0,p.A)(this,"activated",null),(0,p.A)(this,"_activatedRoute",null),(0,p.A)(this,"name",q.Xk),(0,p.A)(this,"stackWillChange",new U.bkB),(0,p.A)(this,"stackDidChange",new U.bkB),(0,p.A)(this,"activateEvents",new U.bkB),(0,p.A)(this,"deactivateEvents",new U.bkB),(0,p.A)(this,"parentContexts",(0,U.WQX)(q.Zp)),(0,p.A)(this,"location",(0,U.WQX)(U.c1b)),(0,p.A)(this,"environmentInjector",(0,U.WQX)(U.uvJ)),(0,p.A)(this,"inputBinder",(0,U.WQX)(x,{optional:!0})),(0,p.A)(this,"supportsBindingToComponentInputs",!0),(0,p.A)(this,"config",(0,U.WQX)(_r)),(0,p.A)(this,"navCtrl",(0,U.WQX)(ir)),this.parentOutlet=je,this.nativeEl=jt.nativeElement,this.name=_e||q.Xk,this.tabsPrefix="true"===ge?mr(pn,ye):void 0,this.stackCtrl=new Mt(this.tabsPrefix,this.nativeEl,pn,this.navCtrl,jn,Ge),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var _e;this.stackCtrl.destroy(),null===(_e=this.inputBinder)||void 0===_e||_e.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const _e=this.getContext();null!=_e&&_e.route&&this.activateWith(_e.route,_e.injector)}new Promise(_e=>((fe,le)=>{fe.componentOnReady?fe.componentOnReady().then(Je=>le(Je)):(fe=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(fe):setTimeout(fe)})(()=>le(fe))})(this.nativeEl,_e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(_e,ge){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ge=this.getContext();this.activatedView.savedData=new Map(ge.children.contexts);const Ge=this.activatedView.savedData.get("primary");if(Ge&&ge.route&&(Ge.route={...ge.route}),this.activatedView.savedExtras={},ge.route){const jt=ge.route.snapshot;this.activatedView.savedExtras.queryParams=jt.queryParams,this.activatedView.savedExtras.fragment=jt.fragment}}const _e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_e)}}activateWith(_e,ge){var Ge;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_e;let jt,pn=this.stackCtrl.getExistingView(_e);if(pn){jt=this.activated=pn.ref;const je=pn.savedData;je&&(this.getContext().children.contexts=je),this.updateActivatedRouteProxy(jt.instance,_e)}else{var jn;const je=_e._futureSnapshot,bt=this.parentContexts.getOrCreateContext(this.name).children,X=new Ht.t(null),be=this.createActivatedRouteProxy(X,_e),ve=new Z(be,bt,this.location.injector),Xe=null!==(jn=je.routeConfig.component)&&void 0!==jn?jn:je.component;jt=this.activated=this.outletContent.createComponent(Xe,{index:this.outletContent.length,injector:ve,environmentInjector:null!=ge?ge:this.environmentInjector}),X.next(jt.instance),pn=this.stackCtrl.createView(this.activated,_e),this.proxyMap.set(jt.instance,be),this.currentActivatedRoute$.next({component:jt.instance,activatedRoute:_e})}null===(Ge=this.inputBinder)||void 0===Ge||Ge.bindActivatedRouteToOutletComponent(this),this.activatedView=pn,this.navCtrl.setTopOutlet(this);const ye=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:pn,tabSwitch:yi(pn,ye)}),this.stackCtrl.setActive(pn).then(je=>{this.activateEvents.emit(jt.instance),this.stackDidChange.emit(je)})}canGoBack(_e=1,ge){return this.stackCtrl.canGoBack(_e,ge)}pop(_e=1,ge){return this.stackCtrl.pop(_e,ge)}getLastUrl(_e){const ge=this.stackCtrl.getLastUrl(_e);return ge?ge.url:void 0}getLastRouteView(_e){return this.stackCtrl.getLastUrl(_e)}getRootView(_e){return this.stackCtrl.getRootUrl(_e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(_e,ge){const Ge=new q.nX;return Ge._futureSnapshot=ge._futureSnapshot,Ge._routerState=ge._routerState,Ge.snapshot=ge.snapshot,Ge.outlet=ge.outlet,Ge.component=ge.component,Ge._paramMap=this.proxyObservable(_e,"paramMap"),Ge._queryParamMap=this.proxyObservable(_e,"queryParamMap"),Ge.url=this.proxyObservable(_e,"url"),Ge.params=this.proxyObservable(_e,"params"),Ge.queryParams=this.proxyObservable(_e,"queryParams"),Ge.fragment=this.proxyObservable(_e,"fragment"),Ge.data=this.proxyObservable(_e,"data"),Ge}proxyObservable(_e,ge){return _e.pipe((0,ee.p)(Ge=>!!Ge),(0,de.n)(Ge=>this.currentActivatedRoute$.pipe((0,ee.p)(jt=>null!==jt&&jt.component===Ge),(0,de.n)(jt=>jt&&jt.activatedRoute[ge]),(0,Se.F)())))}updateActivatedRouteProxy(_e,ge){const Ge=this.proxyMap.get(_e);if(!Ge)throw new Error("Could not find activated route proxy for view");Ge._futureSnapshot=ge._futureSnapshot,Ge._routerState=ge._routerState,Ge.snapshot=ge.snapshot,Ge.outlet=ge.outlet,Ge.component=ge.component,this.currentActivatedRoute$.next({component:_e,activatedRoute:ge})}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)(U.kS0("name"),U.kS0("tabs"),U.rXU(ce.aZ),U.rXU(U.aKT),U.rXU(q.Ix),U.rXU(U.SKi),U.rXU(q.nX),U.rXU(fe,12))}),(0,p.A)(le,"\u0275dir",U.FsC({type:fe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),le})();class Z{constructor(le,Je,_e){(0,p.A)(this,"route",void 0),(0,p.A)(this,"childContexts",void 0),(0,p.A)(this,"parent",void 0),this.route=le,this.childContexts=Je,this.parent=_e}get(le,Je){return le===q.nX?this.route:le===q.Zp?this.childContexts:this.parent.get(le,Je)}}const x=new U.nKC("");let W=(()=>{var fe;class le{constructor(){(0,p.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(_e){this.unsubscribeFromRouteData(_e),this.subscribeToRouteData(_e)}unsubscribeFromRouteData(_e){var ge;null===(ge=this.outletDataSubscriptions.get(_e))||void 0===ge||ge.unsubscribe(),this.outletDataSubscriptions.delete(_e)}subscribeToRouteData(_e){const{activatedRoute:ge}=_e,Ge=(0,Ft.z)([ge.queryParams,ge.params,ge.data]).pipe((0,de.n)(([jt,pn,jn],ye)=>(jn={...jt,...pn,...jn},0===ye?(0,Qn.of)(jn):Promise.resolve(jn)))).subscribe(jt=>{if(!_e.isActivated||!_e.activatedComponentRef||_e.activatedRoute!==ge||null===ge.component)return void this.unsubscribeFromRouteData(_e);const pn=(0,U.HJs)(ge.component);if(pn)for(const{templateName:jn}of pn.inputs)_e.activatedComponentRef.setInput(jn,jt[jn]);else this.unsubscribeFromRouteData(_e)});this.outletDataSubscriptions.set(_e,Ge)}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)}),(0,p.A)(le,"\u0275prov",U.jDH({token:fe,factory:fe.\u0275fac})),le})();const pe=()=>({provide:x,useFactory:Fe,deps:[q.Ix]});function Fe(fe){return null!=fe&&fe.componentInputBindingEnabled?new W:null}const Ct=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let zt=(()=>{var fe;let le=((0,p.A)(fe=class{constructor(_e,ge,Ge,jt,pn,jn){(0,p.A)(this,"routerOutlet",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"config",void 0),(0,p.A)(this,"r",void 0),(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.routerOutlet=_e,this.navCtrl=ge,this.config=Ge,this.r=jt,this.z=pn,jn.detach(),this.el=this.r.nativeElement}onClick(_e){var ge;const Ge=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ge=this.routerOutlet)&&void 0!==ge&&ge.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),_e.preventDefault()):null!=Ge&&(this.navCtrl.navigateBack(Ge,{animation:this.routerAnimation}),_e.preventDefault())}},"\u0275fac",function(_e){return new(_e||fe)(U.rXU(we,8),U.rXU(ir),U.rXU(_r),U.rXU(U.aKT),U.rXU(U.SKi),U.rXU(U.gRc))}),(0,p.A)(fe,"\u0275dir",U.FsC({type:fe,hostBindings:function(_e,ge){1&_e&&U.bIt("click",function(jt){return ge.onClick(jt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),fe);return le=(0,Ze.Cg)([Dr({inputs:Ct})],le),le})(),dn=(()=>{var fe;class le{constructor(_e,ge,Ge,jt,pn){(0,p.A)(this,"locationStrategy",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"elementRef",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"routerLink",void 0),(0,p.A)(this,"routerDirection","forward"),(0,p.A)(this,"routerAnimation",void 0),this.locationStrategy=_e,this.navCtrl=ge,this.elementRef=Ge,this.router=jt,this.routerLink=pn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const ge=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(ge.tagName)&&"0"===ge.getAttribute("tabindex")&&ge.removeAttribute("tabindex")}updateTargetUrlAndHref(){var _e;if(null!==(_e=this.routerLink)&&void 0!==_e&&_e.urlTree){const ge=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ge}}onClick(_e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),_e.preventDefault()}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)(U.rXU(ce.hb),U.rXU(ir),U.rXU(U.aKT),U.rXU(q.Ix),U.rXU(q.Wk,8))}),(0,p.A)(le,"\u0275dir",U.FsC({type:fe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_e,ge){1&_e&&U.bIt("click",function(jt){return ge.onClick(jt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})),le})(),xn=(()=>{var fe;class le{constructor(_e,ge,Ge,jt,pn){(0,p.A)(this,"locationStrategy",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"elementRef",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"routerLink",void 0),(0,p.A)(this,"routerDirection","forward"),(0,p.A)(this,"routerAnimation",void 0),this.locationStrategy=_e,this.navCtrl=ge,this.elementRef=Ge,this.router=jt,this.routerLink=pn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var _e;if(null!==(_e=this.routerLink)&&void 0!==_e&&_e.urlTree){const ge=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ge}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)(U.rXU(ce.hb),U.rXU(ir),U.rXU(U.aKT),U.rXU(q.Ix),U.rXU(q.Wk,8))}),(0,p.A)(le,"\u0275dir",U.FsC({type:fe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(_e,ge){1&_e&&U.bIt("click",function(){return ge.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})),le})();const An=["animated","animation","root","rootParams","swipeGesture"],yn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Hn=(()=>{var fe;let le=((0,p.A)(fe=class{constructor(_e,ge,Ge,jt,pn,jn){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=pn,jn.detach(),this.el=_e.nativeElement,_e.nativeElement.delegate=jt.create(ge,Ge),Xr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(_e){return new(_e||fe)(U.rXU(U.aKT),U.rXU(U.uvJ),U.rXU(U.zZn),U.rXU(sn),U.rXU(U.SKi),U.rXU(U.gRc))}),(0,p.A)(fe,"\u0275dir",U.FsC({type:fe,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),fe);return le=(0,Ze.Cg)([Dr({inputs:An,methods:yn})],le),le})(),wr=(()=>{var fe;class le{constructor(_e){(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"tabsInner",void 0),(0,p.A)(this,"ionTabsWillChange",new U.bkB),(0,p.A)(this,"ionTabsDidChange",new U.bkB),(0,p.A)(this,"tabBarSlot","bottom"),this.navCtrl=_e}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:_e,tabSwitch:ge}){const Ge=_e.stackId;ge&&void 0!==Ge&&this.ionTabsWillChange.emit({tab:Ge})}onStackDidChange({enteringView:_e,tabSwitch:ge}){const Ge=_e.stackId;ge&&void 0!==Ge&&(this.tabBar&&(this.tabBar.selectedTab=Ge),this.ionTabsDidChange.emit({tab:Ge}))}select(_e){const ge="string"==typeof _e,Ge=ge?_e:_e.detail.tab,jt=this.outlet.getActiveStackId()===Ge,pn=`${this.outlet.tabsPrefix}/${Ge}`;if(ge||_e.stopPropagation(),jt){const jn=this.outlet.getActiveStackId(),ye=this.outlet.getLastRouteView(jn);if((null==ye?void 0:ye.url)===pn)return;const je=this.outlet.getRootView(Ge);return this.navCtrl.navigateRoot(pn,{...je&&pn===je.url&&je.savedExtras,animated:!0,animationDirection:"back"})}{const jn=this.outlet.getLastRouteView(Ge);return this.navCtrl.navigateRoot((null==jn?void 0:jn.url)||pn,{...null==jn?void 0:jn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(_e=>{const ge=_e.el.getAttribute("slot");ge!==this.tabBarSlot&&(this.tabBarSlot=ge,this.relocateTabBar())})}relocateTabBar(){const _e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(_e):this.tabsInner.nativeElement.after(_e)}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)(U.rXU(ir))}),(0,p.A)(le,"\u0275dir",U.FsC({type:fe,selectors:[["ion-tabs"]],viewQuery:function(_e,ge){if(1&_e&&U.GBs(Be,7,U.aKT),2&_e){let Ge;U.mGM(Ge=U.lsd())&&(ge.tabsInner=Ge.first)}},hostBindings:function(_e,ge){1&_e&&U.bIt("ionTabButtonClick",function(jt){return ge.select(jt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),le})();const Ai=fe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(fe):setTimeout(fe);let Ui=(()=>{var fe;class le{constructor(_e,ge){(0,p.A)(this,"injector",void 0),(0,p.A)(this,"elementRef",void 0),(0,p.A)(this,"onChange",()=>{}),(0,p.A)(this,"onTouched",()=>{}),(0,p.A)(this,"lastValue",void 0),(0,p.A)(this,"statusChanges",void 0),this.injector=_e,this.elementRef=ge}writeValue(_e){this.elementRef.nativeElement.value=this.lastValue=_e,si(this.elementRef)}handleValueChange(_e,ge){_e===this.elementRef.nativeElement&&(ge!==this.lastValue&&(this.lastValue=ge,this.onChange(ge)),si(this.elementRef))}_handleBlurEvent(_e){_e===this.elementRef.nativeElement&&(this.onTouched(),si(this.elementRef))}registerOnChange(_e){this.onChange=_e}registerOnTouched(_e){this.onTouched=_e}setDisabledState(_e){this.elementRef.nativeElement.disabled=_e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let _e;try{_e=this.injector.get(he.vO)}catch{}if(!_e)return;_e.statusChanges&&(this.statusChanges=_e.statusChanges.subscribe(()=>si(this.elementRef)));const ge=_e.control;ge&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(jt=>{if(typeof ge[jt]<"u"){const pn=ge[jt].bind(ge);ge[jt]=(...jn)=>{pn(...jn),si(this.elementRef)}}})}}return fe=le,(0,p.A)(le,"\u0275fac",function(_e){return new(_e||fe)(U.rXU(U.zZn),U.rXU(U.aKT))}),(0,p.A)(le,"\u0275dir",U.FsC({type:fe,hostBindings:function(_e,ge){1&_e&&U.bIt("ionBlur",function(jt){return ge._handleBlurEvent(jt.target)})}})),le})();const si=fe=>{Ai(()=>{const le=fe.nativeElement,Je=null!=le.value&&le.value.toString().length>0,_e=xi(le);ki(le,_e);const ge=le.closest("ion-item");ge&&ki(ge,Je?[..._e,"item-has-value"]:_e)})},xi=fe=>{const le=fe.classList,Je=[];for(let _e=0;_e<le.length;_e++){const ge=le.item(_e);null!==ge&&Bi(ge,"ng-")&&Je.push(`ion-${ge.substring(3)}`)}return Je},ki=(fe,le)=>{const Je=fe.classList;Je.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Je.add(...le)},Bi=(fe,le)=>fe.substring(0,le.length)===le;class qi{shouldDetach(le){return!1}shouldAttach(le){return!1}store(le,Je){}retrieve(le){return null}shouldReuseRoute(le,Je){if(le.routeConfig!==Je.routeConfig)return!1;const _e=le.params,ge=Je.params,Ge=Object.keys(_e),jt=Object.keys(ge);if(Ge.length!==jt.length)return!1;for(const pn of Ge)if(ge[pn]!==_e[pn])return!1;return!0}}class tn{constructor(le){(0,p.A)(this,"ctrl",void 0),this.ctrl=le}create(le){return this.ctrl.create(le||{})}dismiss(le,Je,_e){return this.ctrl.dismiss(le,Je,_e)}getTop(){return this.ctrl.getTop()}}},4742:(Gn,St,k)=>{"use strict";k.d(St,{GD:()=>Ci,U1:()=>zn,Jm:()=>bn,QW:()=>sn,b_:()=>At,I9:()=>Kt,ME:()=>vn,HW:()=>ln,tN:()=>Br,W9:()=>kr,Q8:()=>yr,YW:()=>Hr,eU:()=>rr,iq:()=>br,$w:()=>mr,uz:()=>Vi,he:()=>we,nf:()=>Z,Rg:()=>Bt,Jq:()=>ye,qW:()=>je,p4:()=>rn,IO:()=>bt,Zx:()=>be,BC:()=>ve,ai:()=>dt,bv:()=>ao,Xi:()=>co,N7:()=>Rn,oY:()=>kn,Gw:()=>Se,K_:()=>jr});var c=k(9842),p=k(3953),U=k(4341),q=k(2872),ce=k(1635),Pe=k(3726),ke=k(177),Re=k(9384),He=(k(9986),k(3604),k(5022),k(3615),k(8607),k(9483)),ut=k(464),mt=(k(9568),k(9440)),Ot=(k(8476),k(4261));k(1970),k(7192);var ct=k(467);const vt=He.i,Ut=function(){var O=(0,ct.A)(function*(re,Oe){if(!(typeof window>"u"))return yield vt(),(0,Ot.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Oe)});return function(Oe,F){return O.apply(this,arguments)}}(),ae=["*"],Et=["outletContent"],Xt=["outlet"],un=[[["","slot","top"]],"*"],Ht=["[slot=top]","*"];let Se=(()=>{var O;class re extends q.fL{constructor(F,Ue){super(F,Ue)}_handleInputEvent(F){this.handleValueChange(F,F.value)}}return O=re,(0,c.A)(re,"\u0275fac",function(F){return new(F||O)(p.rXU(p.zZn),p.rXU(p.aKT))}),(0,c.A)(re,"\u0275dir",p.FsC({type:O,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(F,Ue){1&F&&p.bIt("ionInput",function(ei){return Ue._handleInputEvent(ei.target)})},features:[p.Jv_([{provide:U.kq,useExisting:O,multi:!0}]),p.Vt3]})),re})();const he=(O,re)=>{const Oe=O.prototype;re.forEach(F=>{Object.defineProperty(Oe,F,{get(){return this.el[F]},set(Ue){this.z.runOutsideAngular(()=>this.el[F]=Ue)},configurable:!0})})},Be=(O,re)=>{const Oe=O.prototype;re.forEach(F=>{Oe[F]=function(){const Ue=arguments;return this.z.runOutsideAngular(()=>this.el[F].apply(this.el,Ue))}})},Ke=(O,re,Oe)=>{Oe.forEach(F=>O[F]=(0,Pe.R)(re,F))};function nt(O){return function(Oe){const{defineCustomElementFn:F,inputs:Ue,methods:xt}=O;return void 0!==F&&F(),Ue&&he(Oe,Ue),xt&&Be(Oe,xt),Oe}}let zn=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-app"]],ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({})],re),re})(),bn=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement,Ke(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],re),re})(),sn=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["collapse"]})],re),re})(),At=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],re),re})(),Kt=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["mode"]})],re),re})(),vn=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","mode","translucent"]})],re),re})(),ln=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","mode"]})],re),re})(),Br=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","mode"]})],re),re})(),kr=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement,Ke(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],re),re})(),yr=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],re),re})(),Hr=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement,Ke(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],re),re})(),rr=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["collapse","mode","translucent"]})],re),re})(),br=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],re),re})(),mr=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement,Ke(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],re),re})(),Vi=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],re),re})(),we=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","mode","position"]})],re),re})(),Z=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],re),re})(),ye=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","mode","selectedTab","translucent"]})],re),re})(),je=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],re),re})(),bt=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","mode"]})],re),re})(),be=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-thumbnail"]],ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({})],re),re})(),ve=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","size"]})],re),re})(),dt=(()=>{var O;let re=((0,c.A)(O=class{constructor(F,Ue,xt){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=xt,F.detach(),this.el=Ue.nativeElement}},"\u0275fac",function(F){return new(F||O)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,c.A)(O,"\u0275cmp",p.VBU({type:O,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ae,decls:1,vars:0,template:function(F,Ue){1&F&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),O);return re=(0,ce.Cg)([nt({inputs:["color","mode"]})],re),re})(),Bt=(()=>{var O;class re extends q.Rg{constructor(F,Ue,xt,ei,J,Ae,st,ht){super(F,Ue,xt,ei,J,Ae,st,ht),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=ht}}return O=re,(0,c.A)(re,"\u0275fac",function(F){return new(F||O)(p.kS0("name"),p.kS0("tabs"),p.rXU(ke.aZ),p.rXU(p.aKT),p.rXU(Re.Ix),p.rXU(p.SKi),p.rXU(Re.nX),p.rXU(O,12))}),(0,c.A)(re,"\u0275cmp",p.VBU({type:O,selectors:[["ion-router-outlet"]],viewQuery:function(F,Ue){if(1&F&&p.GBs(Et,7,p.c1b),2&F){let xt;p.mGM(xt=p.lsd())&&(Ue.outletContent=xt.first)}},features:[p.Vt3],ngContentSelectors:ae,decls:3,vars:0,consts:[["outletContent",""]],template:function(F,Ue){1&F&&(p.NAR(),p.qex(0,null,0),p.SdG(2),p.bVm())},encapsulation:2})),re})(),rn=(()=>{var O;class re extends q.p4{constructor(...F){super(...F),(0,c.A)(this,"outlet",void 0),(0,c.A)(this,"tabBar",void 0),(0,c.A)(this,"tabBars",void 0)}}return O=re,(0,c.A)(re,"\u0275fac",(()=>{let Oe;return function(Ue){return(Oe||(Oe=p.xGo(O)))(Ue||O)}})()),(0,c.A)(re,"\u0275cmp",p.VBU({type:O,selectors:[["ion-tabs"]],contentQueries:function(F,Ue,xt){if(1&F&&(p.wni(xt,ye,5),p.wni(xt,ye,4)),2&F){let ei;p.mGM(ei=p.lsd())&&(Ue.tabBar=ei.first),p.mGM(ei=p.lsd())&&(Ue.tabBars=ei)}},viewQuery:function(F,Ue){if(1&F&&p.GBs(Xt,5,Bt),2&F){let xt;p.mGM(xt=p.lsd())&&(Ue.outlet=xt.first)}},features:[p.Vt3],ngContentSelectors:Ht,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(F,Ue){if(1&F){const xt=p.RV6();p.NAR(un),p.SdG(0),p.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),p.bIt("stackWillChange",function(J){return p.eBV(xt),p.Njj(Ue.onStackWillChange(J))})("stackDidChange",function(J){return p.eBV(xt),p.Njj(Ue.onStackDidChange(J))}),p.k0s()(),p.SdG(5,1)}},dependencies:[Bt],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),re})(),Rn=(()=>{var O;class re extends q.CE{}return O=re,(0,c.A)(re,"\u0275fac",(()=>{let Oe;return function(Ue){return(Oe||(Oe=p.xGo(O)))(Ue||O)}})()),(0,c.A)(re,"\u0275dir",p.FsC({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],features:[p.Vt3]})),re})(),kn=(()=>{var O;class re extends q.pF{}return O=re,(0,c.A)(re,"\u0275fac",(()=>{let Oe;return function(Ue){return(Oe||(Oe=p.xGo(O)))(Ue||O)}})()),(0,c.A)(re,"\u0275dir",p.FsC({type:O,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[p.Vt3]})),re})();const nr={provide:U.cz,useExisting:(0,p.Rfq)(()=>ai),multi:!0};let ai=(()=>{var O;class re extends U.zX{}return O=re,(0,c.A)(re,"\u0275fac",(()=>{let Oe;return function(Ue){return(Oe||(Oe=p.xGo(O)))(Ue||O)}})()),(0,c.A)(re,"\u0275dir",p.FsC({type:O,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(F,Ue){2&F&&p.BMQ("max",Ue._enabled?Ue.max:null)},features:[p.Jv_([nr]),p.Vt3]})),re})();const Nr={provide:U.cz,useExisting:(0,p.Rfq)(()=>Ir),multi:!0};let Ir=(()=>{var O;class re extends U.VZ{}return O=re,(0,c.A)(re,"\u0275fac",(()=>{let Oe;return function(Ue){return(Oe||(Oe=p.xGo(O)))(Ue||O)}})()),(0,c.A)(re,"\u0275dir",p.FsC({type:O,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(F,Ue){2&F&&p.BMQ("min",Ue._enabled?Ue.min:null)},features:[p.Jv_([Nr]),p.Vt3]})),re})(),Ci=(()=>{var O;class re extends q.Kb{constructor(){super(mt.b)}}return O=re,(0,c.A)(re,"\u0275fac",function(F){return new(F||O)}),(0,c.A)(re,"\u0275prov",p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})),re})(),co=(()=>{var O;class re extends q.Kb{constructor(){super(mt.l)}}return O=re,(0,c.A)(re,"\u0275fac",function(F){return new(F||O)}),(0,c.A)(re,"\u0275prov",p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})),re})(),vo=(()=>{var O;class re extends q.Kb{constructor(){super(mt.m),(0,c.A)(this,"angularDelegate",(0,p.WQX)(q.Yq)),(0,c.A)(this,"injector",(0,p.WQX)(p.zZn)),(0,c.A)(this,"environmentInjector",(0,p.WQX)(p.uvJ))}create(F){return super.create({...F,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return O=re,(0,c.A)(re,"\u0275fac",function(F){return new(F||O)}),(0,c.A)(re,"\u0275prov",p.jDH({token:O,factory:O.\u0275fac})),re})();class ho extends q.Kb{constructor(){super(mt.c),(0,c.A)(this,"angularDelegate",(0,p.WQX)(q.Yq)),(0,c.A)(this,"injector",(0,p.WQX)(p.zZn)),(0,c.A)(this,"environmentInjector",(0,p.WQX)(p.uvJ))}create(re){return super.create({...re,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let jr=(()=>{var O;class re extends q.Kb{constructor(){super(mt.t)}}return O=re,(0,c.A)(re,"\u0275fac",function(F){return new(F||O)}),(0,c.A)(re,"\u0275prov",p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})),re})();const Do=(O,re,Oe)=>()=>{const F=re.defaultView;if(F&&typeof window<"u"){(0,ut.s)({...O,_zoneGate:xt=>Oe.run(xt)});const Ue="__zone_symbol__addEventListener"in re.body?"__zone_symbol__addEventListener":"addEventListener";return function $e(){var O=[];if(typeof window<"u"){var re=window;(!re.customElements||re.Element&&(!re.Element.prototype.closest||!re.Element.prototype.matches||!re.Element.prototype.remove||!re.Element.prototype.getRootNode))&&O.push(k.e(7278).then(k.t.bind(k,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||re.NodeList&&!re.NodeList.prototype.forEach||!re.fetch||!function(){try{var F=new URL("b","http://a");return F.pathname="c%20d","http://a/c%20d"===F.href&&F.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&O.push(k.e(9329).then(k.t.bind(k,7783,23)))}return Promise.all(O)}().then(()=>Ut(F,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:q.er,jmp:xt=>Oe.runOutsideAngular(xt),ael(xt,ei,J,Ae){xt[Ue](ei,J,Ae)},rel(xt,ei,J,Ae){xt.removeEventListener(ei,J,Ae)}}))}};let ao=(()=>{var O;class re{static forRoot(F={}){return{ngModule:re,providers:[{provide:q.sR,useValue:F},{provide:p.hnV,useFactory:Do,multi:!0,deps:[q.sR,ke.qQ,p.SKi]},q.Yq,(0,q.YV)()]}}}return O=re,(0,c.A)(re,"\u0275fac",function(F){return new(F||O)}),(0,c.A)(re,"\u0275mod",p.$C({type:O})),(0,c.A)(re,"\u0275inj",p.G2t({providers:[vo,ho],imports:[ke.MD]})),re})()},2214:(Gn,St,k)=>{"use strict";k.d(St,{Dk:()=>c.getApps,KO:()=>c.registerVersion,Sx:()=>c.getApp,Wp:()=>c.initializeApp});var c=k(7852);(0,c.registerVersion)("firebase","10.13.1","app")},7935:(Gn,St,k)=>{"use strict";k.d(St,{A:()=>c.A});var c=k(3345);c.A.registerVersion("firebase","10.13.1","app-compat")},2438:(Gn,St,k)=>{"use strict";var c=k(467),p=k(3345),U=k(576),q=k(1076),ke=(k(7852),k(8041),k(1362));function Re(){return window}function me(){return me=(0,c.A)(function*(Z,x,W){var pe;const{BuildInfo:Fe}=Re();(0,U.au)(x.sessionId,"AuthEvent did not contain a session ID");const Ct=yield function ft(Z){return Ot.apply(this,arguments)}(x.sessionId),zt={};return(0,U.av)()?zt.ibi=Fe.packageName:(0,U.aw)()?zt.apn=Fe.packageName:(0,U.ax)(Z,"operation-not-supported-in-this-environment"),Fe.displayName&&(zt.appDisplayName=Fe.displayName),zt.sessionId=Ct,(0,U.ay)(Z,W,x.type,void 0,null!==(pe=x.eventId)&&void 0!==pe?pe:void 0,zt)}),me.apply(this,arguments)}function Ye(){return(Ye=(0,c.A)(function*(Z){const{BuildInfo:x}=Re(),W={};(0,U.av)()?W.iosBundleId=x.packageName:(0,U.aw)()?W.androidPackageName=x.packageName:(0,U.ax)(Z,"operation-not-supported-in-this-environment"),yield(0,U.az)(Z,W)})).apply(this,arguments)}function gt(){return(gt=(0,c.A)(function*(Z,x,W){const{cordova:pe}=Re();let Fe=()=>{};try{yield new Promise((Ct,zt)=>{let dn=null;function xn(){var Hn;Ct();const wr=null===(Hn=pe.plugins.browsertab)||void 0===Hn?void 0:Hn.close;"function"==typeof wr&&wr(),"function"==typeof(null==W?void 0:W.close)&&W.close()}function An(){dn||(dn=window.setTimeout(()=>{zt((0,U.aB)(Z,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===(null==document?void 0:document.visibilityState)&&An()}x.addPassiveListener(xn),document.addEventListener("resume",An,!1),(0,U.aw)()&&document.addEventListener("visibilitychange",yn,!1),Fe=()=>{x.removePassiveListener(xn),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",yn,!1),dn&&window.clearTimeout(dn)}})}finally{Fe()}})).apply(this,arguments)}function Ot(){return(Ot=(0,c.A)(function*(Z){const x=function Tt(Z){if((0,U.au)(/[0-9a-zA-Z]+/.test(Z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Z);const x=new ArrayBuffer(Z.length),W=new Uint8Array(x);for(let pe=0;pe<Z.length;pe++)W[pe]=Z.charCodeAt(pe);return W}(Z),W=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(W)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Te extends U.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(W=>W(x)),super.onEvent(x)}initialized(){var x=this;return(0,c.A)(function*(){yield x.initPromise})()}}function vt(Z){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.A)(function*(Z){const x=yield Xt()._get(un(Z));return x&&(yield Xt()._remove(un(Z))),x})).apply(this,arguments)}function Et(){const Z=[];for(let W=0;W<20;W++){const pe=Math.floor(62*Math.random());Z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(pe))}return Z.join("")}function Xt(){return(0,U.aE)(U.b)}function un(Z){return(0,U.aF)("authEvent",Z.config.apiKey,Z.name)}function Qn(Z){if(null==Z||!Z.includes("?"))return{};const[x,...W]=Z.split("?");return(0,q.I9)(W.join("?"))}const de=class ee{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(x){var W=this;return(0,c.A)(function*(){const pe=x._key();let Fe=W.eventManagers.get(pe);return Fe||(Fe=new Te(x),W.eventManagers.set(pe,Fe),W.attachCallbackListeners(x,Fe)),Fe})()}_openPopup(x){(0,U.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,W,pe,Fe){var Ct=this;return(0,c.A)(function*(){!function mt(Z){var x,W,pe,Fe,Ct,zt,dn,xn,An,yn;const Hn=Re();(0,U.aC)("function"==typeof(null===(x=null==Hn?void 0:Hn.universalLinks)||void 0===x?void 0:x.subscribe),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aC)(typeof(null===(W=null==Hn?void 0:Hn.BuildInfo)||void 0===W?void 0:W.packageName)<"u",Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aC)("function"==typeof(null===(Ct=null===(Fe=null===(pe=null==Hn?void 0:Hn.cordova)||void 0===pe?void 0:pe.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===Ct?void 0:Ct.openUrl),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(xn=null===(dn=null===(zt=null==Hn?void 0:Hn.cordova)||void 0===zt?void 0:zt.plugins)||void 0===dn?void 0:dn.browsertab)||void 0===xn?void 0:xn.isAvailable),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(yn=null===(An=null==Hn?void 0:Hn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===yn?void 0:yn.open),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const zt=yield Ct._initialize(x);yield zt.initialized(),zt.resetRedirect(),(0,U.aI)(),yield Ct._originValidation(x);const dn=function $e(Z,x,W=null){return{type:x,eventId:W,urlResponse:null,sessionId:Et(),postBody:null,tenantId:Z.tenantId,error:(0,U.aB)(Z,"no-auth-event")}}(x,pe,Fe);yield function ct(Z,x){return Xt()._set(un(Z),x)}(x,dn);const xn=yield function Ve(Z,x,W){return me.apply(this,arguments)}(x,dn,W),An=yield function He(Z){const{cordova:x}=Re();return new Promise(W=>{x.plugins.browsertab.isAvailable(pe=>{let Fe=null;pe?x.plugins.browsertab.openUrl(Z):Fe=x.InAppBrowser.open(Z,(0,U.aA)()?"_blank":"_system","location=yes"),W(Fe)})})}(xn);return function ut(Z,x,W){return gt.apply(this,arguments)}(x,zt,An)})()}_isIframeWebStorageSupported(x,W){throw new Error("Method not implemented.")}_originValidation(x){const W=x._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function We(Z){return Ye.apply(this,arguments)}(x)),this.originValidationPromises[W]}attachCallbackListeners(x,W){const{universalLinks:pe,handleOpenURL:Fe,BuildInfo:Ct}=Re(),zt=setTimeout((0,c.A)(function*(){yield vt(x),W.onEvent(Se())}),500),dn=function(){var yn=(0,c.A)(function*(Hn){clearTimeout(zt);const wr=yield vt(x);let Ai=null;wr&&null!=Hn&&Hn.url&&(Ai=function ae(Z,x){var W,pe;const Fe=function Ft(Z){const x=Qn(Z),W=x.link?decodeURIComponent(x.link):void 0,pe=Qn(W).link,Fe=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Qn(Fe).link||Fe||pe||W||Z}(x);if(Fe.includes("/__/auth/callback")){const Ct=Qn(Fe),zt=Ct.firebaseError?function Ht(Z){try{return JSON.parse(Z)}catch{return null}}(decodeURIComponent(Ct.firebaseError)):null,dn=null===(pe=null===(W=null==zt?void 0:zt.code)||void 0===W?void 0:W.split("auth/"))||void 0===pe?void 0:pe[1],xn=dn?(0,U.aB)(dn):null;return xn?{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,error:xn,urlResponse:null,sessionId:null,postBody:null}:{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,sessionId:Z.sessionId,urlResponse:Fe,postBody:null}}return null}(wr,Hn.url)),W.onEvent(Ai||Se())});return function(wr){return yn.apply(this,arguments)}}();typeof pe<"u"&&"function"==typeof pe.subscribe&&pe.subscribe(null,dn);const xn=Fe,An=`${Ct.packageName.toLowerCase()}://`;Re().handleOpenURL=function(){var yn=(0,c.A)(function*(Hn){if(Hn.toLowerCase().startsWith(An)&&dn({url:Hn}),"function"==typeof xn)try{xn(Hn)}catch(wr){console.error(wr)}});return function(Hn){return yn.apply(this,arguments)}}()}};function Se(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aB)("no-auth-event")}}function nt(){var Z;return(null===(Z=null==self?void 0:self.location)||void 0===Z?void 0:Z.protocol)||null}function Ln(Z=(0,q.ZQ)()){return!("file:"!==nt()&&"ionic:"!==nt()&&"capacitor:"!==nt()||!Z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const Z=self.localStorage,x=U.aN();if(Z)return Z.setItem(x,"1"),Z.removeItem(x),!function gr(Z=(0,q.ZQ)()){return function ir(){return(0,q.lT)()&&11===(null==document?void 0:document.documentMode)}()||function zn(Z=(0,q.ZQ)()){return/Edge\/\d+/.test(Z)}(Z)}()||(0,q.zW)()}catch{return _r()&&(0,q.zW)()}return!1}function _r(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function Vt(){return"http:"===nt()||"https:"===nt()}()||(0,q.sr)()||Ln())&&!function gn(){return(0,q.lV)()||(0,q.Ll)()}()&&Kn()&&!_r()}function Bn(){return Ln()&&typeof document<"u"}function sn(){return(sn=(0,c.A)(function*(){return!!Bn()&&new Promise(Z=>{const x=setTimeout(()=>{Z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),Z(!0)})})})).apply(this,arguments)}const Kt={LOCAL:"local",NONE:"none",SESSION:"session"},vn=U.aC,ln="persistence";function Tr(Z){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.A)(function*(Z){yield Z._initializationPromise;const x=kr(),W=U.aF(ln,Z.config.apiKey,Z.name);x&&x.setItem(W,Z._getPersistence())})).apply(this,arguments)}function kr(){var Z;try{return(null===(Z=function At(){return typeof window<"u"?window:null}())||void 0===Z?void 0:Z.sessionStorage)||null}catch{return null}}const Xr=U.aC;class Dr{constructor(){this.browserResolver=U.aE(U.k),this.cordovaResolver=U.aE(de),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(x){var W=this;return(0,c.A)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,W,pe,Fe){var Ct=this;return(0,c.A)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openPopup(x,W,pe,Fe)})()}_openRedirect(x,W,pe,Fe){var Ct=this;return(0,c.A)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openRedirect(x,W,pe,Fe)})()}_isIframeWebStorageSupported(x,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,W)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Bn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,c.A)(function*(){if(x.underlyingResolver)return;const W=yield function bn(){return sn.apply(this,arguments)}();x.underlyingResolver=W?x.cordovaResolver:x.browserResolver})()}}function yr(Z){return Z.unwrap()}function ri(Z){return Ii(Z)}function Ii(Z){const{_tokenResponse:x}=Z instanceof q.g?Z.customData:Z;if(!x)return null;if(!(Z instanceof q.g)&&"temporaryProof"in x&&"phoneNumber"in x)return U.P.credentialFromResult(Z);const W=x.providerId;if(!W||W===U.p.PASSWORD)return null;let pe;switch(W){case U.p.GOOGLE:pe=U.X;break;case U.p.FACEBOOK:pe=U.W;break;case U.p.GITHUB:pe=U.Y;break;case U.p.TWITTER:pe=U.$;break;default:const{oauthIdToken:Fe,oauthAccessToken:Ct,oauthTokenSecret:zt,pendingToken:dn,nonce:xn}=x;return Ct||zt||Fe||dn?dn?W.startsWith("saml.")?U.aQ._create(W,dn):U.N._fromParams({providerId:W,signInMethod:W,pendingToken:dn,idToken:Fe,accessToken:Ct}):new U.Z(W).credential({idToken:Fe,accessToken:Ct,rawNonce:xn}):null}return Z instanceof q.g?pe.credentialFromError(Z):pe.credentialFromResult(Z)}function rr(Z,x){return x.catch(W=>{throw W instanceof q.g&&function Pr(Z,x){var W;const pe=null===(W=x.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===(null==x?void 0:x.code))x.resolver=new Pt(Z,U.as(Z,x));else if(pe){const Fe=Ii(x),Ct=x;Fe&&(Ct.credential=Fe,Ct.tenantId=pe.tenantId||void 0,Ct.email=pe.email||void 0,Ct.phoneNumber=pe.phoneNumber||void 0)}}(Z,W),W}).then(W=>{const Fe=W.user;return{operationType:W.operationType,credential:ri(W),additionalUserInfo:U.aq(W),user:Vr.getOrCreate(Fe)}})}function br(Z,x){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.A)(function*(Z,x){const W=yield x;return{verificationId:W.verificationId,confirm:pe=>rr(Z,W.confirm(pe))}})).apply(this,arguments)}class Pt{constructor(x,W){this.resolver=W,this.auth=function Hr(Z){return Z.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return rr(yr(this.auth),this.resolver.resolveSignIn(x))}}class Vr{constructor(x){this._delegate=x,this.multiFactor=U.at(x)}static getOrCreate(x){return Vr.USER_MAP.has(x)||Vr.USER_MAP.set(x,new Vr(x)),Vr.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var W=this;return(0,c.A)(function*(){return rr(W.auth,U.a2(W._delegate,x))})()}linkWithPhoneNumber(x,W){var pe=this;return(0,c.A)(function*(){return br(pe.auth,U.l(pe._delegate,x,W))})()}linkWithPopup(x){var W=this;return(0,c.A)(function*(){return rr(W.auth,U.d(W._delegate,x,Dr))})()}linkWithRedirect(x){var W=this;return(0,c.A)(function*(){return yield Tr(U.aJ(W.auth)),U.g(W._delegate,x,Dr)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var W=this;return(0,c.A)(function*(){return rr(W.auth,U.a3(W._delegate,x))})()}reauthenticateWithPhoneNumber(x,W){return br(this.auth,U.r(this._delegate,x,W))}reauthenticateWithPopup(x){return rr(this.auth,U.e(this._delegate,x,Dr))}reauthenticateWithRedirect(x){var W=this;return(0,c.A)(function*(){return yield Tr(U.aJ(W.auth)),U.h(W._delegate,x,Dr)})()}sendEmailVerification(x){return U.ag(this._delegate,x)}unlink(x){var W=this;return(0,c.A)(function*(){return yield U.ap(W._delegate,x),W})()}updateEmail(x){return U.al(this._delegate,x)}updatePassword(x){return U.am(this._delegate,x)}updatePhoneNumber(x){return U.u(this._delegate,x)}updateProfile(x){return U.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,W){return U.ah(this._delegate,x,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vr.USER_MAP=new WeakMap;const mr=U.aC;let yi=(()=>{class Z{constructor(W,pe){if(this.app=W,pe.isInitialized())return this._delegate=pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=W.options;mr(Fe,"invalid-api-key",{appName:W.name}),mr(Fe,"invalid-api-key",{appName:W.name});const Ct=typeof window<"u"?Dr:void 0;this._delegate=pe.initialize({options:{persistence:mi(Fe,W.name),popupRedirectResolver:Ct}}),this._delegate._updateErrorMap(U.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,pe){U.K(this._delegate,W,pe)}applyActionCode(W){return U.a7(this._delegate,W)}checkActionCode(W){return U.a8(this._delegate,W)}confirmPasswordReset(W,pe){return U.a6(this._delegate,W,pe)}createUserWithEmailAndPassword(W,pe){var Fe=this;return(0,c.A)(function*(){return rr(Fe._delegate,U.aa(Fe._delegate,W,pe))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return U.af(this._delegate,W)}isSignInWithEmailLink(W){return U.ad(this._delegate,W)}getRedirectResult(){var W=this;return(0,c.A)(function*(){mr(Xn(),W._delegate,"operation-not-supported-in-this-environment");const pe=yield U.j(W._delegate,Dr);return pe?rr(W._delegate,Promise.resolve(pe)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function he(Z,x){(0,U.aJ)(Z)._logFramework(x)}(this._delegate,W)}onAuthStateChanged(W,pe,Fe){const{next:Ct,error:zt,complete:dn}=Vi(W,pe,Fe);return this._delegate.onAuthStateChanged(Ct,zt,dn)}onIdTokenChanged(W,pe,Fe){const{next:Ct,error:zt,complete:dn}=Vi(W,pe,Fe);return this._delegate.onIdTokenChanged(Ct,zt,dn)}sendSignInLinkToEmail(W,pe){return U.ac(this._delegate,W,pe)}sendPasswordResetEmail(W,pe){return U.a5(this._delegate,W,pe||void 0)}setPersistence(W){var pe=this;return(0,c.A)(function*(){let Fe;switch(function Br(Z,x){vn(Object.values(Kt).includes(x),Z,"invalid-persistence-type"),(0,q.lV)()?vn(x!==Kt.SESSION,Z,"unsupported-persistence-type"):(0,q.Ll)()?vn(x===Kt.NONE,Z,"unsupported-persistence-type"):_r()?vn(x===Kt.NONE||x===Kt.LOCAL&&(0,q.zW)(),Z,"unsupported-persistence-type"):vn(x===Kt.NONE||Kn(),Z,"unsupported-persistence-type")}(pe._delegate,W),W){case Kt.SESSION:Fe=U.a;break;case Kt.LOCAL:Fe=(yield U.aE(U.i)._isAvailable())?U.i:U.b;break;case Kt.NONE:Fe=U.U;break;default:return U.ax("argument-error",{appName:pe._delegate.name})}return pe._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return rr(this._delegate,U.a0(this._delegate))}signInWithCredential(W){return rr(this._delegate,U.a1(this._delegate,W))}signInWithCustomToken(W){return rr(this._delegate,U.a4(this._delegate,W))}signInWithEmailAndPassword(W,pe){return rr(this._delegate,U.ab(this._delegate,W,pe))}signInWithEmailLink(W,pe){return rr(this._delegate,U.ae(this._delegate,W,pe))}signInWithPhoneNumber(W,pe){return br(this._delegate,U.s(this._delegate,W,pe))}signInWithPopup(W){var pe=this;return(0,c.A)(function*(){return mr(Xn(),pe._delegate,"operation-not-supported-in-this-environment"),rr(pe._delegate,U.c(pe._delegate,W,Dr))})()}signInWithRedirect(W){var pe=this;return(0,c.A)(function*(){return mr(Xn(),pe._delegate,"operation-not-supported-in-this-environment"),yield Tr(pe._delegate),U.f(pe._delegate,W,Dr)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return U.a9(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Z.Persistence=Kt,Z})();function Vi(Z,x,W){let pe=Z;"function"!=typeof Z&&({next:pe,error:x,complete:W}=Z);const Fe=pe;return{next:zt=>Fe(zt&&Vr.getOrCreate(zt)),error:x,complete:W}}function mi(Z,x){const W=function mn(Z,x){const W=kr();if(!W)return[];const pe=U.aF(ln,Z,x);switch(W.getItem(pe)){case Kt.NONE:return[U.U];case Kt.LOCAL:return[U.i,U.a];case Kt.SESSION:return[U.a];default:return[]}}(Z,x);if(typeof self<"u"&&!W.includes(U.i)&&W.push(U.i),typeof window<"u")for(const pe of[U.b,U.a])W.includes(pe)||W.push(pe);return W.includes(U.U)||W.push(U.U),W}class Yt{constructor(){this.providerId="phone",this._delegate=new U.P(yr(p.A.auth()))}static credential(x,W){return U.P.credential(x,W)}verifyPhoneNumber(x,W){return this._delegate.verifyPhoneNumber(x,W)}unwrap(){return this._delegate}}Yt.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Yt.PROVIDER_ID=U.P.PROVIDER_ID;const Mt=U.aC;class qt{constructor(x,W,pe=p.A.app()){var Fe;Mt(null===(Fe=pe.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:pe.name}),this._delegate=new U.R(pe.auth(),x,W),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function we(Z){Z.INTERNAL.registerComponent(new ke.uA("auth-compat",x=>{const W=x.getProvider("app-compat").getImmediate(),pe=x.getProvider("auth");return new yi(W,pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.V,FacebookAuthProvider:U.W,GithubAuthProvider:U.Y,GoogleAuthProvider:U.X,OAuthProvider:U.Z,SAMLAuthProvider:U._,PhoneAuthProvider:Yt,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:qt,TwitterAuthProvider:U.$,Auth:yi,AuthCredential:U.L,Error:q.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Z.registerVersion("@firebase/auth-compat","0.5.13")}(p.A)},467:(Gn,St,k)=>{"use strict";function c(U,q,ce,Pe,ke,Re,ot){try{var Ve=U[Re](ot),me=Ve.value}catch(We){return void ce(We)}Ve.done?q(me):Promise.resolve(me).then(Pe,ke)}function p(U){return function(){var q=this,ce=arguments;return new Promise(function(Pe,ke){var Re=U.apply(q,ce);function ot(me){c(Re,Pe,ke,ot,Ve,"next",me)}function Ve(me){c(Re,Pe,ke,ot,Ve,"throw",me)}ot(void 0)})}}k.d(St,{A:()=>p})},9842:(Gn,St,k)=>{"use strict";function c(ce){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Pe){return typeof Pe}:function(Pe){return Pe&&"function"==typeof Symbol&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe})(ce)}function q(ce,Pe,ke){return(Pe=function U(ce){var Pe=function p(ce,Pe){if("object"!=c(ce)||!ce)return ce;var ke=ce[Symbol.toPrimitive];if(void 0!==ke){var Re=ke.call(ce,Pe||"default");if("object"!=c(Re))return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Pe?String:Number)(ce)}(ce,"string");return"symbol"==c(Pe)?Pe:Pe+""}(Pe))in ce?Object.defineProperty(ce,Pe,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ce[Pe]=ke,ce}k.d(St,{A:()=>q})},1635:(Gn,St,k)=>{"use strict";function q(he,Be){var Ke={};for(var it in he)Object.prototype.hasOwnProperty.call(he,it)&&Be.indexOf(it)<0&&(Ke[it]=he[it]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(it=Object.getOwnPropertySymbols(he);nt<it.length;nt++)Be.indexOf(it[nt])<0&&Object.prototype.propertyIsEnumerable.call(he,it[nt])&&(Ke[it[nt]]=he[it[nt]])}return Ke}function ce(he,Be,Ke,it){var Ln,nt=arguments.length,Vt=nt<3?Be:null===it?it=Object.getOwnPropertyDescriptor(Be,Ke):it;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(he,Be,Ke,it);else for(var gn=he.length-1;gn>=0;gn--)(Ln=he[gn])&&(Vt=(nt<3?Ln(Vt):nt>3?Ln(Be,Ke,Vt):Ln(Be,Ke))||Vt);return nt>3&&Vt&&Object.defineProperty(Be,Ke,Vt),Vt}function We(he,Be,Ke,it){return new(Ke||(Ke=Promise))(function(Vt,Ln){function gn(gr){try{zn(it.next(gr))}catch(Kn){Ln(Kn)}}function ir(gr){try{zn(it.throw(gr))}catch(Kn){Ln(Kn)}}function zn(gr){gr.done?Vt(gr.value):function nt(Vt){return Vt instanceof Ke?Vt:new Ke(function(Ln){Ln(Vt)})}(gr.value).then(gn,ir)}zn((it=it.apply(he,Be||[])).next())})}function Qe(he){return this instanceof Qe?(this.v=he,this):new Qe(he)}function Te(he,Be,Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,it=Ke.apply(he,Be||[]),Vt=[];return nt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),gn("next"),gn("throw"),gn("return",function Ln(Xn){return function(Bn){return Promise.resolve(Bn).then(Xn,Kn)}}),nt[Symbol.asyncIterator]=function(){return this},nt;function gn(Xn,Bn){it[Xn]&&(nt[Xn]=function(bn){return new Promise(function(sn,At){Vt.push([Xn,bn,sn,At])>1||ir(Xn,bn)})},Bn&&(nt[Xn]=Bn(nt[Xn])))}function ir(Xn,Bn){try{!function zn(Xn){Xn.value instanceof Qe?Promise.resolve(Xn.value.v).then(gr,Kn):_r(Vt[0][2],Xn)}(it[Xn](Bn))}catch(bn){_r(Vt[0][3],bn)}}function gr(Xn){ir("next",Xn)}function Kn(Xn){ir("throw",Xn)}function _r(Xn,Bn){Xn(Bn),Vt.shift(),Vt.length&&ir(Vt[0][0],Vt[0][1])}}function ct(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Be=he[Symbol.asyncIterator];return Be?Be.call(he):(he=function gt(he){var Be="function"==typeof Symbol&&Symbol.iterator,Ke=Be&&he[Be],it=0;if(Ke)return Ke.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&it>=he.length&&(he=void 0),{value:he&&he[it++],done:!he}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),Ke={},it("next"),it("throw"),it("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke);function it(Vt){Ke[Vt]=he[Vt]&&function(Ln){return new Promise(function(gn,ir){!function nt(Vt,Ln,gn,ir){Promise.resolve(ir).then(function(zn){Vt({value:zn,done:gn})},Ln)}(gn,ir,(Ln=he[Vt](Ln)).done,Ln.value)})}}}k.d(St,{AQ:()=>Te,Cg:()=>ce,N3:()=>Qe,Tt:()=>q,sH:()=>We,xN:()=>ct}),"function"==typeof SuppressedError&&SuppressedError}},Gn=>{Gn(Gn.s=2043)}]);
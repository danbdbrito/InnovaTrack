"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4536],{2543:(F,C,s)=>{s.d(C,{_:()=>v});var _=s(467),a=s(3953),c=s(1977);let v=(()=>{var u;class e{constructor(t){this.ngFireAuth=t}getUserUID(){var t=this;return(0,_.A)(function*(){const r=yield t.ngFireAuth.currentUser;return r?r.uid:null})()}registerUser(t,r,g){var h=this;return(0,_.A)(function*(){const x=yield h.ngFireAuth.createUserWithEmailAndPassword(t,r);return x.user&&(yield x.user.updateProfile({displayName:g})),x})()}loginUser(t,r){var g=this;return(0,_.A)(function*(){return yield g.ngFireAuth.signInWithEmailAndPassword(t,r)})()}resetPassword(t){var r=this;return(0,_.A)(function*(){return yield r.ngFireAuth.sendPasswordResetEmail(t)})()}signOut(){var t=this;return(0,_.A)(function*(){return yield t.ngFireAuth.signOut()})()}getProfile(){var t=this;return(0,_.A)(function*(){const r=yield t.ngFireAuth.currentUser;return r&&!r.displayName&&console.warn("El displayName no est\xe1 configurado en Firebase"),r})()}}return(u=e).\u0275fac=function(t){return new(t||u)(a.KVO(c.DS))},u.\u0275prov=a.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),e})()},4536:(F,C,s)=>{s.r(C),s.d(C,{LoginPageModule:()=>U});var _=s(177),a=s(4341),c=s(4742),v=s(9384),u=s(467),e=s(3953),P=s(2543),t=s(3503);let r=(()=>{var n;class d{constructor(o,i){this.authService=o,this.storageService=i}login(o,i){var m=this;return(0,u.A)(function*(){try{const f=yield m.authService.loginUser(o,i),p=null==f?void 0:f.user;if(p){const y={uid:p.uid,email:p.email,displayName:p.displayName||"Usuario"};return yield m.storageService.set("user",y),yield m.storageService.set("isSessionActive",!0),{success:!0,message:"Inicio de sesi\xf3n exitoso"}}return{success:!1,message:"Credenciales incorrectas"}}catch(f){let p="Correo o Contrase\xf1a incorrectos";return"auth/wrong-password"===f.code&&(p="Contrase\xf1a incorrecta."),{success:!1,message:p}}})()}}return(n=d).\u0275fac=function(o){return new(o||n)(e.KVO(P._),e.KVO(t.n))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),d})();const g=()=>["/reset-password"],h=()=>["/signup"];function x(n,d){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Se requiere su correo "),e.k0s())}function M(n,d){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Su correo debe ser valido "),e.k0s())}function O(n,d){if(1&n&&(e.j41(0,"div"),e.DNE(1,x,2,0,"ion-text",13)(2,M,2,0,"ion-text",13),e.k0s()),2&n){const l=e.XpG();e.R7$(),e.Y8G("ngIf",null==l.errorControl.email.errors?null:l.errorControl.email.errors.required),e.R7$(),e.Y8G("ngIf",null==l.errorControl.email.errors?null:l.errorControl.email.errors.pattern)}}function b(n,d){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Se requiere su contrase\xf1a "),e.k0s())}function E(n,d){1&n&&(e.j41(0,"ion-text"),e.EFF(1," Su contrase\xf1a debe contar con al menos Un Caracter, Una letra Mayuscula, Un numero, Al menos 8 digitos "),e.k0s())}function A(n,d){if(1&n&&(e.j41(0,"div"),e.DNE(1,b,2,0,"ion-text",13)(2,E,2,0,"ion-text",13),e.k0s()),2&n){const l=e.XpG();e.R7$(),e.Y8G("ngIf",null==l.errorControl.password.errors?null:l.errorControl.password.errors.required),e.R7$(),e.Y8G("ngIf",null==l.errorControl.password.errors?null:l.errorControl.password.errors.pattern)}}const L=[{path:"",component:(()=>{var n;class d{constructor(o,i,m,f,p,y,k){this.userLoginCase=o,this.route=i,this.formBuilder=m,this.loadingCtrl=f,this.authService=p,this.toastController=y,this.storageService=k}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[a.k0.required,a.k0.email,a.k0.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$")]],password:["",[a.k0.required,a.k0.pattern("(?=.*d)(?=.*[a-z])(?=.*[0-8])(?=.*[A-Z]).{8,}")]]})}presentToast(o){var i=this;return(0,u.A)(function*(){(yield i.toastController.create({message:o,duration:2e3,position:"top"})).present()})()}get errorControl(){var o;return null===(o=this.loginForm)||void 0===o?void 0:o.controls}login(){var o=this;return(0,u.A)(function*(){var i;const m=yield o.loadingCtrl.create();if(yield m.present(),null!==(i=o.loginForm)&&void 0!==i&&i.valid){const f=o.loginForm.value.email,p=o.loginForm.value.password,y=yield o.userLoginCase.login(f,p);m.dismiss(),y.success?(o.presentToast("Inicio de sesi\xf3n exitoso"),o.route.navigate(["/landing"])):o.presentToast(y.message)}else m.dismiss(),o.presentToast("Formulario inv\xe1lido, Por favor, llene los campos correctamente.")})()}}return(n=d).\u0275fac=function(o){return new(o||n)(e.rXU(r),e.rXU(v.Ix),e.rXU(a.ok),e.rXU(c.Xi),e.rXU(P._),e.rXU(c.K_),e.rXU(t.n))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:35,vars:8,consts:[[3,"fullscreen"],[1,"header"],[1,"title"],[1,"subTitle"],[1,"bird-icon"],[1,"circle1"],["src","assets/Bird-icon.png","alt","bird",1,"bird"],[1,"circle2"],["src","assets/bosque.png","alt","bosque",1,"bosque"],[3,"formGroup"],[1,"ion-padding"],["formControlName","email","placeholder","Correo",1,"input"],["name","person-outline"],[4,"ngIf"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"input"],["name","lock-closed-outline"],[1,"forgotPassword"],[3,"routerLink"],[1,"signupLink"],[3,"click"],["name","chevron-forward"],[1,"content-wrapper"],["src","assets/planta-izq.png","alt","Planta",1,"planta"],["src","assets/planta-der.png","alt","Planta",1,"planta"]],template:function(o,i){1&o&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-title",2),e.EFF(3,"\xa1Bienvenido de vuelta!"),e.k0s(),e.j41(4,"p",3),e.EFF(5," Ingrese con su usuario para acceder a su cuenta"),e.k0s()(),e.j41(6,"div",4)(7,"div",5),e.nrm(8,"img",6),e.k0s(),e.j41(9,"div",7),e.nrm(10,"img",8),e.k0s()(),e.j41(11,"form",9)(12,"div",10)(13,"ion-item"),e.nrm(14,"ion-input",11)(15,"ion-icon",12),e.k0s(),e.DNE(16,O,3,2,"div",13),e.j41(17,"ion-item"),e.nrm(18,"ion-input",14)(19,"ion-icon",15),e.k0s(),e.DNE(20,A,3,2,"div",13),e.j41(21,"div",16)(22,"a",17),e.EFF(23," \xbfOlvidaste tu contrase\xf1a?"),e.k0s()(),e.j41(24,"div",18)(25,"p"),e.EFF(26,"\xbfNuevo usuario?"),e.j41(27,"a",17),e.EFF(28," Registrarse ahora"),e.k0s()()()(),e.j41(29,"ion-fab")(30,"ion-fab-button",19),e.bIt("click",function(){return i.login()}),e.nrm(31,"ion-icon",20),e.k0s()()(),e.j41(32,"div",21),e.nrm(33,"img",22)(34,"img",23),e.k0s()()),2&o&&(e.Y8G("fullscreen",!0),e.R7$(11),e.Y8G("formGroup",i.loginForm),e.R7$(5),e.Y8G("ngIf",(null==i.loginForm.controls?null:i.loginForm.controls.email.touched)&&(null==i.loginForm.controls?null:i.loginForm.controls.email.invalid)),e.R7$(4),e.Y8G("ngIf",(null==i.loginForm.controls?null:i.loginForm.controls.password.touched)&&(null==i.loginForm.controls?null:i.loginForm.controls.password.invalid)),e.R7$(2),e.Y8G("routerLink",e.lJ4(6,g)),e.R7$(5),e.Y8G("routerLink",e.lJ4(7,h)))},dependencies:[_.bT,a.qT,a.BC,a.cb,c.W9,c.Q8,c.YW,c.iq,c.$w,c.uz,c.IO,c.BC,c.Gw,c.oY,a.j4,a.JD,v.Wk],styles:["ion-content[_ngcontent-%COMP%]{position:relative;--background: linear-gradient(180deg, #92C5DA, #C1E4D3, #7EAEAE);box-shadow:0 10px 30px #0000001a;display:flex;justify-content:center;align-items:center;flex-direction:column}.header[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;text-align:center}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;margin:0}.header[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{color:gray;font-size:.9rem}.bird-icon[_ngcontent-%COMP%]{display:flex;width:100%;height:200px;z-index:10;justify-content:center;align-items:center;border:auto;margin-bottom:20px;position:relative}.bird-icon[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{z-index:2;width:200px;height:200px;--background-color: transparent;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;padding-top:10px}.bird-icon[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{z-index:1;width:200px;height:200px;border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 15px #0006;position:absolute;overflow:hidden;background:linear-gradient(170deg,#92c5da,#f6fbee,#f6fbee)}.bird-icon[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]   img.bosque[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:auto}.ion-padding[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}ion-item[_ngcontent-%COMP%]{--background: #f1f1f1;border-radius:10px;margin-bottom:16px;width:95%;display:flex;align-items:center;color:gray;z-index:10}ion-icon[_ngcontent-%COMP%]{color:gray}.input[_ngcontent-%COMP%]{font-size:1rem;text-align:center;z-index:10}.signupLink[_ngcontent-%COMP%], .forgotPassword[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;text-align:center;z-index:10}.signupLink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .forgotPassword[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.signupLink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .forgotPassword[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4a4a4a;text-decoration:none}ion-fab[_ngcontent-%COMP%]{position:absolute;bottom:20px;display:flex;width:100%;justify-content:center}ion-fab-button[_ngcontent-%COMP%]{color:gray;--background: linear-gradient(180deg,#C1E4D3, #7EAEAE);z-index:10}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-height:243px;width:100%;position:absolute;bottom:0;z-index:1;object-fit:none}"]}),d})()}];let w=(()=>{var n;class d{}return(n=d).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[v.iI.forChild(L),v.iI]}),d})(),U=(()=>{var n;class d{}return(n=d).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[_.MD,a.YN,c.bv,a.X1,w]}),d})()},3503:(F,C,s)=>{s.d(C,{n:()=>v});var _=s(467),a=s(3953),c=s(369);let v=(()=>{var u;class e{constructor(t){this.storage=t,this._storage=null,this.init()}init(){var t=this;return(0,_.A)(function*(){const r=yield t.storage.create();t._storage=r})()}set(t,r){var g=this;return(0,_.A)(function*(){var h;return g._storage||(yield g._storage),null===(h=g._storage)||void 0===h?void 0:h.set(t,r)})()}get(t){var r=this;return(0,_.A)(function*(){var g;return r._storage||(yield r.init()),null===(g=r._storage)||void 0===g?void 0:g.get(t)})()}remove(t){var r=this;return(0,_.A)(function*(){var g;return r._storage||(yield r.init()),null===(g=r._storage)||void 0===g?void 0:g.remove(t)})()}clear(){var t=this;return(0,_.A)(function*(){var r;return t._storage||(yield t.init()),null===(r=t._storage)||void 0===r?void 0:r.clear()})()}}return(u=e).\u0275fac=function(t){return new(t||u)(a.KVO(c.w))},u.\u0275prov=a.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),e})()}}]);